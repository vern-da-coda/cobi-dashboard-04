var Zc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var I0=Zc((Qc,ys)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();(function(t){typeof Qc=="object"&&typeof ys<"u"?ys.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).COBI=t()})(function(){return function t(e,r,i){function s(o,c){if(!r[o]){if(!e[o]){var u=typeof require=="function"&&require;if(!c&&u)return u(o,!0);if(a)return a(o,!0);var v=new Error("Cannot find module '"+o+"'");throw v.code="MODULE_NOT_FOUND",v}var g=r[o]={exports:{}};e[o][0].call(g.exports,function(m){return s(e[o][1][m]||m)},g,g.exports,t,e,r,i)}return r[o].exports}for(var a=typeof require=="function"&&require,n=0;n<i.length;n++)s(i[n]);return s}({1:[function(t,e,r){var i=Object.create||function(x){var h=function(){};return h.prototype=x,new h},s=Object.keys||function(x){var h=[];for(var l in x)Object.prototype.hasOwnProperty.call(x,l)&&h.push(l);return l},a=Function.prototype.bind||function(x){var h=this;return function(){return h.apply(x,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0;var o,c=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),o=u.x===0}catch{o=!1}function v(x){return x._maxListeners===void 0?n.defaultMaxListeners:x._maxListeners}function g(x,h,l,f){var b,A,M;if(typeof l!="function")throw new TypeError('"listener" argument must be a function');if((A=x._events)?(A.newListener&&(x.emit("newListener",h,l.listener?l.listener:l),A=x._events),M=A[h]):(A=x._events=i(null),x._eventsCount=0),M){if(typeof M=="function"?M=A[h]=f?[l,M]:[M,l]:f?M.unshift(l):M.push(l),!M.warned&&(b=v(x))&&0<b&&M.length>b){M.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String(h)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=x,C.type=h,C.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else M=A[h]=l,++x._eventsCount;return x}function m(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var x=new Array(arguments.length),h=0;h<x.length;++h)x[h]=arguments[h];this.listener.apply(this.target,x)}}function _(x,h,l){var f={fired:!1,wrapFn:void 0,target:x,type:h,listener:l},b=a.call(m,f);return b.listener=l,f.wrapFn=b}function p(x,h,l){var f=x._events;if(!f)return[];var b=f[h];return b?typeof b=="function"?l?[b.listener||b]:[b]:l?function(A){for(var M=new Array(A.length),C=0;C<M.length;++C)M[C]=A[C].listener||A[C];return M}(b):S(b,b.length):[]}function y(x){var h=this._events;if(h){var l=h[x];if(typeof l=="function")return 1;if(l)return l.length}return 0}function S(x,h){for(var l=new Array(h),f=0;f<h;++f)l[f]=x[f];return l}o?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(x){if(typeof x!="number"||x<0||x!=x)throw new TypeError('"defaultMaxListeners" must be a positive number');c=x}}):n.defaultMaxListeners=c,n.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||isNaN(x))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=x,this},n.prototype.getMaxListeners=function(){return v(this)},n.prototype.emit=function(x){var h,l,f,b,A,M,C=x==="error";if(M=this._events)C=C&&M.error==null;else if(!C)return!1;if(C){if(1<arguments.length&&(h=arguments[1]),h instanceof Error)throw h;var E=new Error('Unhandled "error" event. ('+h+")");throw E.context=h,E}if(!(l=M[x]))return!1;var P=typeof l=="function";switch(f=arguments.length){case 1:(function(F,O,d){if(O)F.call(d);else for(var w=F.length,T=S(F,w),R=0;R<w;++R)T[R].call(d)})(l,P,this);break;case 2:(function(F,O,d,w){if(O)F.call(d,w);else for(var T=F.length,R=S(F,T),k=0;k<T;++k)R[k].call(d,w)})(l,P,this,arguments[1]);break;case 3:(function(F,O,d,w,T){if(O)F.call(d,w,T);else for(var R=F.length,k=S(F,R),L=0;L<R;++L)k[L].call(d,w,T)})(l,P,this,arguments[1],arguments[2]);break;case 4:(function(F,O,d,w,T,R){if(O)F.call(d,w,T,R);else for(var k=F.length,L=S(F,k),G=0;G<k;++G)L[G].call(d,w,T,R)})(l,P,this,arguments[1],arguments[2],arguments[3]);break;default:for(b=new Array(f-1),A=1;A<f;A++)b[A-1]=arguments[A];(function(F,O,d,w){if(O)F.apply(d,w);else for(var T=F.length,R=S(F,T),k=0;k<T;++k)R[k].apply(d,w)})(l,P,this,b)}return!0},n.prototype.on=n.prototype.addListener=function(x,h){return g(this,x,h,!1)},n.prototype.prependListener=function(x,h){return g(this,x,h,!0)},n.prototype.once=function(x,h){if(typeof h!="function")throw new TypeError('"listener" argument must be a function');return this.on(x,_(this,x,h)),this},n.prototype.prependOnceListener=function(x,h){if(typeof h!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(x,_(this,x,h)),this},n.prototype.removeListener=function(x,h){var l,f,b,A,M;if(typeof h!="function")throw new TypeError('"listener" argument must be a function');if(!(f=this._events))return this;if(!(l=f[x]))return this;if(l===h||l.listener===h)--this._eventsCount==0?this._events=i(null):(delete f[x],f.removeListener&&this.emit("removeListener",x,l.listener||h));else if(typeof l!="function"){for(b=-1,A=l.length-1;0<=A;A--)if(l[A]===h||l[A].listener===h){M=l[A].listener,b=A;break}if(b<0)return this;b===0?l.shift():function(C,E){for(var P=E,F=P+1,O=C.length;F<O;P+=1,F+=1)C[P]=C[F];C.pop()}(l,b),l.length===1&&(f[x]=l[0]),f.removeListener&&this.emit("removeListener",x,M||h)}return this},n.prototype.removeAllListeners=function(x){var h,l,f;if(!(l=this._events))return this;if(!l.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):l[x]&&(--this._eventsCount==0?this._events=i(null):delete l[x]),this;if(arguments.length===0){var b,A=s(l);for(f=0;f<A.length;++f)(b=A[f])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(h=l[x])=="function")this.removeListener(x,h);else if(h)for(f=h.length-1;0<=f;f--)this.removeListener(x,h[f]);return this},n.prototype.listeners=function(x){return p(this,x,!0)},n.prototype.rawListeners=function(x){return p(this,x,!1)},n.listenerCount=function(x,h){return typeof x.listenerCount=="function"?x.listenerCount(h):y.call(x,h)},n.prototype.listenerCount=y,n.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],2:[function(t,e,r){var i,s,a=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(x){if(i===setTimeout)return setTimeout(x,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(x,0);try{return i(x,0)}catch{try{return i.call(null,x,0)}catch{return i.call(this,x,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:n}catch{i=n}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var u,v=[],g=!1,m=-1;function _(){g&&u&&(g=!1,u.length?v=u.concat(v):m=-1,v.length&&p())}function p(){if(!g){var x=c(_);g=!0;for(var h=v.length;h;){for(u=v,v=[];++m<h;)u&&u[m].run();m=-1,h=v.length}u=null,g=!1,function(l){if(s===clearTimeout)return clearTimeout(l);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(l);try{s(l)}catch{try{return s.call(null,l)}catch{return s.call(this,l)}}}(x)}}function y(x,h){this.fun=x,this.array=h}function S(){}a.nextTick=function(x){var h=new Array(arguments.length-1);if(1<arguments.length)for(var l=1;l<arguments.length;l++)h[l-1]=arguments[l];v.push(new y(x,h)),v.length!==1||g||c(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=S,a.addListener=S,a.once=S,a.off=S,a.removeListener=S,a.removeAllListeners=S,a.emit=S,a.prependListener=S,a.prependOnceListener=S,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],3:[function(t,e,r){var i=t("./core");e.exports.read=function(s,a){a!==void 0&&i.emitter.once(s,a),i.sendMessage({action:"READ",path:s})},e.exports.write=function(s,a,n){n!==void 0&&i.emitter.once(s,n),i.sendMessage({action:"WRITE",path:s,payload:a})},e.exports.subscribe=function(s,a){i.getAuthentication()!==null&&console.log("attempt to subscribe a listener without initializing the COBI.js library"),i.emitter.addListener(s,a)},e.exports.unsubscribe=function(s,a){a!==void 0?i.emitter.removeListener(s,a):i.emitter.removeAllListeners(s)}},{"./core":5}],4:[function(t,e,r){var i=t("./core"),s=t("./action"),a={specVersion:"0.44.0",__emitter:i.emitter,__authentication:i.getAuthentication,init:function(n){return i.init(n,a.specVersion)},__authenticated:i.receiveAuthentication,__receiveMessage:i.receiveMessage,parameters:{language:function(){return i.getUrlParameter("language")||"en-US"},state:function(){return console.warn("COBI.parameters.state() is deprecated !! ... please use COBI.parameters.context() instead"),i.getUrlParameter("state")||a.state.experience},context:function(){var n=i.getUrlParameter("context"),o=i.getUrlParameter("state");if(n!=null)return n;if(o!=null)switch(o){case a.state.experience:return a.context.onRide;case a.state.edit:return a.context.offRideSettings}return a.context.offRide},nativeSdkVersion:function(){return i.getUrlParameter("version")||a.specVersion}},state:{experience:"experience",edit:"edit",overview:"overview"},context:{onRide:"onRide",offRide:"offRide",onRideSettings:"onRideSettings",offRideSettings:"offRideSettings"},app:{theme:{subscribe:function(n){return s.subscribe("app/theme",n)},unsubscribe:function(n){return s.unsubscribe("app/theme",n)}},textToSpeech:{write:function(n,o){return s.write("app/textToSpeech",n,o)}},readLater:{write:function(n,o){return s.write("app/readLater",n,o)}},language:{subscribe:function(n){return s.subscribe("app/language",n)},unsubscribe:function(n){return s.unsubscribe("app/language",n)}},contact:{read:function(n){return s.read("app/contact",n)}},touchInteractionEnabled:{subscribe:function(n){return s.subscribe("app/touchInteractionEnabled",n)},unsubscribe:function(n){return s.unsubscribe("app/touchInteractionEnabled",n)}},hubLocation:{read:function(n){return s.read("app/hubLocation",n)},subscribe:function(n){return s.subscribe("app/hubLocation",n)},unsubscribe:function(n){return s.unsubscribe("app/hubLocation",n)}},clockVisible:{write:function(n,o){return s.write("app/clockVisible",n,o)}},isDark:{read:function(n){return s.read("app/isDark",n)},subscribe:function(n){return s.subscribe("app/isDark",n)},unsubscribe:function(n){return s.unsubscribe("app/isDark",n)}},isHubConnected:{read:function(n){return s.read("app/isHubConnected",n)},subscribe:function(n){return s.subscribe("app/isHubConnected",n)},unsubscribe:function(n){return s.unsubscribe("app/isHubConnected",n)}}},hub:{motorInterfaceReady:{read:function(n){return s.read("hub/motorInterfaceReady",n)},subscribe:function(n){return s.subscribe("hub/motorInterfaceReady",n)},unsubscribe:function(n){return s.unsubscribe("hub/motorInterfaceReady",n)}},bellRinging:{subscribe:function(n){return s.subscribe("hub/bellRinging",n)},unsubscribe:function(n){return s.unsubscribe("hub/bellRinging",n)}},externalInterfaceAction:{subscribe:function(n){return s.subscribe("hub/externalInterfaceAction",n)},unsubscribe:function(n){return s.unsubscribe("hub/externalInterfaceAction",n)}},ambientLightState:{read:function(n){return s.read("hub/ambientLightState",n)},subscribe:function(n){return s.subscribe("hub/ambientLightState",n)},unsubscribe:function(n){return s.unsubscribe("hub/ambientLightState",n)}}},battery:{state:{read:function(n){return s.read("battery/state",n)},subscribe:function(n){return s.subscribe("battery/state",n)},unsubscribe:function(n){return s.unsubscribe("battery/state",n)}}},motor:{distance:{read:function(n){return s.read("motor/distance",n)},subscribe:function(n){return s.subscribe("motor/distance",n)},unsubscribe:function(n){return s.unsubscribe("motor/distance",n)}},assistanceIndicator:{read:function(n){return s.read("motor/assistanceIndicator",n)},subscribe:function(n){return s.subscribe("motor/assistanceIndicator",n)},unsubscribe:function(n){return s.unsubscribe("motor/assistanceIndicator",n)}},range:{read:function(n){return s.read("motor/range",n)},subscribe:function(n){return s.subscribe("motor/range",n)},unsubscribe:function(n){return s.unsubscribe("motor/range",n)}},supportedDriveModes:{read:function(n){return s.read("motor/supportedDriveModes",n)},subscribe:function(n){return s.subscribe("motor/supportedDriveModes",n)},unsubscribe:function(n){return s.unsubscribe("motor/supportedDriveModes",n)}},driveMode:{read:function(n){return s.read("motor/driveMode",n)},subscribe:function(n){return s.subscribe("motor/driveMode",n)},unsubscribe:function(n){return s.unsubscribe("motor/driveMode",n)}},nextService:{read:function(n){return s.read("motor/nextService",n)},subscribe:function(n){return s.subscribe("motor/nextService",n)},unsubscribe:function(n){return s.unsubscribe("motor/nextService",n)}}},mobile:{location:{read:function(n){return s.read("mobile/location",n)},subscribe:function(n){return s.subscribe("mobile/location",n)},unsubscribe:function(n){return s.unsubscribe("mobile/location",n)}},heading:{subscribe:function(n){return s.subscribe("mobile/heading",n)},unsubscribe:function(n){return s.unsubscribe("mobile/heading",n)}},locationAvailability:{subscribe:function(n){return s.subscribe("mobile/locationAvailability",n)},unsubscribe:function(n){return s.unsubscribe("mobile/locationAvailability",n)}}},navigationService:{route:{subscribe:function(n){return s.subscribe("navigationService/route",n)},unsubscribe:function(n){return s.unsubscribe("navigationService/route",n)}},eta:{subscribe:function(n){return s.subscribe("navigationService/eta",n)},unsubscribe:function(n){return s.unsubscribe("navigationService/eta",n)}},distanceToDestination:{subscribe:function(n){return s.subscribe("navigationService/distanceToDestination",n)},unsubscribe:function(n){return s.unsubscribe("navigationService/distanceToDestination",n)}},status:{subscribe:function(n){return s.subscribe("navigationService/status",n)},unsubscribe:function(n){return s.unsubscribe("navigationService/status",n)}},control:{write:function(n,o){return s.write("navigationService/control",n,o)}}},user:{temperatureUnit:{subscribe:function(n){return s.subscribe("user/temperatureUnit",n)},unsubscribe:function(n){return s.unsubscribe("user/temperatureUnit",n)}},lengthUnit:{subscribe:function(n){return s.subscribe("user/lengthUnit",n)},unsubscribe:function(n){return s.unsubscribe("user/lengthUnit",n)}}},bike:{type:{read:function(n){return s.read("bike/type",n)},subscribe:function(n){return s.subscribe("bike/type",n)},unsubscribe:function(n){return s.unsubscribe("bike/type",n)}}},rideService:{speed:{subscribe:function(n){return s.subscribe("rideService/speed",n)},unsubscribe:function(n){return s.unsubscribe("rideService/speed",n)}},userPower:{subscribe:function(n){return s.subscribe("rideService/userPower",n)},unsubscribe:function(n){return s.unsubscribe("rideService/userPower",n)}},userPowerAvailability:{subscribe:function(n){return s.subscribe("rideService/userPowerAvailability",n)},unsubscribe:function(n){return s.unsubscribe("rideService/userPowerAvailability",n)}},heartRate:{subscribe:function(n){return s.subscribe("rideService/heartRate",n)},unsubscribe:function(n){return s.unsubscribe("rideService/heartRate",n)}},heartRateAvailability:{subscribe:function(n){return s.subscribe("rideService/heartRateAvailability",n)},unsubscribe:function(n){return s.unsubscribe("rideService/heartRateAvailability",n)}},cadence:{subscribe:function(n){return s.subscribe("rideService/cadence",n)},unsubscribe:function(n){return s.unsubscribe("rideService/cadence",n)}},cadenceAvailability:{subscribe:function(n){return s.subscribe("rideService/cadenceAvailability",n)},unsubscribe:function(n){return s.unsubscribe("rideService/cadenceAvailability",n)}}},tourService:{calories:{subscribe:function(n){return s.subscribe("tourService/calories",n)},unsubscribe:function(n){return s.unsubscribe("tourService/calories",n)}},ascent:{subscribe:function(n){return s.subscribe("tourService/ascent",n)},unsubscribe:function(n){return s.unsubscribe("tourService/ascent",n)}},ridingDistance:{subscribe:function(n){return s.subscribe("tourService/ridingDistance",n)},unsubscribe:function(n){return s.unsubscribe("tourService/ridingDistance",n)}},ridingDuration:{subscribe:function(n){return s.subscribe("tourService/ridingDuration",n)},unsubscribe:function(n){return s.unsubscribe("tourService/ridingDuration",n)}},averageSpeed:{subscribe:function(n){return s.subscribe("tourService/averageSpeed",n)},unsubscribe:function(n){return s.unsubscribe("tourService/averageSpeed",n)}}},devkit:{close:{write:function(n,o){return s.write("devkit/close",n,o)}},overrideThumbControllerMapping:{write:function(n,o){return s.write("devkit/overrideThumbControllerMapping",n,o)}}}};e.exports=a},{"./action":3,"./core":5}],5:[function(t,e,r){(function(i,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n=new(t("events")),o=null;function c(){return s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.cobiAuth&&s.webkit.messageHandlers.cobiAuth.postMessage?"ios":s.cobijsAndroidImpl&&s.cobijsAndroidImpl.messageFromJs?"android":(i===void 0?"undefined":a(i))==="object"&&i.toString()==="[object process]"?"node":void 0}e.exports.emitter=n,e.exports.getAuthentication=function(){return o},e.exports.init=function(u,v){c()!=null?n.emit("auth",{token:u,version:v}):(console.log("COBI.init failed. Retrying in 500 milliseconds"),setTimeout(function(){return e.exports.init(u,v)},500))},e.exports.receiveAuthentication=function(u){u&&u.confirmed&&u.apiKey?(console.log("COBI.js authenticated"),o=u):console.error("Invalid COBI.js authentication: "+JSON.stringify(u))},e.exports.receiveMessage=function(u){var v=new Date(u.timestamp||Date.now());n.emit(u.path,u.payload,v)},e.exports.sendMessage=function(u){var v=c();return o&&o.apiKey===null?(console.log("COBI.js message couldn't not be sent: missing authentication key. Retrying in 500 milliseconds"),setTimeout(function(){return e.exports.sendMessage(u)},500)):v==null?(console.log("COBI.js could not send your message. Retrying in 500 milliseconds"),setTimeout(function(){return e.exports.sendMessage(u)},500)):void n.emit("shell",u)},e.exports.getUrlParameter=function(u){var v=new RegExp("[?|&]"+u+"=([^&;]+?)(&|#|;|$)").exec(s.location.search);return v!==null?v[1].replace(/\+/g,"%20"):null},n.on("auth",function(u){return s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.cobiAuth&&s.webkit.messageHandlers.cobiAuth.postMessage?s.webkit.messageHandlers.cobiAuth.postMessage(u):s.cobijsAndroidImpl&&s.cobijsAndroidImpl.messageFromJs?s.cobijsAndroidImpl.messageFromJs("cobiAuth",JSON.stringify(u)):void 0}),n.on("shell",function(u){return s.webkit&&s.webkit.messageHandlers&&s.webkit.messageHandlers.cobiAuth&&s.webkit.messageHandlers.cobiAuth.postMessage?s.webkit.messageHandlers.cobiShell.postMessage(u):s.cobijsAndroidImpl&&s.cobijsAndroidImpl.messageFromJs?s.cobijsAndroidImpl.messageFromJs("cobiShell",JSON.stringify(u)):void 0})}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:2,events:1}]},{},[4])(4)});function ui(t,e){const r=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)r[i[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const bt={},er=[],Zt=()=>{},tu=()=>!1,eu=/^on[^a-z]/,Pn=t=>eu.test(t),Ss=t=>t.startsWith("onUpdate:"),wt=Object.assign,Cs=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},ru=Object.prototype.hasOwnProperty,_t=(t,e)=>ru.call(t,e),it=Array.isArray,rr=t=>dr(t)==="[object Map]",$e=t=>dr(t)==="[object Set]",aa=t=>dr(t)==="[object Date]",nu=t=>dr(t)==="[object RegExp]",ut=t=>typeof t=="function",xt=t=>typeof t=="string",or=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",ws=t=>(yt(t)||ut(t))&&ut(t.then)&&ut(t.catch),Qo=Object.prototype.toString,dr=t=>Qo.call(t),iu=t=>dr(t).slice(8,-1),Zo=t=>dr(t)==="[object Object]",xs=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,cn=ui(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hi=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},su=/-(\w)/g,Bt=hi(t=>t.replace(su,(e,r)=>r?r.toUpperCase():"")),au=/\B([A-Z])/g,Yt=hi(t=>t.replace(au,"-$1").toLowerCase()),Tn=hi(t=>t.charAt(0).toUpperCase()+t.slice(1)),un=hi(t=>t?`on${Tn(t)}`:""),Ee=(t,e)=>!Object.is(t,e),nr=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Zn=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},ti=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ei=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let oa;const Ji=()=>oa||(oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ou="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",lu=ui(ou);function En(t){if(it(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=xt(i)?fu(i):En(i);if(s)for(const a in s)e[a]=s[a]}return e}else if(xt(t)||yt(t))return t}const cu=/;(?![^(]*\))/g,uu=/:([^]+)/,hu=/\/\*[^]*?\*\//g;function fu(t){const e={};return t.replace(hu,"").split(cu).forEach(r=>{if(r){const i=r.split(uu);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function An(t){let e="";if(xt(t))e=t;else if(it(t))for(let r=0;r<t.length;r++){const i=An(t[r]);i&&(e+=i+" ")}else if(yt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function du(t){if(!t)return null;let{class:e,style:r}=t;return e&&!xt(e)&&(t.class=An(e)),r&&(t.style=En(r)),t}const gu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pu=ui(gu);function tl(t){return!!t||t===""}function vu(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Ae(t[i],e[i]);return r}function Ae(t,e){if(t===e)return!0;let r=aa(t),i=aa(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=or(t),i=or(e),r||i)return t===e;if(r=it(t),i=it(e),r||i)return r&&i?vu(t,e):!1;if(r=yt(t),i=yt(e),r||i){if(!r||!i)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const n in t){const o=t.hasOwnProperty(n),c=e.hasOwnProperty(n);if(o&&!c||!o&&c||!Ae(t[n],e[n]))return!1}}return String(t)===String(e)}function fi(t,e){return t.findIndex(r=>Ae(r,e))}const el=t=>xt(t)?t:t==null?"":it(t)||yt(t)&&(t.toString===Qo||!ut(t.toString))?JSON.stringify(t,rl,2):String(t),rl=(t,e)=>e&&e.__v_isRef?rl(t,e.value):rr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,s])=>(r[`${i} =>`]=s,r),{})}:$e(e)?{[`Set(${e.size})`]:[...e.values()]}:yt(e)&&!it(e)&&!Zo(e)?String(e):e;let qt;class Ps{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=qt;try{return qt=this,e()}finally{qt=r}}}on(){qt=this}off(){qt=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ts(t){return new Ps(t)}function nl(t,e=qt){e&&e.active&&e.effects.push(t)}function Es(){return qt}function il(t){qt&&qt.cleanups.push(t)}const As=t=>{const e=new Set(t);return e.w=0,e.n=0,e},sl=t=>(t.w&Re)>0,al=t=>(t.n&Re)>0,_u=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Re},mu=t=>{const{deps:e}=t;if(e.length){let r=0;for(let i=0;i<e.length;i++){const s=e[i];sl(s)&&!al(s)?s.delete(t):e[r++]=s,s.w&=~Re,s.n&=~Re}e.length=r}},ri=new WeakMap;let an=0,Re=1;const Qi=30;let Jt;const Ve=Symbol(""),Zi=Symbol("");class lr{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,nl(this,i)}run(){if(!this.active)return this.fn();let e=Jt,r=Ce;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Jt,Jt=this,Ce=!0,Re=1<<++an,an<=Qi?_u(this):la(this),this.fn()}finally{an<=Qi&&mu(this),Re=1<<--an,Jt=this.parent,Ce=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(la(this),this.onStop&&this.onStop(),this.active=!1)}}function la(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function bu(t,e){t.effect instanceof lr&&(t=t.effect.fn);const r=new lr(t);e&&(wt(r,e),e.scope&&nl(r,e.scope)),(!e||!e.lazy)&&r.run();const i=r.run.bind(r);return i.effect=r,i}function yu(t){t.effect.stop()}let Ce=!0;const ol=[];function gr(){ol.push(Ce),Ce=!1}function pr(){const t=ol.pop();Ce=t===void 0?!0:t}function Vt(t,e,r){if(Ce&&Jt){let i=ri.get(t);i||ri.set(t,i=new Map);let s=i.get(r);s||i.set(r,s=As()),ll(s)}}function ll(t,e){let r=!1;an<=Qi?al(t)||(t.n|=Re,r=!sl(t)):r=!t.has(Jt),r&&(t.add(Jt),Jt.deps.push(t))}function ce(t,e,r,i,s,a){const n=ri.get(t);if(!n)return;let o=[];if(e==="clear")o=[...n.values()];else if(r==="length"&&it(t)){const c=Number(i);n.forEach((u,v)=>{(v==="length"||!or(v)&&v>=c)&&o.push(u)})}else switch(r!==void 0&&o.push(n.get(r)),e){case"add":it(t)?xs(r)&&o.push(n.get("length")):(o.push(n.get(Ve)),rr(t)&&o.push(n.get(Zi)));break;case"delete":it(t)||(o.push(n.get(Ve)),rr(t)&&o.push(n.get(Zi)));break;case"set":rr(t)&&o.push(n.get(Ve));break}if(o.length===1)o[0]&&ts(o[0]);else{const c=[];for(const u of o)u&&c.push(...u);ts(As(c))}}function ts(t,e){const r=it(t)?t:[...t];for(const i of r)i.computed&&ca(i);for(const i of r)i.computed||ca(i)}function ca(t,e){(t!==Jt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Su(t,e){var r;return(r=ri.get(t))==null?void 0:r.get(e)}const Cu=ui("__proto__,__v_isRef,__isVue"),cl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(or)),ua=wu();function wu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=pt(this);for(let a=0,n=this.length;a<n;a++)Vt(i,"get",a+"");const s=i[e](...r);return s===-1||s===!1?i[e](...r.map(pt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){gr();const i=pt(this)[e].apply(this,r);return pr(),i}}),t}function xu(t){const e=pt(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class ul{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,i){const s=this._isReadonly,a=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return a;if(r==="__v_raw"&&i===(s?a?vl:pl:a?gl:dl).get(e))return e;const n=it(e);if(!s){if(n&&_t(ua,r))return Reflect.get(ua,r,i);if(r==="hasOwnProperty")return xu}const o=Reflect.get(e,r,i);return(or(r)?cl.has(r):Cu(r))||(s||Vt(e,"get",r),a)?o:Pt(o)?n&&xs(r)?o:o.value:yt(o)?s?Fs(o):Rn(o):o}}class hl extends ul{constructor(e=!1){super(!1,e)}set(e,r,i,s){let a=e[r];if(Ke(a)&&Pt(a)&&!Pt(i))return!1;if(!this._shallow&&(!vn(i)&&!Ke(i)&&(a=pt(a),i=pt(i)),!it(e)&&Pt(a)&&!Pt(i)))return a.value=i,!0;const n=it(e)&&xs(r)?Number(r)<e.length:_t(e,r),o=Reflect.set(e,r,i,s);return e===pt(s)&&(n?Ee(i,a)&&ce(e,"set",r,i):ce(e,"add",r,i)),o}deleteProperty(e,r){const i=_t(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&i&&ce(e,"delete",r,void 0),s}has(e,r){const i=Reflect.has(e,r);return(!or(r)||!cl.has(r))&&Vt(e,"has",r),i}ownKeys(e){return Vt(e,"iterate",it(e)?"length":Ve),Reflect.ownKeys(e)}}class fl extends ul{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Pu=new hl,Tu=new fl,Eu=new hl(!0),Au=new fl(!0),Rs=t=>t,di=t=>Reflect.getPrototypeOf(t);function Gn(t,e,r=!1,i=!1){t=t.__v_raw;const s=pt(t),a=pt(e);r||(Ee(e,a)&&Vt(s,"get",e),Vt(s,"get",a));const{has:n}=di(s),o=i?Rs:r?Os:_n;if(n.call(s,e))return o(t.get(e));if(n.call(s,a))return o(t.get(a));t!==s&&t.get(e)}function Un(t,e=!1){const r=this.__v_raw,i=pt(r),s=pt(t);return e||(Ee(t,s)&&Vt(i,"has",t),Vt(i,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function Bn(t,e=!1){return t=t.__v_raw,!e&&Vt(pt(t),"iterate",Ve),Reflect.get(t,"size",t)}function ha(t){t=pt(t);const e=pt(this);return di(e).has.call(e,t)||(e.add(t),ce(e,"add",t,t)),this}function fa(t,e){e=pt(e);const r=pt(this),{has:i,get:s}=di(r);let a=i.call(r,t);a||(t=pt(t),a=i.call(r,t));const n=s.call(r,t);return r.set(t,e),a?Ee(e,n)&&ce(r,"set",t,e):ce(r,"add",t,e),this}function da(t){const e=pt(this),{has:r,get:i}=di(e);let s=r.call(e,t);s||(t=pt(t),s=r.call(e,t)),i&&i.call(e,t);const a=e.delete(t);return s&&ce(e,"delete",t,void 0),a}function ga(){const t=pt(this),e=t.size!==0,r=t.clear();return e&&ce(t,"clear",void 0,void 0),r}function Vn(t,e){return function(i,s){const a=this,n=a.__v_raw,o=pt(n),c=e?Rs:t?Os:_n;return!t&&Vt(o,"iterate",Ve),n.forEach((u,v)=>i.call(s,c(u),c(v),a))}}function Hn(t,e,r){return function(...i){const s=this.__v_raw,a=pt(s),n=rr(a),o=t==="entries"||t===Symbol.iterator&&n,c=t==="keys"&&n,u=s[t](...i),v=r?Rs:e?Os:_n;return!e&&Vt(a,"iterate",c?Zi:Ve),{next(){const{value:g,done:m}=u.next();return m?{value:g,done:m}:{value:o?[v(g[0]),v(g[1])]:v(g),done:m}},[Symbol.iterator](){return this}}}}function pe(t){return function(...e){return t==="delete"?!1:this}}function Ru(){const t={get(a){return Gn(this,a)},get size(){return Bn(this)},has:Un,add:ha,set:fa,delete:da,clear:ga,forEach:Vn(!1,!1)},e={get(a){return Gn(this,a,!1,!0)},get size(){return Bn(this)},has:Un,add:ha,set:fa,delete:da,clear:ga,forEach:Vn(!1,!0)},r={get(a){return Gn(this,a,!0)},get size(){return Bn(this,!0)},has(a){return Un.call(this,a,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Vn(!0,!1)},i={get(a){return Gn(this,a,!0,!0)},get size(){return Bn(this,!0)},has(a){return Un.call(this,a,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Vn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Hn(a,!1,!1),r[a]=Hn(a,!0,!1),e[a]=Hn(a,!1,!0),i[a]=Hn(a,!0,!0)}),[t,r,e,i]}const[Fu,Mu,Ou,ku]=Ru();function gi(t,e){const r=e?t?ku:Ou:t?Mu:Fu;return(i,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(_t(r,s)&&s in i?r:i,s,a)}const Nu={get:gi(!1,!1)},Lu={get:gi(!1,!0)},Iu={get:gi(!0,!1)},Du={get:gi(!0,!0)},dl=new WeakMap,gl=new WeakMap,pl=new WeakMap,vl=new WeakMap;function Gu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uu(t){return t.__v_skip||!Object.isExtensible(t)?0:Gu(iu(t))}function Rn(t){return Ke(t)?t:pi(t,!1,Pu,Nu,dl)}function _l(t){return pi(t,!1,Eu,Lu,gl)}function Fs(t){return pi(t,!0,Tu,Iu,pl)}function Bu(t){return pi(t,!0,Au,Du,vl)}function pi(t,e,r,i,s){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const n=Uu(t);if(n===0)return t;const o=new Proxy(t,n===2?i:r);return s.set(t,o),o}function ue(t){return Ke(t)?ue(t.__v_raw):!!(t&&t.__v_isReactive)}function Ke(t){return!!(t&&t.__v_isReadonly)}function vn(t){return!!(t&&t.__v_isShallow)}function Ms(t){return ue(t)||Ke(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Fn(t){return Zn(t,"__v_skip",!0),t}const _n=t=>yt(t)?Rn(t):t,Os=t=>yt(t)?Fs(t):t;function ks(t){Ce&&Jt&&(t=pt(t),ll(t.dep||(t.dep=As())))}function vi(t,e){t=pt(t);const r=t.dep;r&&ts(r)}function Pt(t){return!!(t&&t.__v_isRef===!0)}function we(t){return ml(t,!1)}function Vu(t){return ml(t,!0)}function ml(t,e){return Pt(t)?t:new Hu(t,e)}class Hu{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:pt(e),this._value=r?e:_n(e)}get value(){return ks(this),this._value}set value(e){const r=this.__v_isShallow||vn(e)||Ke(e);e=r?e:pt(e),Ee(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:_n(e),vi(this))}}function ju(t){vi(t)}function _i(t){return Pt(t)?t.value:t}function Ku(t){return ut(t)?t():_i(t)}const qu={get:(t,e,r)=>_i(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const s=t[e];return Pt(s)&&!Pt(r)?(s.value=r,!0):Reflect.set(t,e,r,i)}};function Ns(t){return ue(t)?t:new Proxy(t,qu)}class Wu{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=e(()=>ks(this),()=>vi(this));this._get=r,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function zu(t){return new Wu(t)}function bl(t){const e=it(t)?new Array(t.length):{};for(const r in t)e[r]=yl(t,r);return e}class $u{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Su(pt(this._object),this._key)}}class Yu{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Xu(t,e,r){return Pt(t)?t:ut(t)?new Yu(t):yt(t)&&arguments.length>1?yl(t,e,r):we(t)}function yl(t,e,r){const i=t[e];return Pt(i)?i:new $u(t,e,r)}class Ju{constructor(e,r,i,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new lr(e,()=>{this._dirty||(this._dirty=!0,vi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=pt(this);return ks(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Qu(t,e,r=!1){let i,s;const a=ut(t);return a?(i=t,s=Zt):(i=t.get,s=t.set),new Ju(i,s,a||!s,r)}function Zu(t,...e){}function th(t,e){}function he(t,e,r,i){let s;try{s=i?t(...i):t()}catch(a){Ye(a,e,r)}return s}function zt(t,e,r,i){if(ut(t)){const a=he(t,e,r,i);return a&&ws(a)&&a.catch(n=>{Ye(n,e,r)}),a}const s=[];for(let a=0;a<t.length;a++)s.push(zt(t[a],e,r,i));return s}function Ye(t,e,r,i=!0){const s=e?e.vnode:null;if(e){let a=e.parent;const n=e.proxy,o=r;for(;a;){const u=a.ec;if(u){for(let v=0;v<u.length;v++)if(u[v](t,n,o)===!1)return}a=a.parent}const c=e.appContext.config.errorHandler;if(c){he(c,null,10,[t,n,o]);return}}eh(t,r,s,i)}function eh(t,e,r,i=!0){console.error(t)}let mn=!1,es=!1;const Nt=[];let re=0;const ir=[];let oe=null,Ge=0;const Sl=Promise.resolve();let Ls=null;function mi(t){const e=Ls||Sl;return t?e.then(this?t.bind(this):t):e}function rh(t){let e=re+1,r=Nt.length;for(;e<r;){const i=e+r>>>1,s=Nt[i],a=bn(s);a<t||a===t&&s.pre?e=i+1:r=i}return e}function bi(t){(!Nt.length||!Nt.includes(t,mn&&t.allowRecurse?re+1:re))&&(t.id==null?Nt.push(t):Nt.splice(rh(t.id),0,t),Cl())}function Cl(){!mn&&!es&&(es=!0,Ls=Sl.then(wl))}function nh(t){const e=Nt.indexOf(t);e>re&&Nt.splice(e,1)}function ni(t){it(t)?ir.push(...t):(!oe||!oe.includes(t,t.allowRecurse?Ge+1:Ge))&&ir.push(t),Cl()}function pa(t,e=mn?re+1:0){for(;e<Nt.length;e++){const r=Nt[e];r&&r.pre&&(Nt.splice(e,1),e--,r())}}function ii(t){if(ir.length){const e=[...new Set(ir)];if(ir.length=0,oe){oe.push(...e);return}for(oe=e,oe.sort((r,i)=>bn(r)-bn(i)),Ge=0;Ge<oe.length;Ge++)oe[Ge]();oe=null,Ge=0}}const bn=t=>t.id==null?1/0:t.id,ih=(t,e)=>{const r=bn(t)-bn(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function wl(t){es=!1,mn=!0,Nt.sort(ih);const e=Zt;try{for(re=0;re<Nt.length;re++){const r=Nt[re];r&&r.active!==!1&&he(r,null,14)}}finally{re=0,Nt.length=0,ii(),mn=!1,Ls=null,(Nt.length||ir.length)&&wl()}}let Ze,jn=[];function xl(t,e){var r,i;Ze=t,Ze?(Ze.enabled=!0,jn.forEach(({event:s,args:a})=>Ze.emit(s,...a)),jn=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{xl(a,e)}),setTimeout(()=>{Ze||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,jn=[])},3e3)):jn=[]}function sh(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||bt;let s=r;const a=e.startsWith("update:"),n=a&&e.slice(7);if(n&&n in i){const v=`${n==="modelValue"?"model":n}Modifiers`,{number:g,trim:m}=i[v]||bt;m&&(s=r.map(_=>xt(_)?_.trim():_)),g&&(s=r.map(ti))}let o,c=i[o=un(e)]||i[o=un(Bt(e))];!c&&a&&(c=i[o=un(Yt(e))]),c&&zt(c,t,6,s);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,zt(u,t,6,s)}}function Pl(t,e,r=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const a=t.emits;let n={},o=!1;if(!ut(t)){const c=u=>{const v=Pl(u,e,!0);v&&(o=!0,wt(n,v))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!o?(yt(t)&&i.set(t,null),null):(it(a)?a.forEach(c=>n[c]=null):wt(n,a),yt(t)&&i.set(t,n),n)}function yi(t,e){return!t||!Pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,Yt(e))||_t(t,e))}let Mt=null,Si=null;function yn(t){const e=Mt;return Mt=t,Si=t&&t.type.__scopeId||null,e}function ah(t){Si=t}function oh(){Si=null}const lh=t=>Sn;function Sn(t,e=Mt,r){if(!e||t._n)return t;const i=(...s)=>{i._d&&ls(-1);const a=yn(e);let n;try{n=t(...s)}finally{yn(a),i._d&&ls(1)}return n};return i._n=!0,i._c=!0,i._d=!0,i}function Xn(t){const{type:e,vnode:r,proxy:i,withProxy:s,props:a,propsOptions:[n],slots:o,attrs:c,emit:u,render:v,renderCache:g,data:m,setupState:_,ctx:p,inheritAttrs:y}=t;let S,x;const h=yn(t);try{if(r.shapeFlag&4){const f=s||i;S=Wt(v.call(f,f,g,a,_,m,p)),x=c}else{const f=e;S=Wt(f.length>1?f(a,{attrs:c,slots:o,emit:u}):f(a,null)),x=e.props?c:uh(c)}}catch(f){dn.length=0,Ye(f,t,1),S=mt(Lt)}let l=S;if(x&&y!==!1){const f=Object.keys(x),{shapeFlag:b}=l;f.length&&b&7&&(n&&f.some(Ss)&&(x=hh(x,n)),l=ne(l,x))}return r.dirs&&(l=ne(l),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&(l.transition=r.transition),S=l,yn(h),S}function ch(t){let e;for(let r=0;r<t.length;r++){const i=t[r];if(Fe(i)){if(i.type!==Lt||i.children==="v-if"){if(e)return;e=i}}else return}return e}const uh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Pn(r))&&((e||(e={}))[r]=t[r]);return e},hh=(t,e)=>{const r={};for(const i in t)(!Ss(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function fh(t,e,r){const{props:i,children:s,component:a}=t,{props:n,children:o,patchFlag:c}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return i?va(i,n,u):!!n;if(c&8){const v=e.dynamicProps;for(let g=0;g<v.length;g++){const m=v[g];if(n[m]!==i[m]&&!yi(u,m))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===n?!1:i?n?va(i,n,u):!0:!!n;return!1}function va(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const a=i[s];if(e[a]!==t[a]&&!yi(r,a))return!0}return!1}function Is({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Tl=t=>t.__isSuspense,dh={name:"Suspense",__isSuspense:!0,process(t,e,r,i,s,a,n,o,c,u){t==null?ph(e,r,i,s,a,n,o,c,u):vh(t,e,r,i,s,n,o,c,u)},hydrate:_h,create:Ds,normalize:mh},gh=dh;function Cn(t,e){const r=t.props&&t.props[e];ut(r)&&r()}function ph(t,e,r,i,s,a,n,o,c){const{p:u,o:{createElement:v}}=c,g=v("div"),m=t.suspense=Ds(t,s,i,e,g,r,a,n,o,c);u(null,m.pendingBranch=t.ssContent,g,null,i,m,a,n),m.deps>0?(Cn(t,"onPending"),Cn(t,"onFallback"),u(null,t.ssFallback,e,r,i,null,a,n),sr(m,t.ssFallback)):m.resolve(!1,!0)}function vh(t,e,r,i,s,a,n,o,{p:c,um:u,o:{createElement:v}}){const g=e.suspense=t.suspense;g.vnode=e,e.el=t.el;const m=e.ssContent,_=e.ssFallback,{activeBranch:p,pendingBranch:y,isInFallback:S,isHydrating:x}=g;if(y)g.pendingBranch=m,Qt(m,y)?(c(y,m,g.hiddenContainer,null,s,g,a,n,o),g.deps<=0?g.resolve():S&&(c(p,_,r,i,s,null,a,n,o),sr(g,_))):(g.pendingId++,x?(g.isHydrating=!1,g.activeBranch=y):u(y,s,g),g.deps=0,g.effects.length=0,g.hiddenContainer=v("div"),S?(c(null,m,g.hiddenContainer,null,s,g,a,n,o),g.deps<=0?g.resolve():(c(p,_,r,i,s,null,a,n,o),sr(g,_))):p&&Qt(m,p)?(c(p,m,r,i,s,g,a,n,o),g.resolve(!0)):(c(null,m,g.hiddenContainer,null,s,g,a,n,o),g.deps<=0&&g.resolve()));else if(p&&Qt(m,p))c(p,m,r,i,s,g,a,n,o),sr(g,m);else if(Cn(e,"onPending"),g.pendingBranch=m,g.pendingId++,c(null,m,g.hiddenContainer,null,s,g,a,n,o),g.deps<=0)g.resolve();else{const{timeout:h,pendingId:l}=g;h>0?setTimeout(()=>{g.pendingId===l&&g.fallback(_)},h):h===0&&g.fallback(_)}}function Ds(t,e,r,i,s,a,n,o,c,u,v=!1){const{p:g,m,um:_,n:p,o:{parentNode:y,remove:S}}=u;let x;const h=bh(t);h&&e!=null&&e.pendingBranch&&(x=e.pendingId,e.deps++);const l=t.props?ei(t.props.timeout):void 0,f={vnode:t,parent:e,parentComponent:r,isSVG:n,container:i,hiddenContainer:s,anchor:a,deps:0,pendingId:0,timeout:typeof l=="number"?l:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:v,isUnmounted:!1,effects:[],resolve(b=!1,A=!1){const{vnode:M,activeBranch:C,pendingBranch:E,pendingId:P,effects:F,parentComponent:O,container:d}=f;let w=!1;if(f.isHydrating)f.isHydrating=!1;else if(!b){w=C&&E.transition&&E.transition.mode==="out-in",w&&(C.transition.afterLeave=()=>{P===f.pendingId&&(m(E,d,k,0),ni(F))});let{anchor:k}=f;C&&(k=p(C),_(C,O,f,!0)),w||m(E,d,k,0)}sr(f,E),f.pendingBranch=null,f.isInFallback=!1;let T=f.parent,R=!1;for(;T;){if(T.pendingBranch){T.effects.push(...F),R=!0;break}T=T.parent}!R&&!w&&ni(F),f.effects=[],h&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),Cn(M,"onResolve")},fallback(b){if(!f.pendingBranch)return;const{vnode:A,activeBranch:M,parentComponent:C,container:E,isSVG:P}=f;Cn(A,"onFallback");const F=p(M),O=()=>{f.isInFallback&&(g(null,b,E,F,C,null,P,o,c),sr(f,b))},d=b.transition&&b.transition.mode==="out-in";d&&(M.transition.afterLeave=O),f.isInFallback=!0,_(M,C,null,!0),d||O()},move(b,A,M){f.activeBranch&&m(f.activeBranch,b,A,M),f.container=b},next(){return f.activeBranch&&p(f.activeBranch)},registerDep(b,A){const M=!!f.pendingBranch;M&&f.deps++;const C=b.vnode.el;b.asyncDep.catch(E=>{Ye(E,b,0)}).then(E=>{if(b.isUnmounted||f.isUnmounted||f.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:P}=b;cs(b,E,!1),C&&(P.el=C);const F=!C&&b.subTree.el;A(b,P,y(C||b.subTree.el),C?null:p(b.subTree),f,n,c),F&&S(F),Is(b,P.el),M&&--f.deps===0&&f.resolve()})},unmount(b,A){f.isUnmounted=!0,f.activeBranch&&_(f.activeBranch,r,b,A),f.pendingBranch&&_(f.pendingBranch,r,b,A)}};return f}function _h(t,e,r,i,s,a,n,o,c){const u=e.suspense=Ds(e,i,r,t.parentNode,document.createElement("div"),null,s,a,n,o,!0),v=c(t,u.pendingBranch=e.ssContent,r,u,a,n);return u.deps===0&&u.resolve(!1,!0),v}function mh(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=_a(i?r.default:r),t.ssFallback=i?_a(r.fallback):mt(Lt)}function _a(t){let e;if(ut(t)){const r=ze&&t._c;r&&(t._d=!1,de()),t=t(),r&&(t._d=!0,e=Ut,ic())}return it(t)&&(t=ch(t)),t=Wt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function El(t,e){e&&e.pendingBranch?it(t)?e.effects.push(...t):e.effects.push(t):ni(t)}function sr(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t,s=r.el=e.el;i&&i.subTree===r&&(i.vnode.el=s,Is(i,s))}function bh(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function yh(t,e){return Mn(t,null,e)}function Al(t,e){return Mn(t,null,{flush:"post"})}function Sh(t,e){return Mn(t,null,{flush:"sync"})}const Kn={};function xe(t,e,r){return Mn(t,e,r)}function Mn(t,e,{immediate:r,deep:i,flush:s,onTrack:a,onTrigger:n}=bt){var o;const c=Es()===((o=Rt)==null?void 0:o.scope)?Rt:null;let u,v=!1,g=!1;if(Pt(t)?(u=()=>t.value,v=vn(t)):ue(t)?(u=()=>t,i=!0):it(t)?(g=!0,v=t.some(f=>ue(f)||vn(f)),u=()=>t.map(f=>{if(Pt(f))return f.value;if(ue(f))return Be(f);if(ut(f))return he(f,c,2)})):ut(t)?e?u=()=>he(t,c,2):u=()=>{if(!(c&&c.isUnmounted))return m&&m(),zt(t,c,3,[_])}:u=Zt,e&&i){const f=u;u=()=>Be(f())}let m,_=f=>{m=h.onStop=()=>{he(f,c,4)}},p;if(ur)if(_=Zt,e?r&&zt(e,c,3,[u(),g?[]:void 0,_]):u(),s==="sync"){const f=vc();p=f.__watcherHandles||(f.__watcherHandles=[])}else return Zt;let y=g?new Array(t.length).fill(Kn):Kn;const S=()=>{if(h.active)if(e){const f=h.run();(i||v||(g?f.some((b,A)=>Ee(b,y[A])):Ee(f,y)))&&(m&&m(),zt(e,c,3,[f,y===Kn?void 0:g&&y[0]===Kn?[]:y,_]),y=f)}else h.run()};S.allowRecurse=!!e;let x;s==="sync"?x=S:s==="post"?x=()=>kt(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),x=()=>bi(S));const h=new lr(u,x);e?r?S():y=h.run():s==="post"?kt(h.run.bind(h),c&&c.suspense):h.run();const l=()=>{h.stop(),c&&c.scope&&Cs(c.scope.effects,h)};return p&&p.push(l),l}function Ch(t,e,r){const i=this.proxy,s=xt(t)?t.includes(".")?Rl(i,t):()=>i[t]:t.bind(i,i);let a;ut(e)?a=e:(a=e.handler,r=e);const n=Rt;Me(this);const o=Mn(s,a.bind(i),r);return n?Me(n):Te(),o}function Rl(t,e){const r=e.split(".");return()=>{let i=t;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function Be(t,e){if(!yt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Pt(t))Be(t.value,e);else if(it(t))for(let r=0;r<t.length;r++)Be(t[r],e);else if($e(t)||rr(t))t.forEach(r=>{Be(r,e)});else if(Zo(t))for(const r in t)Be(t[r],e);return t}function wh(t,e){const r=Mt;if(r===null)return t;const i=Ri(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[n,o,c,u=bt]=e[a];n&&(ut(n)&&(n={mounted:n,updated:n}),n.deep&&Be(o),s.push({dir:n,instance:i,value:o,oldValue:void 0,arg:c,modifiers:u}))}return t}function ee(t,e,r,i){const s=t.dirs,a=e&&e.dirs;for(let n=0;n<s.length;n++){const o=s[n];a&&(o.oldValue=a[n].value);let c=o.dir[i];c&&(gr(),zt(c,r,8,[t.el,o,t,e]),pr())}}const ye=Symbol("_leaveCb"),qn=Symbol("_enterCb");function Gs(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kn(()=>{t.isMounted=!0}),Pi(()=>{t.isUnmounting=!0}),t}const $t=[Function,Array],Us={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},xh={name:"BaseTransition",props:Us,setup(t,{slots:e}){const r=ge(),i=Gs();let s;return()=>{const a=e.default&&Ci(e.default(),!0);if(!a||!a.length)return;let n=a[0];if(a.length>1){for(const y of a)if(y.type!==Lt){n=y;break}}const o=pt(t),{mode:c}=o;if(i.isLeaving)return Ni(n);const u=ma(n);if(!u)return Ni(n);const v=cr(u,o,i,r);qe(u,v);const g=r.subTree,m=g&&ma(g);let _=!1;const{getTransitionKey:p}=u.type;if(p){const y=p();s===void 0?s=y:y!==s&&(s=y,_=!0)}if(m&&m.type!==Lt&&(!Qt(u,m)||_)){const y=cr(m,o,i,r);if(qe(m,y),c==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},Ni(n);c==="in-out"&&u.type!==Lt&&(y.delayLeave=(S,x,h)=>{const l=Ml(i,m);l[String(m.key)]=m,S[ye]=()=>{x(),S[ye]=void 0,delete v.delayedLeave},v.delayedLeave=h})}return n}}},Fl=xh;function Ml(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function cr(t,e,r,i){const{appear:s,mode:a,persisted:n=!1,onBeforeEnter:o,onEnter:c,onAfterEnter:u,onEnterCancelled:v,onBeforeLeave:g,onLeave:m,onAfterLeave:_,onLeaveCancelled:p,onBeforeAppear:y,onAppear:S,onAfterAppear:x,onAppearCancelled:h}=e,l=String(t.key),f=Ml(r,t),b=(C,E)=>{C&&zt(C,i,9,E)},A=(C,E)=>{const P=E[1];b(C,E),it(C)?C.every(F=>F.length<=1)&&P():C.length<=1&&P()},M={mode:a,persisted:n,beforeEnter(C){let E=o;if(!r.isMounted)if(s)E=y||o;else return;C[ye]&&C[ye](!0);const P=f[l];P&&Qt(t,P)&&P.el[ye]&&P.el[ye](),b(E,[C])},enter(C){let E=c,P=u,F=v;if(!r.isMounted)if(s)E=S||c,P=x||u,F=h||v;else return;let O=!1;const d=C[qn]=w=>{O||(O=!0,w?b(F,[C]):b(P,[C]),M.delayedLeave&&M.delayedLeave(),C[qn]=void 0)};E?A(E,[C,d]):d()},leave(C,E){const P=String(t.key);if(C[qn]&&C[qn](!0),r.isUnmounting)return E();b(g,[C]);let F=!1;const O=C[ye]=d=>{F||(F=!0,E(),d?b(p,[C]):b(_,[C]),C[ye]=void 0,f[P]===t&&delete f[P])};f[P]=t,m?A(m,[C,O]):O()},clone(C){return cr(C,e,r,i)}};return M}function Ni(t){if(On(t))return t=ne(t),t.children=null,t}function ma(t){return On(t)?t.children?t.children[0]:void 0:t}function qe(t,e){t.shapeFlag&6&&t.component?qe(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ci(t,e=!1,r){let i=[],s=0;for(let a=0;a<t.length;a++){let n=t[a];const o=r==null?n.key:String(r)+String(n.key!=null?n.key:a);n.type===Ft?(n.patchFlag&128&&s++,i=i.concat(Ci(n.children,e,o))):(e||n.type!==Lt)&&i.push(o!=null?ne(n,{key:o}):n)}if(s>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Bs(t,e){return ut(t)?(()=>wt({name:t.name},e,{setup:t}))():t}const He=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Ph(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:s=200,timeout:a,suspensible:n=!0,onError:o}=t;let c=null,u,v=0;const g=()=>(v++,c=null,m()),m=()=>{let _;return c||(_=c=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),o)return new Promise((y,S)=>{o(p,()=>y(g()),()=>S(p),v+1)});throw p}).then(p=>_!==c&&c?c:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Bs({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const _=Rt;if(u)return()=>Li(u,_);const p=h=>{c=null,Ye(h,_,13,!i)};if(n&&_.suspense||ur)return m().then(h=>()=>Li(h,_)).catch(h=>(p(h),()=>i?mt(i,{error:h}):null));const y=we(!1),S=we(),x=we(!!s);return s&&setTimeout(()=>{x.value=!1},s),a!=null&&setTimeout(()=>{if(!y.value&&!S.value){const h=new Error(`Async component timed out after ${a}ms.`);p(h),S.value=h}},a),m().then(()=>{y.value=!0,_.parent&&On(_.parent.vnode)&&bi(_.parent.update)}).catch(h=>{p(h),S.value=h}),()=>{if(y.value&&u)return Li(u,_);if(S.value&&i)return mt(i,{error:S.value});if(r&&!x.value)return mt(r)}}})}function Li(t,e){const{ref:r,props:i,children:s,ce:a}=e.vnode,n=mt(t,i,s);return n.ref=r,n.ce=a,delete e.vnode.ce,n}const On=t=>t.type.__isKeepAlive,Th={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=ge(),i=r.ctx;if(!i.renderer)return()=>{const h=e.default&&e.default();return h&&h.length===1?h[0]:h};const s=new Map,a=new Set;let n=null;const o=r.suspense,{renderer:{p:c,m:u,um:v,o:{createElement:g}}}=i,m=g("div");i.activate=(h,l,f,b,A)=>{const M=h.component;u(h,l,f,0,o),c(M.vnode,h,l,f,M,o,b,h.slotScopeIds,A),kt(()=>{M.isDeactivated=!1,M.a&&nr(M.a);const C=h.props&&h.props.onVnodeMounted;C&&Gt(C,M.parent,h)},o)},i.deactivate=h=>{const l=h.component;u(h,m,null,1,o),kt(()=>{l.da&&nr(l.da);const f=h.props&&h.props.onVnodeUnmounted;f&&Gt(f,l.parent,h),l.isDeactivated=!0},o)};function _(h){Ii(h),v(h,r,o,!0)}function p(h){s.forEach((l,f)=>{const b=hs(l.type);b&&(!h||!h(b))&&y(f)})}function y(h){const l=s.get(h);!n||!Qt(l,n)?_(l):n&&Ii(n),s.delete(h),a.delete(h)}xe(()=>[t.include,t.exclude],([h,l])=>{h&&p(f=>on(h,f)),l&&p(f=>!on(l,f))},{flush:"post",deep:!0});let S=null;const x=()=>{S!=null&&s.set(S,Di(r.subTree))};return kn(x),xi(x),Pi(()=>{s.forEach(h=>{const{subTree:l,suspense:f}=r,b=Di(l);if(h.type===b.type&&h.key===b.key){Ii(b);const A=b.component.da;A&&kt(A,f);return}_(h)})}),()=>{if(S=null,!e.default)return null;const h=e.default(),l=h[0];if(h.length>1)return n=null,h;if(!Fe(l)||!(l.shapeFlag&4)&&!(l.shapeFlag&128))return n=null,l;let f=Di(l);const b=f.type,A=hs(He(f)?f.type.__asyncResolved||{}:b),{include:M,exclude:C,max:E}=t;if(M&&(!A||!on(M,A))||C&&A&&on(C,A))return n=f,l;const P=f.key==null?b:f.key,F=s.get(P);return f.el&&(f=ne(f),l.shapeFlag&128&&(l.ssContent=f)),S=P,F?(f.el=F.el,f.component=F.component,f.transition&&qe(f,f.transition),f.shapeFlag|=512,a.delete(P),a.add(P)):(a.add(P),E&&a.size>parseInt(E,10)&&y(a.values().next().value)),f.shapeFlag|=256,n=f,Tl(l.type)?l:f}}},Eh=Th;function on(t,e){return it(t)?t.some(r=>on(r,e)):xt(t)?t.split(",").includes(e):nu(t)?t.test(e):!1}function Ol(t,e){Nl(t,"a",e)}function kl(t,e){Nl(t,"da",e)}function Nl(t,e,r=Rt){const i=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wi(e,i,r),r){let s=r.parent;for(;s&&s.parent;)On(s.parent.vnode)&&Ah(i,e,r,s),s=s.parent}}function Ah(t,e,r,i){const s=wi(e,t,i,!0);Ti(()=>{Cs(i[e],s)},r)}function Ii(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Di(t){return t.shapeFlag&128?t.ssContent:t}function wi(t,e,r=Rt,i=!1){if(r){const s=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...n)=>{if(r.isUnmounted)return;gr(),Me(r);const o=zt(e,r,t,n);return Te(),pr(),o});return i?s.unshift(a):s.push(a),a}}const fe=t=>(e,r=Rt)=>(!ur||t==="sp")&&wi(t,(...i)=>e(...i),r),Ll=fe("bm"),kn=fe("m"),Il=fe("bu"),xi=fe("u"),Pi=fe("bum"),Ti=fe("um"),Dl=fe("sp"),Gl=fe("rtg"),Ul=fe("rtc");function Bl(t,e=Rt){wi("ec",t,e)}const Vs="components",Rh="directives";function Pe(t,e){return Hs(Vs,t,!0,e)||t}const Vl=Symbol.for("v-ndc");function Fh(t){return xt(t)?Hs(Vs,t,!1)||t:t||Vl}function Mh(t){return Hs(Rh,t)}function Hs(t,e,r=!0,i=!1){const s=Mt||Rt;if(s){const a=s.type;if(t===Vs){const o=hs(a,!1);if(o&&(o===e||o===Bt(e)||o===Tn(Bt(e))))return a}const n=ba(s[t]||a[t],e)||ba(s.appContext[t],e);return!n&&i?a:n}}function ba(t,e){return t&&(t[e]||t[Bt(e)]||t[Tn(Bt(e))])}function Oh(t,e,r,i){let s;const a=r&&r[i];if(it(t)||xt(t)){s=new Array(t.length);for(let n=0,o=t.length;n<o;n++)s[n]=e(t[n],n,void 0,a&&a[n])}else if(typeof t=="number"){s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,a&&a[n])}else if(yt(t))if(t[Symbol.iterator])s=Array.from(t,(n,o)=>e(n,o,void 0,a&&a[o]));else{const n=Object.keys(t);s=new Array(n.length);for(let o=0,c=n.length;o<c;o++){const u=n[o];s[o]=e(t[u],u,o,a&&a[o])}}else s=[];return r&&(r[i]=s),s}function kh(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(it(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const a=i.fn(...s);return a&&(a.key=i.key),a}:i.fn)}return t}function Nh(t,e,r={},i,s){if(Mt.isCE||Mt.parent&&He(Mt.parent)&&Mt.parent.isCE)return e!=="default"&&(r.name=e),mt("slot",r,i&&i());let a=t[e];a&&a._c&&(a._d=!1),de();const n=a&&Hl(a(r)),o=Nn(Ft,{key:r.key||n&&n.key||`_${e}`},n||(i?i():[]),n&&t._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function Hl(t){return t.some(e=>Fe(e)?!(e.type===Lt||e.type===Ft&&!Hl(e.children)):!0)?t:null}function Lh(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:un(i)]=t[i];return r}const rs=t=>t?uc(t)?Ri(t)||t.proxy:rs(t.parent):null,hn=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rs(t.parent),$root:t=>rs(t.root),$emit:t=>t.emit,$options:t=>js(t),$forceUpdate:t=>t.f||(t.f=()=>bi(t.update)),$nextTick:t=>t.n||(t.n=mi.bind(t.proxy)),$watch:t=>Ch.bind(t)}),Gi=(t,e)=>t!==bt&&!t.__isScriptSetup&&_t(t,e),ns={get({_:t},e){const{ctx:r,setupState:i,data:s,props:a,accessCache:n,type:o,appContext:c}=t;let u;if(e[0]!=="$"){const _=n[e];if(_!==void 0)switch(_){case 1:return i[e];case 2:return s[e];case 4:return r[e];case 3:return a[e]}else{if(Gi(i,e))return n[e]=1,i[e];if(s!==bt&&_t(s,e))return n[e]=2,s[e];if((u=t.propsOptions[0])&&_t(u,e))return n[e]=3,a[e];if(r!==bt&&_t(r,e))return n[e]=4,r[e];is&&(n[e]=0)}}const v=hn[e];let g,m;if(v)return e==="$attrs"&&Vt(t,"get",e),v(t);if((g=o.__cssModules)&&(g=g[e]))return g;if(r!==bt&&_t(r,e))return n[e]=4,r[e];if(m=c.config.globalProperties,_t(m,e))return m[e]},set({_:t},e,r){const{data:i,setupState:s,ctx:a}=t;return Gi(s,e)?(s[e]=r,!0):i!==bt&&_t(i,e)?(i[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:s,propsOptions:a}},n){let o;return!!r[n]||t!==bt&&_t(t,n)||Gi(e,n)||(o=a[0])&&_t(o,n)||_t(i,n)||_t(hn,n)||_t(s.config.globalProperties,n)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Ih=wt({},ns,{get(t,e){if(e!==Symbol.unscopables)return ns.get(t,e,t)},has(t,e){return e[0]!=="_"&&!lu(e)}});function Dh(){return null}function Gh(){return null}function Uh(t){}function Bh(t){}function Vh(){return null}function Hh(){}function jh(t,e){return null}function Kh(){return jl().slots}function qh(){return jl().attrs}function Wh(t,e,r){const i=ge();if(r&&r.local){const s=we(t[e]);return xe(()=>t[e],a=>s.value=a),xe(s,a=>{a!==t[e]&&i.emit(`update:${e}`,a)}),s}else return{__v_isRef:!0,get value(){return t[e]},set value(s){i.emit(`update:${e}`,s)}}}function jl(){const t=ge();return t.setupContext||(t.setupContext=dc(t))}function wn(t){return it(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function zh(t,e){const r=wn(t);for(const i in e){if(i.startsWith("__skip"))continue;let s=r[i];s?it(s)||ut(s)?s=r[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=r[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function $h(t,e){return!t||!e?t||e:it(t)&&it(e)?t.concat(e):wt({},wn(t),wn(e))}function Yh(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function Xh(t){const e=ge();let r=t();return Te(),ws(r)&&(r=r.catch(i=>{throw Me(e),i})),[r,()=>Me(e)]}let is=!0;function Jh(t){const e=js(t),r=t.proxy,i=t.ctx;is=!1,e.beforeCreate&&ya(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:n,watch:o,provide:c,inject:u,created:v,beforeMount:g,mounted:m,beforeUpdate:_,updated:p,activated:y,deactivated:S,beforeDestroy:x,beforeUnmount:h,destroyed:l,unmounted:f,render:b,renderTracked:A,renderTriggered:M,errorCaptured:C,serverPrefetch:E,expose:P,inheritAttrs:F,components:O,directives:d,filters:w}=e;if(u&&Qh(u,i,null),n)for(const k in n){const L=n[k];ut(L)&&(i[k]=L.bind(r))}if(s){const k=s.call(r,r);yt(k)&&(t.data=Rn(k))}if(is=!0,a)for(const k in a){const L=a[k],G=ut(L)?L.bind(r,r):ut(L.get)?L.get.bind(r,r):Zt,U=!ut(L)&&ut(L.set)?L.set.bind(r):Zt,$=Ys({get:G,set:U});Object.defineProperty(i,k,{enumerable:!0,configurable:!0,get:()=>$.value,set:V=>$.value=V})}if(o)for(const k in o)Kl(o[k],i,r,k);if(c){const k=ut(c)?c.call(r):c;Reflect.ownKeys(k).forEach(L=>{Wl(L,k[L])})}v&&ya(v,t,"c");function R(k,L){it(L)?L.forEach(G=>k(G.bind(r))):L&&k(L.bind(r))}if(R(Ll,g),R(kn,m),R(Il,_),R(xi,p),R(Ol,y),R(kl,S),R(Bl,C),R(Ul,A),R(Gl,M),R(Pi,h),R(Ti,f),R(Dl,E),it(P))if(P.length){const k=t.exposed||(t.exposed={});P.forEach(L=>{Object.defineProperty(k,L,{get:()=>r[L],set:G=>r[L]=G})})}else t.exposed||(t.exposed={});b&&t.render===Zt&&(t.render=b),F!=null&&(t.inheritAttrs=F),O&&(t.components=O),d&&(t.directives=d)}function Qh(t,e,r=Zt){it(t)&&(t=ss(t));for(const i in t){const s=t[i];let a;yt(s)?"default"in s?a=ar(s.from||i,s.default,!0):a=ar(s.from||i):a=ar(s),Pt(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:n=>a.value=n}):e[i]=a}}function ya(t,e,r){zt(it(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function Kl(t,e,r,i){const s=i.includes(".")?Rl(r,i):()=>r[i];if(xt(t)){const a=e[t];ut(a)&&xe(s,a)}else if(ut(t))xe(s,t.bind(r));else if(yt(t))if(it(t))t.forEach(a=>Kl(a,e,r,i));else{const a=ut(t.handler)?t.handler.bind(r):e[t.handler];ut(a)&&xe(s,a,t)}}function js(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:n}}=t.appContext,o=a.get(e);let c;return o?c=o:!s.length&&!r&&!i?c=e:(c={},s.length&&s.forEach(u=>si(c,u,n,!0)),si(c,e,n)),yt(e)&&a.set(e,c),c}function si(t,e,r,i=!1){const{mixins:s,extends:a}=e;a&&si(t,a,r,!0),s&&s.forEach(n=>si(t,n,r,!0));for(const n in e)if(!(i&&n==="expose")){const o=Zh[n]||r&&r[n];t[n]=o?o(t[n],e[n]):e[n]}return t}const Zh={data:Sa,props:Ca,emits:Ca,methods:ln,computed:ln,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:ln,directives:ln,watch:ef,provide:Sa,inject:tf};function Sa(t,e){return e?t?function(){return wt(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function tf(t,e){return ln(ss(t),ss(e))}function ss(t){if(it(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function ln(t,e){return t?wt(Object.create(null),t,e):e}function Ca(t,e){return t?it(t)&&it(e)?[...new Set([...t,...e])]:wt(Object.create(null),wn(t),wn(e??{})):e}function ef(t,e){if(!t)return e;if(!e)return t;const r=wt(Object.create(null),t);for(const i in e)r[i]=It(t[i],e[i]);return r}function ql(){return{app:null,config:{isNativeTag:tu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rf=0;function nf(t,e){return function(i,s=null){ut(i)||(i=wt({},i)),s!=null&&!yt(s)&&(s=null);const a=ql(),n=new WeakSet;let o=!1;const c=a.app={_uid:rf++,_component:i,_props:s,_container:null,_context:a,_instance:null,version:mc,get config(){return a.config},set config(u){},use(u,...v){return n.has(u)||(u&&ut(u.install)?(n.add(u),u.install(c,...v)):ut(u)&&(n.add(u),u(c,...v))),c},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),c},component(u,v){return v?(a.components[u]=v,c):a.components[u]},directive(u,v){return v?(a.directives[u]=v,c):a.directives[u]},mount(u,v,g){if(!o){const m=mt(i,s);return m.appContext=a,v&&e?e(m,u):t(m,u,g),o=!0,c._container=u,u.__vue_app__=c,Ri(m.component)||m.component.proxy}},unmount(){o&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,v){return a.provides[u]=v,c},runWithContext(u){xn=c;try{return u()}finally{xn=null}}};return c}}let xn=null;function Wl(t,e){if(Rt){let r=Rt.provides;const i=Rt.parent&&Rt.parent.provides;i===r&&(r=Rt.provides=Object.create(i)),r[t]=e}}function ar(t,e,r=!1){const i=Rt||Mt;if(i||xn){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:xn._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&ut(e)?e.call(i&&i.proxy):e}}function zl(){return!!(Rt||Mt||xn)}function sf(t,e,r,i=!1){const s={},a={};Zn(a,Ai,1),t.propsDefaults=Object.create(null),$l(t,e,s,a);for(const n in t.propsOptions[0])n in s||(s[n]=void 0);r?t.props=i?s:_l(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function af(t,e,r,i){const{props:s,attrs:a,vnode:{patchFlag:n}}=t,o=pt(s),[c]=t.propsOptions;let u=!1;if((i||n>0)&&!(n&16)){if(n&8){const v=t.vnode.dynamicProps;for(let g=0;g<v.length;g++){let m=v[g];if(yi(t.emitsOptions,m))continue;const _=e[m];if(c)if(_t(a,m))_!==a[m]&&(a[m]=_,u=!0);else{const p=Bt(m);s[p]=as(c,o,p,_,t,!1)}else _!==a[m]&&(a[m]=_,u=!0)}}}else{$l(t,e,s,a)&&(u=!0);let v;for(const g in o)(!e||!_t(e,g)&&((v=Yt(g))===g||!_t(e,v)))&&(c?r&&(r[g]!==void 0||r[v]!==void 0)&&(s[g]=as(c,o,g,void 0,t,!0)):delete s[g]);if(a!==o)for(const g in a)(!e||!_t(e,g))&&(delete a[g],u=!0)}u&&ce(t,"set","$attrs")}function $l(t,e,r,i){const[s,a]=t.propsOptions;let n=!1,o;if(e)for(let c in e){if(cn(c))continue;const u=e[c];let v;s&&_t(s,v=Bt(c))?!a||!a.includes(v)?r[v]=u:(o||(o={}))[v]=u:yi(t.emitsOptions,c)||(!(c in i)||u!==i[c])&&(i[c]=u,n=!0)}if(a){const c=pt(r),u=o||bt;for(let v=0;v<a.length;v++){const g=a[v];r[g]=as(s,c,g,u[g],t,!_t(u,g))}}return n}function as(t,e,r,i,s,a){const n=t[r];if(n!=null){const o=_t(n,"default");if(o&&i===void 0){const c=n.default;if(n.type!==Function&&!n.skipFactory&&ut(c)){const{propsDefaults:u}=s;r in u?i=u[r]:(Me(s),i=u[r]=c.call(null,e),Te())}else i=c}n[0]&&(a&&!o?i=!1:n[1]&&(i===""||i===Yt(r))&&(i=!0))}return i}function Yl(t,e,r=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const a=t.props,n={},o=[];let c=!1;if(!ut(t)){const v=g=>{c=!0;const[m,_]=Yl(g,e,!0);wt(n,m),_&&o.push(..._)};!r&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!a&&!c)return yt(t)&&i.set(t,er),er;if(it(a))for(let v=0;v<a.length;v++){const g=Bt(a[v]);wa(g)&&(n[g]=bt)}else if(a)for(const v in a){const g=Bt(v);if(wa(g)){const m=a[v],_=n[g]=it(m)||ut(m)?{type:m}:wt({},m);if(_){const p=Ta(Boolean,_.type),y=Ta(String,_.type);_[0]=p>-1,_[1]=y<0||p<y,(p>-1||_t(_,"default"))&&o.push(g)}}}const u=[n,o];return yt(t)&&i.set(t,u),u}function wa(t){return t[0]!=="$"}function xa(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Pa(t,e){return xa(t)===xa(e)}function Ta(t,e){return it(e)?e.findIndex(r=>Pa(r,t)):ut(e)&&Pa(e,t)?0:-1}const Xl=t=>t[0]==="_"||t==="$stable",Ks=t=>it(t)?t.map(Wt):[Wt(t)],of=(t,e,r)=>{if(e._n)return e;const i=Sn((...s)=>Ks(e(...s)),r);return i._c=!1,i},Jl=(t,e,r)=>{const i=t._ctx;for(const s in t){if(Xl(s))continue;const a=t[s];if(ut(a))e[s]=of(s,a,i);else if(a!=null){const n=Ks(a);e[s]=()=>n}}},Ql=(t,e)=>{const r=Ks(e);t.slots.default=()=>r},lf=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=pt(e),Zn(e,"_",r)):Jl(e,t.slots={})}else t.slots={},e&&Ql(t,e);Zn(t.slots,Ai,1)},cf=(t,e,r)=>{const{vnode:i,slots:s}=t;let a=!0,n=bt;if(i.shapeFlag&32){const o=e._;o?r&&o===1?a=!1:(wt(s,e),!r&&o===1&&delete s._):(a=!e.$stable,Jl(e,s)),n=e}else e&&(Ql(t,e),n={default:1});if(a)for(const o in s)!Xl(o)&&n[o]==null&&delete s[o]};function ai(t,e,r,i,s=!1){if(it(t)){t.forEach((m,_)=>ai(m,e&&(it(e)?e[_]:e),r,i,s));return}if(He(i)&&!s)return;const a=i.shapeFlag&4?Ri(i.component)||i.component.proxy:i.el,n=s?null:a,{i:o,r:c}=t,u=e&&e.r,v=o.refs===bt?o.refs={}:o.refs,g=o.setupState;if(u!=null&&u!==c&&(xt(u)?(v[u]=null,_t(g,u)&&(g[u]=null)):Pt(u)&&(u.value=null)),ut(c))he(c,o,12,[n,v]);else{const m=xt(c),_=Pt(c);if(m||_){const p=()=>{if(t.f){const y=m?_t(g,c)?g[c]:v[c]:c.value;s?it(y)&&Cs(y,a):it(y)?y.includes(a)||y.push(a):m?(v[c]=[a],_t(g,c)&&(g[c]=v[c])):(c.value=[a],t.k&&(v[t.k]=c.value))}else m?(v[c]=n,_t(g,c)&&(g[c]=n)):_&&(c.value=n,t.k&&(v[t.k]=n))};n?(p.id=-1,kt(p,r)):p()}}}let ve=!1;const Wn=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",zn=t=>t.nodeType===8;function uf(t){const{mt:e,p:r,o:{patchProp:i,createText:s,nextSibling:a,parentNode:n,remove:o,insert:c,createComment:u}}=t,v=(l,f)=>{if(!f.hasChildNodes()){r(null,l,f),ii(),f._vnode=l;return}ve=!1,g(f.firstChild,l,null,null,null),ii(),f._vnode=l,ve&&console.error("Hydration completed but contains mismatches.")},g=(l,f,b,A,M,C=!1)=>{const E=zn(l)&&l.data==="[",P=()=>y(l,f,b,A,M,E),{type:F,ref:O,shapeFlag:d,patchFlag:w}=f;let T=l.nodeType;f.el=l,w===-2&&(C=!1,f.dynamicChildren=null);let R=null;switch(F){case We:T!==3?f.children===""?(c(f.el=s(""),n(l),l),R=l):R=P():(l.data!==f.children&&(ve=!0,l.data=f.children),R=a(l));break;case Lt:if(T!==8||E)if(l.tagName.toLowerCase()==="template"){const k=f.el.content.firstChild;x(k,l,b),f.el=l=k,R=a(l)}else R=P();else R=a(l);break;case je:if(E&&(l=a(l),T=l.nodeType),T===1||T===3){R=l;const k=!f.children.length;for(let L=0;L<f.staticCount;L++)k&&(f.children+=R.nodeType===1?R.outerHTML:R.data),L===f.staticCount-1&&(f.anchor=R),R=a(R);return E?a(R):R}else P();break;case Ft:E?R=p(l,f,b,A,M,C):R=P();break;default:if(d&1)(T!==1||f.type.toLowerCase()!==l.tagName.toLowerCase())&&!h(l)?R=P():R=m(l,f,b,A,M,C);else if(d&6){f.slotScopeIds=M;const k=n(l);if(E?R=S(l):zn(l)&&l.data==="teleport start"?R=S(l,l.data,"teleport end"):R=a(l),e(f,k,null,b,A,Wn(k),C),He(f)){let L;E?(L=mt(Ft),L.anchor=R?R.previousSibling:k.lastChild):L=l.nodeType===3?Ln(""):mt("div"),L.el=l,f.component.subTree=L}}else d&64?T!==8?R=P():R=f.type.hydrate(l,f,b,A,M,C,t,_):d&128&&(R=f.type.hydrate(l,f,b,A,Wn(n(l)),M,C,t,g))}return O!=null&&ai(O,null,A,f),R},m=(l,f,b,A,M,C)=>{C=C||!!f.dynamicChildren;const{type:E,props:P,patchFlag:F,shapeFlag:O,dirs:d,transition:w}=f,T=E==="input"&&d||E==="option";if(T||F!==-1){if(d&&ee(f,null,b,"created"),P)if(T||!C||F&48)for(const L in P)(T&&L.endsWith("value")||Pn(L)&&!cn(L))&&i(l,L,null,P[L],!1,void 0,b);else P.onClick&&i(l,"onClick",null,P.onClick,!1,void 0,b);let R;(R=P&&P.onVnodeBeforeMount)&&Gt(R,b,f);let k=!1;if(h(l)){k=rc(A,w)&&b&&b.vnode.props&&b.vnode.props.appear;const L=l.content.firstChild;k&&w.beforeEnter(L),x(L,l,b),f.el=l=L}if(d&&ee(f,null,b,"beforeMount"),((R=P&&P.onVnodeMounted)||d||k)&&El(()=>{R&&Gt(R,b,f),k&&w.enter(l),d&&ee(f,null,b,"mounted")},A),O&16&&!(P&&(P.innerHTML||P.textContent))){let L=_(l.firstChild,f,l,b,A,M,C);for(;L;){ve=!0;const G=L;L=L.nextSibling,o(G)}}else O&8&&l.textContent!==f.children&&(ve=!0,l.textContent=f.children)}return l.nextSibling},_=(l,f,b,A,M,C,E)=>{E=E||!!f.dynamicChildren;const P=f.children,F=P.length;for(let O=0;O<F;O++){const d=E?P[O]:P[O]=Wt(P[O]);if(l)l=g(l,d,A,M,C,E);else{if(d.type===We&&!d.children)continue;ve=!0,r(null,d,b,null,A,M,Wn(b),C)}}return l},p=(l,f,b,A,M,C)=>{const{slotScopeIds:E}=f;E&&(M=M?M.concat(E):E);const P=n(l),F=_(a(l),f,P,b,A,M,C);return F&&zn(F)&&F.data==="]"?a(f.anchor=F):(ve=!0,c(f.anchor=u("]"),P,F),F)},y=(l,f,b,A,M,C)=>{if(ve=!0,f.el=null,C){const F=S(l);for(;;){const O=a(l);if(O&&O!==F)o(O);else break}}const E=a(l),P=n(l);return o(l),r(null,f,P,E,b,A,Wn(P),M),E},S=(l,f="[",b="]")=>{let A=0;for(;l;)if(l=a(l),l&&zn(l)&&(l.data===f&&A++,l.data===b)){if(A===0)return a(l);A--}return l},x=(l,f,b)=>{const A=f.parentNode;A&&A.replaceChild(l,f);let M=b;for(;M;)M.vnode.el===f&&(M.vnode.el=l,M.subTree.el=l),M=M.parent},h=l=>l.nodeType===1&&l.tagName.toLowerCase()==="template";return[v,g]}const kt=El;function Zl(t){return ec(t)}function tc(t){return ec(t,uf)}function ec(t,e){const r=Ji();r.__VUE__=!0;const{insert:i,remove:s,patchProp:a,createElement:n,createText:o,createComment:c,setText:u,setElementText:v,parentNode:g,nextSibling:m,setScopeId:_=Zt,insertStaticContent:p}=t,y=(N,D,H,j=null,W=null,X=null,Z=!1,Y=null,J=!!D.dynamicChildren)=>{if(N===D)return;N&&!Qt(N,D)&&(j=I(N),V(N,W,X,!0),N=null),D.patchFlag===-2&&(J=!1,D.dynamicChildren=null);const{type:K,ref:nt,shapeFlag:et}=D;switch(K){case We:S(N,D,H,j);break;case Lt:x(N,D,H,j);break;case je:N==null&&h(D,H,j,Z);break;case Ft:O(N,D,H,j,W,X,Z,Y,J);break;default:et&1?b(N,D,H,j,W,X,Z,Y,J):et&6?d(N,D,H,j,W,X,Z,Y,J):(et&64||et&128)&&K.process(N,D,H,j,W,X,Z,Y,J,z)}nt!=null&&W&&ai(nt,N&&N.ref,X,D||N,!D)},S=(N,D,H,j)=>{if(N==null)i(D.el=o(D.children),H,j);else{const W=D.el=N.el;D.children!==N.children&&u(W,D.children)}},x=(N,D,H,j)=>{N==null?i(D.el=c(D.children||""),H,j):D.el=N.el},h=(N,D,H,j)=>{[N.el,N.anchor]=p(N.children,D,H,j,N.el,N.anchor)},l=({el:N,anchor:D},H,j)=>{let W;for(;N&&N!==D;)W=m(N),i(N,H,j),N=W;i(D,H,j)},f=({el:N,anchor:D})=>{let H;for(;N&&N!==D;)H=m(N),s(N),N=H;s(D)},b=(N,D,H,j,W,X,Z,Y,J)=>{Z=Z||D.type==="svg",N==null?A(D,H,j,W,X,Z,Y,J):E(N,D,W,X,Z,Y,J)},A=(N,D,H,j,W,X,Z,Y)=>{let J,K;const{type:nt,props:et,shapeFlag:st,transition:at,dirs:ct}=N;if(J=N.el=n(N.type,X,et&&et.is,et),st&8?v(J,N.children):st&16&&C(N.children,J,null,j,W,X&&nt!=="foreignObject",Z,Y),ct&&ee(N,null,j,"created"),M(J,N,N.scopeId,Z,j),et){for(const gt in et)gt!=="value"&&!cn(gt)&&a(J,gt,null,et[gt],X,N.children,j,W,rt);"value"in et&&a(J,"value",null,et.value),(K=et.onVnodeBeforeMount)&&Gt(K,j,N)}ct&&ee(N,null,j,"beforeMount");const vt=rc(W,at);vt&&at.beforeEnter(J),i(J,D,H),((K=et&&et.onVnodeMounted)||vt||ct)&&kt(()=>{K&&Gt(K,j,N),vt&&at.enter(J),ct&&ee(N,null,j,"mounted")},W)},M=(N,D,H,j,W)=>{if(H&&_(N,H),j)for(let X=0;X<j.length;X++)_(N,j[X]);if(W){let X=W.subTree;if(D===X){const Z=W.vnode;M(N,Z,Z.scopeId,Z.slotScopeIds,W.parent)}}},C=(N,D,H,j,W,X,Z,Y,J=0)=>{for(let K=J;K<N.length;K++){const nt=N[K]=Y?Se(N[K]):Wt(N[K]);y(null,nt,D,H,j,W,X,Z,Y)}},E=(N,D,H,j,W,X,Z)=>{const Y=D.el=N.el;let{patchFlag:J,dynamicChildren:K,dirs:nt}=D;J|=N.patchFlag&16;const et=N.props||bt,st=D.props||bt;let at;H&&Ne(H,!1),(at=st.onVnodeBeforeUpdate)&&Gt(at,H,D,N),nt&&ee(D,N,H,"beforeUpdate"),H&&Ne(H,!0);const ct=W&&D.type!=="foreignObject";if(K?P(N.dynamicChildren,K,Y,H,j,ct,X):Z||L(N,D,Y,null,H,j,ct,X,!1),J>0){if(J&16)F(Y,D,et,st,H,j,W);else if(J&2&&et.class!==st.class&&a(Y,"class",null,st.class,W),J&4&&a(Y,"style",et.style,st.style,W),J&8){const vt=D.dynamicProps;for(let gt=0;gt<vt.length;gt++){const St=vt[gt],At=et[St],Ht=st[St];(Ht!==At||St==="value")&&a(Y,St,At,Ht,W,N.children,H,j,rt)}}J&1&&N.children!==D.children&&v(Y,D.children)}else!Z&&K==null&&F(Y,D,et,st,H,j,W);((at=st.onVnodeUpdated)||nt)&&kt(()=>{at&&Gt(at,H,D,N),nt&&ee(D,N,H,"updated")},j)},P=(N,D,H,j,W,X,Z)=>{for(let Y=0;Y<D.length;Y++){const J=N[Y],K=D[Y],nt=J.el&&(J.type===Ft||!Qt(J,K)||J.shapeFlag&70)?g(J.el):H;y(J,K,nt,null,j,W,X,Z,!0)}},F=(N,D,H,j,W,X,Z)=>{if(H!==j){if(H!==bt)for(const Y in H)!cn(Y)&&!(Y in j)&&a(N,Y,H[Y],null,Z,D.children,W,X,rt);for(const Y in j){if(cn(Y))continue;const J=j[Y],K=H[Y];J!==K&&Y!=="value"&&a(N,Y,K,J,Z,D.children,W,X,rt)}"value"in j&&a(N,"value",H.value,j.value)}},O=(N,D,H,j,W,X,Z,Y,J)=>{const K=D.el=N?N.el:o(""),nt=D.anchor=N?N.anchor:o("");let{patchFlag:et,dynamicChildren:st,slotScopeIds:at}=D;at&&(Y=Y?Y.concat(at):at),N==null?(i(K,H,j),i(nt,H,j),C(D.children,H,nt,W,X,Z,Y,J)):et>0&&et&64&&st&&N.dynamicChildren?(P(N.dynamicChildren,st,H,W,X,Z,Y),(D.key!=null||W&&D===W.subTree)&&qs(N,D,!0)):L(N,D,H,nt,W,X,Z,Y,J)},d=(N,D,H,j,W,X,Z,Y,J)=>{D.slotScopeIds=Y,N==null?D.shapeFlag&512?W.ctx.activate(D,H,j,Z,J):w(D,H,j,W,X,Z,J):T(N,D,J)},w=(N,D,H,j,W,X,Z)=>{const Y=N.component=cc(N,j,W);if(On(N)&&(Y.ctx.renderer=z),hc(Y),Y.asyncDep){if(W&&W.registerDep(Y,R),!N.el){const J=Y.subTree=mt(Lt);x(null,J,D,H)}return}R(Y,N,D,H,W,X,Z)},T=(N,D,H)=>{const j=D.component=N.component;if(fh(N,D,H))if(j.asyncDep&&!j.asyncResolved){k(j,D,H);return}else j.next=D,nh(j.update),j.update();else D.el=N.el,j.vnode=D},R=(N,D,H,j,W,X,Z)=>{const Y=()=>{if(N.isMounted){let{next:nt,bu:et,u:st,parent:at,vnode:ct}=N,vt=nt,gt;Ne(N,!1),nt?(nt.el=ct.el,k(N,nt,Z)):nt=ct,et&&nr(et),(gt=nt.props&&nt.props.onVnodeBeforeUpdate)&&Gt(gt,at,nt,ct),Ne(N,!0);const St=Xn(N),At=N.subTree;N.subTree=St,y(At,St,g(At.el),I(At),N,W,X),nt.el=St.el,vt===null&&Is(N,St.el),st&&kt(st,W),(gt=nt.props&&nt.props.onVnodeUpdated)&&kt(()=>Gt(gt,at,nt,ct),W)}else{let nt;const{el:et,props:st}=D,{bm:at,m:ct,parent:vt}=N,gt=He(D);if(Ne(N,!1),at&&nr(at),!gt&&(nt=st&&st.onVnodeBeforeMount)&&Gt(nt,vt,D),Ne(N,!0),et&&ot){const St=()=>{N.subTree=Xn(N),ot(et,N.subTree,N,W,null)};gt?D.type.__asyncLoader().then(()=>!N.isUnmounted&&St()):St()}else{const St=N.subTree=Xn(N);y(null,St,H,j,N,W,X),D.el=St.el}if(ct&&kt(ct,W),!gt&&(nt=st&&st.onVnodeMounted)){const St=D;kt(()=>Gt(nt,vt,St),W)}(D.shapeFlag&256||vt&&He(vt.vnode)&&vt.vnode.shapeFlag&256)&&N.a&&kt(N.a,W),N.isMounted=!0,D=H=j=null}},J=N.effect=new lr(Y,()=>bi(K),N.scope),K=N.update=()=>J.run();K.id=N.uid,Ne(N,!0),K()},k=(N,D,H)=>{D.component=N;const j=N.vnode.props;N.vnode=D,N.next=null,af(N,D.props,j,H),cf(N,D.children,H),gr(),pa(),pr()},L=(N,D,H,j,W,X,Z,Y,J=!1)=>{const K=N&&N.children,nt=N?N.shapeFlag:0,et=D.children,{patchFlag:st,shapeFlag:at}=D;if(st>0){if(st&128){U(K,et,H,j,W,X,Z,Y,J);return}else if(st&256){G(K,et,H,j,W,X,Z,Y,J);return}}at&8?(nt&16&&rt(K,W,X),et!==K&&v(H,et)):nt&16?at&16?U(K,et,H,j,W,X,Z,Y,J):rt(K,W,X,!0):(nt&8&&v(H,""),at&16&&C(et,H,j,W,X,Z,Y,J))},G=(N,D,H,j,W,X,Z,Y,J)=>{N=N||er,D=D||er;const K=N.length,nt=D.length,et=Math.min(K,nt);let st;for(st=0;st<et;st++){const at=D[st]=J?Se(D[st]):Wt(D[st]);y(N[st],at,H,null,W,X,Z,Y,J)}K>nt?rt(N,W,X,!0,!1,et):C(D,H,j,W,X,Z,Y,J,et)},U=(N,D,H,j,W,X,Z,Y,J)=>{let K=0;const nt=D.length;let et=N.length-1,st=nt-1;for(;K<=et&&K<=st;){const at=N[K],ct=D[K]=J?Se(D[K]):Wt(D[K]);if(Qt(at,ct))y(at,ct,H,null,W,X,Z,Y,J);else break;K++}for(;K<=et&&K<=st;){const at=N[et],ct=D[st]=J?Se(D[st]):Wt(D[st]);if(Qt(at,ct))y(at,ct,H,null,W,X,Z,Y,J);else break;et--,st--}if(K>et){if(K<=st){const at=st+1,ct=at<nt?D[at].el:j;for(;K<=st;)y(null,D[K]=J?Se(D[K]):Wt(D[K]),H,ct,W,X,Z,Y,J),K++}}else if(K>st)for(;K<=et;)V(N[K],W,X,!0),K++;else{const at=K,ct=K,vt=new Map;for(K=ct;K<=st;K++){const jt=D[K]=J?Se(D[K]):Wt(D[K]);jt.key!=null&&vt.set(jt.key,K)}let gt,St=0;const At=st-ct+1;let Ht=!1,Dn=0;const ke=new Array(At);for(K=0;K<At;K++)ke[K]=0;for(K=at;K<=et;K++){const jt=N[K];if(St>=At){V(jt,W,X,!0);continue}let te;if(jt.key!=null)te=vt.get(jt.key);else for(gt=ct;gt<=st;gt++)if(ke[gt-ct]===0&&Qt(jt,D[gt])){te=gt;break}te===void 0?V(jt,W,X,!0):(ke[te-ct]=K+1,te>=Dn?Dn=te:Ht=!0,y(jt,D[te],H,null,W,X,Z,Y,J),St++)}const Xe=Ht?hf(ke):er;for(gt=Xe.length-1,K=At-1;K>=0;K--){const jt=ct+K,te=D[jt],sa=jt+1<nt?D[jt+1].el:j;ke[K]===0?y(null,te,H,sa,W,X,Z,Y,J):Ht&&(gt<0||K!==Xe[gt]?$(te,H,sa,2):gt--)}}},$=(N,D,H,j,W=null)=>{const{el:X,type:Z,transition:Y,children:J,shapeFlag:K}=N;if(K&6){$(N.component.subTree,D,H,j);return}if(K&128){N.suspense.move(D,H,j);return}if(K&64){Z.move(N,D,H,z);return}if(Z===Ft){i(X,D,H);for(let et=0;et<J.length;et++)$(J[et],D,H,j);i(N.anchor,D,H);return}if(Z===je){l(N,D,H);return}if(j!==2&&K&1&&Y)if(j===0)Y.beforeEnter(X),i(X,D,H),kt(()=>Y.enter(X),W);else{const{leave:et,delayLeave:st,afterLeave:at}=Y,ct=()=>i(X,D,H),vt=()=>{et(X,()=>{ct(),at&&at()})};st?st(X,ct,vt):vt()}else i(X,D,H)},V=(N,D,H,j=!1,W=!1)=>{const{type:X,props:Z,ref:Y,children:J,dynamicChildren:K,shapeFlag:nt,patchFlag:et,dirs:st}=N;if(Y!=null&&ai(Y,null,H,N,!0),nt&256){D.ctx.deactivate(N);return}const at=nt&1&&st,ct=!He(N);let vt;if(ct&&(vt=Z&&Z.onVnodeBeforeUnmount)&&Gt(vt,D,N),nt&6)tt(N.component,H,j);else{if(nt&128){N.suspense.unmount(H,j);return}at&&ee(N,null,D,"beforeUnmount"),nt&64?N.type.remove(N,D,H,W,z,j):K&&(X!==Ft||et>0&&et&64)?rt(K,D,H,!1,!0):(X===Ft&&et&384||!W&&nt&16)&&rt(J,D,H),j&&q(N)}(ct&&(vt=Z&&Z.onVnodeUnmounted)||at)&&kt(()=>{vt&&Gt(vt,D,N),at&&ee(N,null,D,"unmounted")},H)},q=N=>{const{type:D,el:H,anchor:j,transition:W}=N;if(D===Ft){Q(H,j);return}if(D===je){f(N);return}const X=()=>{s(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(N.shapeFlag&1&&W&&!W.persisted){const{leave:Z,delayLeave:Y}=W,J=()=>Z(H,X);Y?Y(N.el,X,J):J()}else X()},Q=(N,D)=>{let H;for(;N!==D;)H=m(N),s(N),N=H;s(D)},tt=(N,D,H)=>{const{bum:j,scope:W,update:X,subTree:Z,um:Y}=N;j&&nr(j),W.stop(),X&&(X.active=!1,V(Z,N,D,H)),Y&&kt(Y,D),kt(()=>{N.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},rt=(N,D,H,j=!1,W=!1,X=0)=>{for(let Z=X;Z<N.length;Z++)V(N[Z],D,H,j,W)},I=N=>N.shapeFlag&6?I(N.component.subTree):N.shapeFlag&128?N.suspense.next():m(N.anchor||N.el),B=(N,D,H)=>{N==null?D._vnode&&V(D._vnode,null,null,!0):y(D._vnode||null,N,D,null,null,null,H),pa(),ii(),D._vnode=N},z={p:y,um:V,m:$,r:q,mt:w,mc:C,pc:L,pbc:P,n:I,o:t};let lt,ot;return e&&([lt,ot]=e(z)),{render:B,hydrate:lt,createApp:nf(B,lt)}}function Ne({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function rc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function qs(t,e,r=!1){const i=t.children,s=e.children;if(it(i)&&it(s))for(let a=0;a<i.length;a++){const n=i[a];let o=s[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[a]=Se(s[a]),o.el=n.el),r||qs(n,o)),o.type===We&&(o.el=n.el)}}function hf(t){const e=t.slice(),r=[0];let i,s,a,n,o;const c=t.length;for(i=0;i<c;i++){const u=t[i];if(u!==0){if(s=r[r.length-1],t[s]<u){e[i]=s,r.push(i);continue}for(a=0,n=r.length-1;a<n;)o=a+n>>1,t[r[o]]<u?a=o+1:n=o;u<t[r[a]]&&(a>0&&(e[i]=r[a-1]),r[a]=i)}}for(a=r.length,n=r[a-1];a-- >0;)r[a]=n,n=e[n];return r}const ff=t=>t.__isTeleport,fn=t=>t&&(t.disabled||t.disabled===""),Ea=t=>typeof SVGElement<"u"&&t instanceof SVGElement,os=(t,e)=>{const r=t&&t.to;return xt(r)?e?e(r):null:r},df={__isTeleport:!0,process(t,e,r,i,s,a,n,o,c,u){const{mc:v,pc:g,pbc:m,o:{insert:_,querySelector:p,createText:y,createComment:S}}=u,x=fn(e.props);let{shapeFlag:h,children:l,dynamicChildren:f}=e;if(t==null){const b=e.el=y(""),A=e.anchor=y("");_(b,r,i),_(A,r,i);const M=e.target=os(e.props,p),C=e.targetAnchor=y("");M&&(_(C,M),n=n||Ea(M));const E=(P,F)=>{h&16&&v(l,P,F,s,a,n,o,c)};x?E(r,A):M&&E(M,C)}else{e.el=t.el;const b=e.anchor=t.anchor,A=e.target=t.target,M=e.targetAnchor=t.targetAnchor,C=fn(t.props),E=C?r:A,P=C?b:M;if(n=n||Ea(A),f?(m(t.dynamicChildren,f,E,s,a,n,o),qs(t,e,!0)):c||g(t,e,E,P,s,a,n,o,!1),x)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):$n(e,r,b,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=os(e.props,p);F&&$n(e,F,null,u,0)}else C&&$n(e,A,M,u,1)}nc(e)},remove(t,e,r,i,{um:s,o:{remove:a}},n){const{shapeFlag:o,children:c,anchor:u,targetAnchor:v,target:g,props:m}=t;if(g&&a(v),n&&a(u),o&16){const _=n||!fn(m);for(let p=0;p<c.length;p++){const y=c[p];s(y,e,r,_,!!y.dynamicChildren)}}},move:$n,hydrate:gf};function $n(t,e,r,{o:{insert:i},m:s},a=2){a===0&&i(t.targetAnchor,e,r);const{el:n,anchor:o,shapeFlag:c,children:u,props:v}=t,g=a===2;if(g&&i(n,e,r),(!g||fn(v))&&c&16)for(let m=0;m<u.length;m++)s(u[m],e,r,2);g&&i(o,e,r)}function gf(t,e,r,i,s,a,{o:{nextSibling:n,parentNode:o,querySelector:c}},u){const v=e.target=os(e.props,c);if(v){const g=v._lpa||v.firstChild;if(e.shapeFlag&16)if(fn(e.props))e.anchor=u(n(t),e,o(t),r,i,s,a),e.targetAnchor=g;else{e.anchor=n(t);let m=g;for(;m;)if(m=n(m),m&&m.nodeType===8&&m.data==="teleport anchor"){e.targetAnchor=m,v._lpa=e.targetAnchor&&n(e.targetAnchor);break}u(g,e,v,r,i,s,a)}nc(e)}return e.anchor&&n(e.anchor)}const pf=df;function nc(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Ft=Symbol.for("v-fgt"),We=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),je=Symbol.for("v-stc"),dn=[];let Ut=null;function de(t=!1){dn.push(Ut=t?null:[])}function ic(){dn.pop(),Ut=dn[dn.length-1]||null}let ze=1;function ls(t){ze+=t}function sc(t){return t.dynamicChildren=ze>0?Ut||er:null,ic(),ze>0&&Ut&&Ut.push(t),t}function Ei(t,e,r,i,s,a){return sc(Ws(t,e,r,i,s,a,!0))}function Nn(t,e,r,i,s){return sc(mt(t,e,r,i,s,!0))}function Fe(t){return t?t.__v_isVNode===!0:!1}function Qt(t,e){return t.type===e.type&&t.key===e.key}function vf(t){}const Ai="__vInternal",ac=({key:t})=>t??null,Jn=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||Pt(t)||ut(t)?{i:Mt,r:t,k:e,f:!!r}:t:null);function Ws(t,e=null,r=null,i=0,s=null,a=t===Ft?0:1,n=!1,o=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ac(e),ref:e&&Jn(e),scopeId:Si,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Mt};return o?(zs(c,r),a&128&&t.normalize(c)):r&&(c.shapeFlag|=xt(r)?8:16),ze>0&&!n&&Ut&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ut.push(c),c}const mt=_f;function _f(t,e=null,r=null,i=0,s=null,a=!1){if((!t||t===Vl)&&(t=Lt),Fe(t)){const o=ne(t,e,!0);return r&&zs(o,r),ze>0&&!a&&Ut&&(o.shapeFlag&6?Ut[Ut.indexOf(t)]=o:Ut.push(o)),o.patchFlag|=-2,o}if(Tf(t)&&(t=t.__vccOpts),e){e=oc(e);let{class:o,style:c}=e;o&&!xt(o)&&(e.class=An(o)),yt(c)&&(Ms(c)&&!it(c)&&(c=wt({},c)),e.style=En(c))}const n=xt(t)?1:Tl(t)?128:ff(t)?64:yt(t)?4:ut(t)?2:0;return Ws(t,e,r,i,s,n,a,!0)}function oc(t){return t?Ms(t)||Ai in t?wt({},t):t:null}function ne(t,e,r=!1){const{props:i,ref:s,patchFlag:a,children:n}=t,o=e?lc(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&ac(o),ref:e&&e.ref?r&&s?it(s)?s.concat(Jn(e)):[s,Jn(e)]:Jn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:n,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ft?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ne(t.ssContent),ssFallback:t.ssFallback&&ne(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ln(t=" ",e=0){return mt(We,null,t,e)}function mf(t,e){const r=mt(je,null,t);return r.staticCount=e,r}function bf(t="",e=!1){return e?(de(),Nn(Lt,null,t)):mt(Lt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?mt(Lt):it(t)?mt(Ft,null,t.slice()):typeof t=="object"?Se(t):mt(We,null,String(t))}function Se(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ne(t)}function zs(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(it(e))r=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),zs(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(Ai in e)?e._ctx=Mt:s===3&&Mt&&(Mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:Mt},r=32):(e=String(e),i&64?(r=16,e=[Ln(e)]):r=8);t.children=e,t.shapeFlag|=r}function lc(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=An([e.class,i.class]));else if(s==="style")e.style=En([e.style,i.style]);else if(Pn(s)){const a=e[s],n=i[s];n&&a!==n&&!(it(a)&&a.includes(n))&&(e[s]=a?[].concat(a,n):n)}else s!==""&&(e[s]=i[s])}return e}function Gt(t,e,r,i=null){zt(t,e,7,[r,i])}const yf=ql();let Sf=0;function cc(t,e,r){const i=t.type,s=(e?e.appContext:t.appContext)||yf,a={uid:Sf++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ps(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yl(i,s),emitsOptions:Pl(i,s),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=sh.bind(null,a),t.ce&&t.ce(a),a}let Rt=null;const ge=()=>Rt||Mt;let $s,Je,Aa="__VUE_INSTANCE_SETTERS__";(Je=Ji()[Aa])||(Je=Ji()[Aa]=[]),Je.push(t=>Rt=t),$s=t=>{Je.length>1?Je.forEach(e=>e(t)):Je[0](t)};const Me=t=>{$s(t),t.scope.on()},Te=()=>{Rt&&Rt.scope.off(),$s(null)};function uc(t){return t.vnode.shapeFlag&4}let ur=!1;function hc(t,e=!1){ur=e;const{props:r,children:i}=t.vnode,s=uc(t);sf(t,r,s,e),lf(t,i);const a=s?Cf(t,e):void 0;return ur=!1,a}function Cf(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Fn(new Proxy(t.ctx,ns));const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?dc(t):null;Me(t),gr();const a=he(i,t,0,[t.props,s]);if(pr(),Te(),ws(a)){if(a.then(Te,Te),e)return a.then(n=>{cs(t,n,e)}).catch(n=>{Ye(n,t,0)});t.asyncDep=a}else cs(t,a,e)}else fc(t,e)}function cs(t,e,r){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=Ns(e)),fc(t,r)}let oi,us;function wf(t){oi=t,us=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Ih))}}const xf=()=>!oi;function fc(t,e,r){const i=t.type;if(!t.render){if(!e&&oi&&!i.render){const s=i.template||js(t).template;if(s){const{isCustomElement:a,compilerOptions:n}=t.appContext.config,{delimiters:o,compilerOptions:c}=i,u=wt(wt({isCustomElement:a,delimiters:o},n),c);i.render=oi(s,u)}}t.render=i.render||Zt,us&&us(t)}{Me(t),gr();try{Jh(t)}finally{pr(),Te()}}}function Pf(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Vt(t,"get","$attrs"),e[r]}}))}function dc(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Pf(t)},slots:t.slots,emit:t.emit,expose:e}}function Ri(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ns(Fn(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in hn)return hn[r](t)},has(e,r){return r in e||r in hn}}))}function hs(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function Tf(t){return ut(t)&&"__vccOpts"in t}const Ys=(t,e)=>Qu(t,e,ur);function gc(t,e,r){const i=arguments.length;return i===2?yt(e)&&!it(e)?Fe(e)?mt(t,null,[e]):mt(t,e):mt(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Fe(r)&&(r=[r]),mt(t,e,r))}const pc=Symbol.for("v-scx"),vc=()=>ar(pc);function Ef(){}function Af(t,e,r,i){const s=r[i];if(s&&_c(s,t))return s;const a=e();return a.memo=t.slice(),r[i]=a}function _c(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(Ee(r[i],e[i]))return!1;return ze>0&&Ut&&Ut.push(t),!0}const mc="3.3.7",Rf={createComponentInstance:cc,setupComponent:hc,renderComponentRoot:Xn,setCurrentRenderingInstance:yn,isVNode:Fe,normalizeVNode:Wt},Ff=Rf,Mf=null,Of=null,kf="http://www.w3.org/2000/svg",Ue=typeof document<"u"?document:null,Ra=Ue&&Ue.createElement("template"),Nf={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const s=e?Ue.createElementNS(kf,t):Ue.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Ue.createTextNode(t),createComment:t=>Ue.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ue.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,s,a){const n=r?r.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===a||!(s=s.nextSibling)););else{Ra.innerHTML=i?`<svg>${t}</svg>`:t;const o=Ra.content;if(i){const c=o.firstChild;for(;c.firstChild;)o.appendChild(c.firstChild);o.removeChild(c)}e.insertBefore(o,r)}return[n?n.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},_e="transition",vr="animation",hr=Symbol("_vtc"),Xs=(t,{slots:e})=>gc(Fl,yc(t),e);Xs.displayName="Transition";const bc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lf=Xs.props=wt({},Us,bc),Le=(t,e=[])=>{it(t)?t.forEach(r=>r(...e)):t&&t(...e)},Fa=t=>t?it(t)?t.some(e=>e.length>1):t.length>1:!1;function yc(t){const e={};for(const O in t)O in bc||(e[O]=t[O]);if(t.css===!1)return e;const{name:r="v",type:i,duration:s,enterFromClass:a=`${r}-enter-from`,enterActiveClass:n=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:c=a,appearActiveClass:u=n,appearToClass:v=o,leaveFromClass:g=`${r}-leave-from`,leaveActiveClass:m=`${r}-leave-active`,leaveToClass:_=`${r}-leave-to`}=t,p=If(s),y=p&&p[0],S=p&&p[1],{onBeforeEnter:x,onEnter:h,onEnterCancelled:l,onLeave:f,onLeaveCancelled:b,onBeforeAppear:A=x,onAppear:M=h,onAppearCancelled:C=l}=e,E=(O,d,w)=>{me(O,d?v:o),me(O,d?u:n),w&&w()},P=(O,d)=>{O._isLeaving=!1,me(O,g),me(O,_),me(O,m),d&&d()},F=O=>(d,w)=>{const T=O?M:h,R=()=>E(d,O,w);Le(T,[d,R]),Ma(()=>{me(d,O?c:a),ae(d,O?v:o),Fa(T)||Oa(d,i,y,R)})};return wt(e,{onBeforeEnter(O){Le(x,[O]),ae(O,a),ae(O,n)},onBeforeAppear(O){Le(A,[O]),ae(O,c),ae(O,u)},onEnter:F(!1),onAppear:F(!0),onLeave(O,d){O._isLeaving=!0;const w=()=>P(O,d);ae(O,g),Cc(),ae(O,m),Ma(()=>{O._isLeaving&&(me(O,g),ae(O,_),Fa(f)||Oa(O,i,S,w))}),Le(f,[O,w])},onEnterCancelled(O){E(O,!1),Le(l,[O])},onAppearCancelled(O){E(O,!0),Le(C,[O])},onLeaveCancelled(O){P(O),Le(b,[O])}})}function If(t){if(t==null)return null;if(yt(t))return[Ui(t.enter),Ui(t.leave)];{const e=Ui(t);return[e,e]}}function Ui(t){return ei(t)}function ae(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[hr]||(t[hr]=new Set)).add(e)}function me(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[hr];r&&(r.delete(e),r.size||(t[hr]=void 0))}function Ma(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Df=0;function Oa(t,e,r,i){const s=t._endId=++Df,a=()=>{s===t._endId&&i()};if(r)return setTimeout(a,r);const{type:n,timeout:o,propCount:c}=Sc(t,e);if(!n)return i();const u=n+"end";let v=0;const g=()=>{t.removeEventListener(u,m),a()},m=_=>{_.target===t&&++v>=c&&g()};setTimeout(()=>{v<c&&g()},o+1),t.addEventListener(u,m)}function Sc(t,e){const r=window.getComputedStyle(t),i=p=>(r[p]||"").split(", "),s=i(`${_e}Delay`),a=i(`${_e}Duration`),n=ka(s,a),o=i(`${vr}Delay`),c=i(`${vr}Duration`),u=ka(o,c);let v=null,g=0,m=0;e===_e?n>0&&(v=_e,g=n,m=a.length):e===vr?u>0&&(v=vr,g=u,m=c.length):(g=Math.max(n,u),v=g>0?n>u?_e:vr:null,m=v?v===_e?a.length:c.length:0);const _=v===_e&&/\b(transform|all)(,|$)/.test(i(`${_e}Property`).toString());return{type:v,timeout:g,propCount:m,hasTransform:_}}function ka(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>Na(r)+Na(t[i])))}function Na(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Cc(){return document.body.offsetHeight}function Gf(t,e,r){const i=t[hr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Js=Symbol("_vod"),wc={beforeMount(t,{value:e},{transition:r}){t[Js]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):_r(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),_r(t,!0),i.enter(t)):i.leave(t,()=>{_r(t,!1)}):_r(t,e))},beforeUnmount(t,{value:e}){_r(t,e)}};function _r(t,e){t.style.display=e?t[Js]:"none"}function Uf(){wc.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function Bf(t,e,r){const i=t.style,s=xt(r);if(r&&!s){if(e&&!xt(e))for(const a in e)r[a]==null&&fs(i,a,"");for(const a in r)fs(i,a,r[a])}else{const a=i.display;s?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),Js in t&&(i.display=a)}}const La=/\s*!important$/;function fs(t,e,r){if(it(r))r.forEach(i=>fs(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=Vf(t,e);La.test(r)?t.setProperty(Yt(i),r.replace(La,""),"important"):t[i]=r}}const Ia=["Webkit","Moz","ms"],Bi={};function Vf(t,e){const r=Bi[e];if(r)return r;let i=Bt(e);if(i!=="filter"&&i in t)return Bi[e]=i;i=Tn(i);for(let s=0;s<Ia.length;s++){const a=Ia[s]+i;if(a in t)return Bi[e]=a}return e}const Da="http://www.w3.org/1999/xlink";function Hf(t,e,r,i,s){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Da,e.slice(6,e.length)):t.setAttributeNS(Da,e,r);else{const a=pu(e);r==null||a&&!tl(r)?t.removeAttribute(e):t.setAttribute(e,a?"":r)}}function jf(t,e,r,i,s,a,n){if(e==="innerHTML"||e==="textContent"){i&&n(i,s,a),t[e]=r??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=r;const u=o==="OPTION"?t.getAttribute("value"):t.value,v=r??"";u!==v&&(t.value=v),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=tl(r):r==null&&u==="string"?(r="",c=!0):u==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function le(t,e,r,i){t.addEventListener(e,r,i)}function Kf(t,e,r,i){t.removeEventListener(e,r,i)}const Ga=Symbol("_vei");function qf(t,e,r,i,s=null){const a=t[Ga]||(t[Ga]={}),n=a[e];if(i&&n)n.value=i;else{const[o,c]=Wf(e);if(i){const u=a[e]=Yf(i,s);le(t,o,u,c)}else n&&(Kf(t,o,n,c),a[e]=void 0)}}const Ua=/(?:Once|Passive|Capture)$/;function Wf(t){let e;if(Ua.test(t)){e={};let i;for(;i=t.match(Ua);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let Vi=0;const zf=Promise.resolve(),$f=()=>Vi||(zf.then(()=>Vi=0),Vi=Date.now());function Yf(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;zt(Xf(i,r.value),e,5,[i])};return r.value=t,r.attached=$f(),r}function Xf(t,e){if(it(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Ba=/^on[a-z]/,Jf=(t,e,r,i,s=!1,a,n,o,c)=>{e==="class"?Gf(t,i,s):e==="style"?Bf(t,r,i):Pn(e)?Ss(e)||qf(t,e,r,i,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Qf(t,e,i,s))?jf(t,e,i,a,n,o,c):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Hf(t,e,i,s))};function Qf(t,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Ba.test(e)&&ut(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ba.test(e)&&xt(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function xc(t,e){const r=Bs(t);class i extends Fi{constructor(a){super(r,a,e)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Zf=t=>xc(t,Lc),td=typeof HTMLElement<"u"?HTMLElement:class{};class Fi extends td{constructor(e,r={},i){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),mi(()=>{this._connected||(ps(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{const{props:a,styles:n}=i;let o;if(a&&!it(a))for(const c in a){const u=a[c];(u===Number||u&&u.type===Number)&&(c in this._props&&(this._props[c]=ei(this._props[c])),(o||(o=Object.create(null)))[Bt(c)]=!0)}this._numberProps=o,s&&this._resolveProps(i),this._applyStyles(n),this._update()},r=this._def.__asyncLoader;r?r().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,i=it(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(Bt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(a){this._setProp(s,a)}})}_setAttr(e){let r=this.getAttribute(e);const i=Bt(e);this._numberProps&&this._numberProps[i]&&(r=ei(r)),this._setProp(i,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,s=!0){r!==this._props[e]&&(this._props[e]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(Yt(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Yt(e),r+""):r||this.removeAttribute(Yt(e))))}_update(){ps(this._createVNode(),this.shadowRoot)}_createVNode(){const e=mt(this._def,wt({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const i=(a,n)=>{this.dispatchEvent(new CustomEvent(a,{detail:n}))};r.emit=(a,...n)=>{i(a,n),Yt(a)!==a&&i(Yt(a),n)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Fi){r.parent=s._instance,r.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const i=document.createElement("style");i.textContent=r,this.shadowRoot.appendChild(i)})}}function ed(t="$style"){{const e=ge();if(!e)return bt;const r=e.type.__cssModules;if(!r)return bt;const i=r[t];return i||bt}}function rd(t){const e=ge();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>gs(a,s))},i=()=>{const s=t(e.proxy);ds(e.subTree,s),r(s)};Al(i),kn(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),Ti(()=>s.disconnect())})}function ds(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{ds(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)gs(t.el,e);else if(t.type===Ft)t.children.forEach(r=>ds(r,e));else if(t.type===je){let{el:r,anchor:i}=t;for(;r&&(gs(r,e),r!==i);)r=r.nextSibling}}function gs(t,e){if(t.nodeType===1){const r=t.style;for(const i in e)r.setProperty(`--${i}`,e[i])}}const Pc=new WeakMap,Tc=new WeakMap,li=Symbol("_moveCb"),Va=Symbol("_enterCb"),Ec={name:"TransitionGroup",props:wt({},Lf,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=ge(),i=Gs();let s,a;return xi(()=>{if(!s.length)return;const n=t.moveClass||`${t.name||"v"}-move`;if(!ld(s[0].el,r.vnode.el,n))return;s.forEach(sd),s.forEach(ad);const o=s.filter(od);Cc(),o.forEach(c=>{const u=c.el,v=u.style;ae(u,n),v.transform=v.webkitTransform=v.transitionDuration="";const g=u[li]=m=>{m&&m.target!==u||(!m||/transform$/.test(m.propertyName))&&(u.removeEventListener("transitionend",g),u[li]=null,me(u,n))};u.addEventListener("transitionend",g)})}),()=>{const n=pt(t),o=yc(n);let c=n.tag||Ft;s=a,a=e.default?Ci(e.default()):[];for(let u=0;u<a.length;u++){const v=a[u];v.key!=null&&qe(v,cr(v,o,i,r))}if(s)for(let u=0;u<s.length;u++){const v=s[u];qe(v,cr(v,o,i,r)),Pc.set(v,v.el.getBoundingClientRect())}return mt(c,null,a)}}},nd=t=>delete t.mode;Ec.props;const id=Ec;function sd(t){const e=t.el;e[li]&&e[li](),e[Va]&&e[Va]()}function ad(t){Tc.set(t,t.el.getBoundingClientRect())}function od(t){const e=Pc.get(t),r=Tc.get(t),i=e.left-r.left,s=e.top-r.top;if(i||s){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${s}px)`,a.transitionDuration="0s",t}}function ld(t,e,r){const i=t.cloneNode(),s=t[hr];s&&s.forEach(o=>{o.split(/\s+/).forEach(c=>c&&i.classList.remove(c))}),r.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:n}=Sc(i);return a.removeChild(i),n}const Oe=t=>{const e=t.props["onUpdate:modelValue"]||!1;return it(e)?r=>nr(e,r):e};function cd(t){t.target.composing=!0}function Ha(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xt=Symbol("_assign"),ci={created(t,{modifiers:{lazy:e,trim:r,number:i}},s){t[Xt]=Oe(s);const a=i||s.props&&s.props.type==="number";le(t,e?"change":"input",n=>{if(n.target.composing)return;let o=t.value;r&&(o=o.trim()),a&&(o=ti(o)),t[Xt](o)}),r&&le(t,"change",()=>{t.value=t.value.trim()}),e||(le(t,"compositionstart",cd),le(t,"compositionend",Ha),le(t,"change",Ha))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:i,number:s}},a){if(t[Xt]=Oe(a),t.composing||document.activeElement===t&&t.type!=="range"&&(r||i&&t.value.trim()===e||(s||t.type==="number")&&ti(t.value)===e))return;const n=e??"";t.value!==n&&(t.value=n)}},Qs={deep:!0,created(t,e,r){t[Xt]=Oe(r),le(t,"change",()=>{const i=t._modelValue,s=fr(t),a=t.checked,n=t[Xt];if(it(i)){const o=fi(i,s),c=o!==-1;if(a&&!c)n(i.concat(s));else if(!a&&c){const u=[...i];u.splice(o,1),n(u)}}else if($e(i)){const o=new Set(i);a?o.add(s):o.delete(s),n(o)}else n(Rc(t,a))})},mounted:ja,beforeUpdate(t,e,r){t[Xt]=Oe(r),ja(t,e,r)}};function ja(t,{value:e,oldValue:r},i){t._modelValue=e,it(e)?t.checked=fi(e,i.props.value)>-1:$e(e)?t.checked=e.has(i.props.value):e!==r&&(t.checked=Ae(e,Rc(t,!0)))}const Zs={created(t,{value:e},r){t.checked=Ae(e,r.props.value),t[Xt]=Oe(r),le(t,"change",()=>{t[Xt](fr(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t[Xt]=Oe(i),e!==r&&(t.checked=Ae(e,i.props.value))}},Ac={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const s=$e(e);le(t,"change",()=>{const a=Array.prototype.filter.call(t.options,n=>n.selected).map(n=>r?ti(fr(n)):fr(n));t[Xt](t.multiple?s?new Set(a):a:a[0])}),t[Xt]=Oe(i)},mounted(t,{value:e}){Ka(t,e)},beforeUpdate(t,e,r){t[Xt]=Oe(r)},updated(t,{value:e}){Ka(t,e)}};function Ka(t,e){const r=t.multiple;if(!(r&&!it(e)&&!$e(e))){for(let i=0,s=t.options.length;i<s;i++){const a=t.options[i],n=fr(a);if(r)it(e)?a.selected=fi(e,n)>-1:a.selected=e.has(n);else if(Ae(fr(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fr(t){return"_value"in t?t._value:t.value}function Rc(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Fc={created(t,e,r){Yn(t,e,r,null,"created")},mounted(t,e,r){Yn(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){Yn(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){Yn(t,e,r,i,"updated")}};function Mc(t,e){switch(t){case"SELECT":return Ac;case"TEXTAREA":return ci;default:switch(e){case"checkbox":return Qs;case"radio":return Zs;default:return ci}}}function Yn(t,e,r,i,s){const n=Mc(t.tagName,r.props&&r.props.type)[s];n&&n(t,e,r,i)}function ud(){ci.getSSRProps=({value:t})=>({value:t}),Zs.getSSRProps=({value:t},e)=>{if(e.props&&Ae(e.props.value,t))return{checked:!0}},Qs.getSSRProps=({value:t},e)=>{if(it(t)){if(e.props&&fi(t,e.props.value)>-1)return{checked:!0}}else if($e(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Fc.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Mc(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const hd=["ctrl","shift","alt","meta"],fd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hd.some(r=>t[`${r}Key`]&&!e.includes(r))},dd=(t,e)=>(r,...i)=>{for(let s=0;s<e.length;s++){const a=fd[e[s]];if(a&&a(r,e))return}return t(r,...i)},gd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pd=(t,e)=>r=>{if(!("key"in r))return;const i=Yt(r.key);if(e.some(s=>s===i||gd[s]===i))return t(r)},Oc=wt({patchProp:Jf},Nf);let gn,qa=!1;function kc(){return gn||(gn=Zl(Oc))}function Nc(){return gn=qa?gn:tc(Oc),qa=!0,gn}const ps=(...t)=>{kc().render(...t)},Lc=(...t)=>{Nc().hydrate(...t)},Ic=(...t)=>{const e=kc().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=Dc(i);if(!s)return;const a=e._component;!ut(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.innerHTML="";const n=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),n},e},vd=(...t)=>{const e=Nc().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=Dc(i);if(s)return r(s,!0,s instanceof SVGElement)},e};function Dc(t){return xt(t)?document.querySelector(t):t}let Wa=!1;const _d=()=>{Wa||(Wa=!0,ud(),Uf())},md=()=>{},bd=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Fl,BaseTransitionPropsValidators:Us,Comment:Lt,EffectScope:Ps,Fragment:Ft,KeepAlive:Eh,ReactiveEffect:lr,Static:je,Suspense:gh,Teleport:pf,Text:We,Transition:Xs,TransitionGroup:id,VueElement:Fi,assertNumber:th,callWithAsyncErrorHandling:zt,callWithErrorHandling:he,camelize:Bt,capitalize:Tn,cloneVNode:ne,compatUtils:Of,compile:md,computed:Ys,createApp:Ic,createBlock:Nn,createCommentVNode:bf,createElementBlock:Ei,createElementVNode:Ws,createHydrationRenderer:tc,createPropsRestProxy:Yh,createRenderer:Zl,createSSRApp:vd,createSlots:kh,createStaticVNode:mf,createTextVNode:Ln,createVNode:mt,customRef:zu,defineAsyncComponent:Ph,defineComponent:Bs,defineCustomElement:xc,defineEmits:Gh,defineExpose:Uh,defineModel:Hh,defineOptions:Bh,defineProps:Dh,defineSSRCustomElement:Zf,defineSlots:Vh,get devtools(){return Ze},effect:bu,effectScope:Ts,getCurrentInstance:ge,getCurrentScope:Es,getTransitionRawChildren:Ci,guardReactiveProps:oc,h:gc,handleError:Ye,hasInjectionContext:zl,hydrate:Lc,initCustomFormatter:Ef,initDirectivesForSSR:_d,inject:ar,isMemoSame:_c,isProxy:Ms,isReactive:ue,isReadonly:Ke,isRef:Pt,isRuntimeOnly:xf,isShallow:vn,isVNode:Fe,markRaw:Fn,mergeDefaults:zh,mergeModels:$h,mergeProps:lc,nextTick:mi,normalizeClass:An,normalizeProps:du,normalizeStyle:En,onActivated:Ol,onBeforeMount:Ll,onBeforeUnmount:Pi,onBeforeUpdate:Il,onDeactivated:kl,onErrorCaptured:Bl,onMounted:kn,onRenderTracked:Ul,onRenderTriggered:Gl,onScopeDispose:il,onServerPrefetch:Dl,onUnmounted:Ti,onUpdated:xi,openBlock:de,popScopeId:oh,provide:Wl,proxyRefs:Ns,pushScopeId:ah,queuePostFlushCb:ni,reactive:Rn,readonly:Fs,ref:we,registerRuntimeCompiler:wf,render:ps,renderList:Oh,renderSlot:Nh,resolveComponent:Pe,resolveDirective:Mh,resolveDynamicComponent:Fh,resolveFilter:Mf,resolveTransitionHooks:cr,setBlockTracking:ls,setDevtoolsHook:xl,setTransitionHooks:qe,shallowReactive:_l,shallowReadonly:Bu,shallowRef:Vu,ssrContextKey:pc,ssrUtils:Ff,stop:yu,toDisplayString:el,toHandlerKey:un,toHandlers:Lh,toRaw:pt,toRef:Xu,toRefs:bl,toValue:Ku,transformVNodeArgs:vf,triggerRef:ju,unref:_i,useAttrs:qh,useCssModule:ed,useCssVars:rd,useModel:Wh,useSSRContext:vc,useSlots:Kh,useTransitionState:Gs,vModelCheckbox:Qs,vModelDynamic:Fc,vModelRadio:Zs,vModelSelect:Ac,vModelText:ci,vShow:wc,version:mc,warn:Zu,watch:xe,watchEffect:yh,watchPostEffect:Al,watchSyncEffect:Sh,withAsyncContext:Xh,withCtx:Sn,withDefaults:jh,withDirectives:wh,withKeys:pd,withMemo:Af,withModifiers:dd,withScopeId:lh},Symbol.toStringTag,{value:"Module"}));var yd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Gc;const Mi=t=>Gc=t,Uc=Symbol();function vs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var pn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(pn||(pn={}));function Sd(){const t=Ts(!0),e=t.run(()=>we({}));let r=[],i=[];const s=Fn({install(a){Mi(s),s._a=a,a.provide(Uc,s),a.config.globalProperties.$pinia=s,i.forEach(n=>r.push(n)),i=[]},use(a){return!this._a&&!yd?i.push(a):r.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const Bc=()=>{};function za(t,e,r,i=Bc){t.push(e);const s=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),i())};return!r&&Es()&&il(s),s}function Qe(t,...e){t.slice().forEach(r=>{r(...e)})}const Cd=t=>t();function _s(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,i)=>t.set(i,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];vs(s)&&vs(i)&&t.hasOwnProperty(r)&&!Pt(i)&&!ue(i)?t[r]=_s(s,i):t[r]=i}return t}const wd=Symbol();function xd(t){return!vs(t)||!t.hasOwnProperty(wd)}const{assign:be}=Object;function Pd(t){return!!(Pt(t)&&t.effect)}function Td(t,e,r,i){const{state:s,actions:a,getters:n}=e,o=r.state.value[t];let c;function u(){o||(r.state.value[t]=s?s():{});const v=bl(r.state.value[t]);return be(v,a,Object.keys(n||{}).reduce((g,m)=>(g[m]=Fn(Ys(()=>{Mi(r);const _=r._s.get(t);return n[m].call(_,_)})),g),{}))}return c=Vc(t,u,e,r,i,!0),c}function Vc(t,e,r={},i,s,a){let n;const o=be({actions:{}},r),c={deep:!0};let u,v,g=[],m=[],_;const p=i.state.value[t];!a&&!p&&(i.state.value[t]={}),we({});let y;function S(C){let E;u=v=!1,typeof C=="function"?(C(i.state.value[t]),E={type:pn.patchFunction,storeId:t,events:_}):(_s(i.state.value[t],C),E={type:pn.patchObject,payload:C,storeId:t,events:_});const P=y=Symbol();mi().then(()=>{y===P&&(u=!0)}),v=!0,Qe(g,E,i.state.value[t])}const x=a?function(){const{state:E}=r,P=E?E():{};this.$patch(F=>{be(F,P)})}:Bc;function h(){n.stop(),g=[],m=[],i._s.delete(t)}function l(C,E){return function(){Mi(i);const P=Array.from(arguments),F=[],O=[];function d(R){F.push(R)}function w(R){O.push(R)}Qe(m,{args:P,name:C,store:b,after:d,onError:w});let T;try{T=E.apply(this&&this.$id===t?this:b,P)}catch(R){throw Qe(O,R),R}return T instanceof Promise?T.then(R=>(Qe(F,R),R)).catch(R=>(Qe(O,R),Promise.reject(R))):(Qe(F,T),T)}}const f={_p:i,$id:t,$onAction:za.bind(null,m),$patch:S,$reset:x,$subscribe(C,E={}){const P=za(g,C,E.detached,()=>F()),F=n.run(()=>xe(()=>i.state.value[t],O=>{(E.flush==="sync"?v:u)&&C({storeId:t,type:pn.direct,events:_},O)},be({},c,E)));return P},$dispose:h},b=Rn(f);i._s.set(t,b);const M=(i._a&&i._a.runWithContext||Cd)(()=>i._e.run(()=>(n=Ts()).run(e)));for(const C in M){const E=M[C];if(Pt(E)&&!Pd(E)||ue(E))a||(p&&xd(E)&&(Pt(E)?E.value=p[C]:_s(E,p[C])),i.state.value[t][C]=E);else if(typeof E=="function"){const P=l(C,E);M[C]=P,o.actions[C]=E}}return be(b,M),be(pt(b),M),Object.defineProperty(b,"$state",{get:()=>i.state.value[t],set:C=>{S(E=>{be(E,C)})}}),i._p.forEach(C=>{be(b,n.run(()=>C({store:b,app:i._a,pinia:i,options:o})))}),p&&a&&r.hydrate&&r.hydrate(b.$state,p),u=!0,v=!0,b}function Hc(t,e,r){let i,s;const a=typeof e=="function";typeof t=="string"?(i=t,s=a?r:e):(s=t,i=t.id);function n(o,c){const u=zl();return o=o||(u?ar(Uc,null):null),o&&Mi(o),o=Gc,o._s.has(i)||(a?Vc(i,e,s,o):Td(i,s,o)),o._s.get(i)}return n.$id=i,n}var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ad(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var jc={exports:{}};const Rd=Ad(bd);var Qn={exports:{}},mr={},Hi={},ji={},$a;function ft(){return $a||($a=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof ms<"u"?ms:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.2.3",isBrowser:r(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const i=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(ji)),ji}var Ki={},Ya;function Tt(){return Ya||(Ya=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ft();class r{constructor(f=[1,0,0,1,0,0]){this.dirty=!1,this.m=f&&f.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(f){f.m[0]=this.m[0],f.m[1]=this.m[1],f.m[2]=this.m[2],f.m[3]=this.m[3],f.m[4]=this.m[4],f.m[5]=this.m[5]}point(f){var b=this.m;return{x:b[0]*f.x+b[2]*f.y+b[4],y:b[1]*f.x+b[3]*f.y+b[5]}}translate(f,b){return this.m[4]+=this.m[0]*f+this.m[2]*b,this.m[5]+=this.m[1]*f+this.m[3]*b,this}scale(f,b){return this.m[0]*=f,this.m[1]*=f,this.m[2]*=b,this.m[3]*=b,this}rotate(f){var b=Math.cos(f),A=Math.sin(f),M=this.m[0]*b+this.m[2]*A,C=this.m[1]*b+this.m[3]*A,E=this.m[0]*-A+this.m[2]*b,P=this.m[1]*-A+this.m[3]*b;return this.m[0]=M,this.m[1]=C,this.m[2]=E,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(f,b){var A=this.m[0]+this.m[2]*b,M=this.m[1]+this.m[3]*b,C=this.m[2]+this.m[0]*f,E=this.m[3]+this.m[1]*f;return this.m[0]=A,this.m[1]=M,this.m[2]=C,this.m[3]=E,this}multiply(f){var b=this.m[0]*f.m[0]+this.m[2]*f.m[1],A=this.m[1]*f.m[0]+this.m[3]*f.m[1],M=this.m[0]*f.m[2]+this.m[2]*f.m[3],C=this.m[1]*f.m[2]+this.m[3]*f.m[3],E=this.m[0]*f.m[4]+this.m[2]*f.m[5]+this.m[4],P=this.m[1]*f.m[4]+this.m[3]*f.m[5]+this.m[5];return this.m[0]=b,this.m[1]=A,this.m[2]=M,this.m[3]=C,this.m[4]=E,this.m[5]=P,this}invert(){var f=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*f,A=-this.m[1]*f,M=-this.m[2]*f,C=this.m[0]*f,E=f*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=f*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=A,this.m[2]=M,this.m[3]=C,this.m[4]=E,this.m[5]=P,this}getMatrix(){return this.m}decompose(){var f=this.m[0],b=this.m[1],A=this.m[2],M=this.m[3],C=this.m[4],E=this.m[5],P=f*M-b*A;let F={x:C,y:E,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(f!=0||b!=0){var O=Math.sqrt(f*f+b*b);F.rotation=b>0?Math.acos(f/O):-Math.acos(f/O),F.scaleX=O,F.scaleY=P/O,F.skewX=(f*A+b*M)/P,F.skewY=0}else if(A!=0||M!=0){var d=Math.sqrt(A*A+M*M);F.rotation=Math.PI/2-(M>0?Math.acos(-A/d):-Math.acos(A/d)),F.scaleX=P/d,F.scaleY=d,F.skewX=0,F.skewY=(f*A+b*M)/P}return F.rotation=t.Util._getRotation(F.rotation),F}}t.Transform=r;var i="[object Array]",s="[object Number]",a="[object String]",n="[object Boolean]",o=Math.PI/180,c=180/Math.PI,u="#",v="",g="0",m="Konva warning: ",_="Konva error: ",p="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,x=[];const h=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};t.Util={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===i},_isNumber(l){return Object.prototype.toString.call(l)===s&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===a},_isBoolean(l){return Object.prototype.toString.call(l)===n},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;var f=l[0];return f==="#"||f==="."||f===f.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){x.push(l),x.length===1&&h(function(){const f=x;x=[],f.forEach(function(b){b()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,f){var b=t.Util.createImageElement();b.onload=function(){f(b)},b.src=l},_rgbToHex(l,f,b){return((1<<24)+(l<<16)+(f<<8)+b).toString(16).slice(1)},_hexToRgb(l){l=l.replace(u,v);var f=parseInt(l,16);return{r:f>>16&255,g:f>>8&255,b:f&255}},getRandomColor(){for(var l=(Math.random()*16777215<<0).toString(16);l.length<6;)l=g+l;return u+l},getRGB(l){var f;return l in y?(f=y[l],{r:f[0],g:f[1],b:f[2]}):l[0]===u?this._hexToRgb(l.substring(1)):l.substr(0,4)===p?(f=S.exec(l.replace(/ /g,"")),{r:parseInt(f[1],10),g:parseInt(f[2],10),b:parseInt(f[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",t.Util._namedColorToRBA(l)||t.Util._hex3ColorToRGBA(l)||t.Util._hex4ColorToRGBA(l)||t.Util._hex6ColorToRGBA(l)||t.Util._hex8ColorToRGBA(l)||t.Util._rgbColorToRGBA(l)||t.Util._rgbaColorToRGBA(l)||t.Util._hslColorToRGBA(l)},_namedColorToRBA(l){var f=y[l.toLowerCase()];return f?{r:f[0],g:f[1],b:f[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];var f=l.split(/ *, */).map(Number);return{r:f[0],g:f[1],b:f[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];var f=l.split(/ *, */).map((b,A)=>b.slice(-1)==="%"?A===3?parseInt(b)/100:parseInt(b)/100*255:Number(b));return{r:f[0],g:f[1],b:f[2],a:f[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[f,...b]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),A=Number(b[0])/360,M=Number(b[1])/100,C=Number(b[2])/100;let E,P,F;if(M===0)return F=C*255,{r:Math.round(F),g:Math.round(F),b:Math.round(F),a:1};C<.5?E=C*(1+M):E=C+M-C*M;const O=2*C-E,d=[0,0,0];for(let w=0;w<3;w++)P=A+1/3*-(w-1),P<0&&P++,P>1&&P--,6*P<1?F=O+(E-O)*6*P:2*P<1?F=E:3*P<2?F=O+(E-O)*(2/3-P)*6:F=O,d[w]=F*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(l,f){return!(f.x>l.x+l.width||f.x+f.width<l.x||f.y>l.y+l.height||f.y+f.height<l.y)},cloneObject(l){var f={};for(var b in l)this._isPlainObject(l[b])?f[b]=this.cloneObject(l[b]):this._isArray(l[b])?f[b]=this.cloneArray(l[b]):f[b]=l[b];return f},cloneArray(l){return l.slice(0)},degToRad(l){return l*o},radToDeg(l){return l*c},_degToRad(l){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(l)},_radToDeg(l){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(l)},_getRotation(l){return e.Konva.angleDeg?t.Util.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(_+l)},error(l){console.error(_+l)},warn(l){e.Konva.showWarnings&&console.warn(m+l)},each(l,f){for(var b in l)f(b,l[b])},_inRange(l,f,b){return f<=l&&l<b},_getProjectionToSegment(l,f,b,A,M,C){var E,P,F,O=(l-b)*(l-b)+(f-A)*(f-A);if(O==0)E=l,P=f,F=(M-b)*(M-b)+(C-A)*(C-A);else{var d=((M-l)*(b-l)+(C-f)*(A-f))/O;d<0?(E=l,P=f,F=(l-M)*(l-M)+(f-C)*(f-C)):d>1?(E=b,P=A,F=(b-M)*(b-M)+(A-C)*(A-C)):(E=l+d*(b-l),P=f+d*(A-f),F=(E-M)*(E-M)+(P-C)*(P-C))}return[E,P,F]},_getProjectionToLine(l,f,b){var A=t.Util.cloneObject(l),M=Number.MAX_VALUE;return f.forEach(function(C,E){if(!(!b&&E===f.length-1)){var P=f[(E+1)%f.length],F=t.Util._getProjectionToSegment(C.x,C.y,P.x,P.y,l.x,l.y),O=F[0],d=F[1],w=F[2];w<M&&(A.x=O,A.y=d,M=w)}}),A},_prepareArrayForTween(l,f,b){var A,M=[],C=[];if(l.length>f.length){var E=f;f=l,l=E}for(A=0;A<l.length;A+=2)M.push({x:l[A],y:l[A+1]});for(A=0;A<f.length;A+=2)C.push({x:f[A],y:f[A+1]});var P=[];return C.forEach(function(F){var O=t.Util._getProjectionToLine(F,M,b);P.push(O.x),P.push(O.y)}),P},_prepareToStringify(l){var f;l.visitedByCircularReferenceRemoval=!0;for(var b in l)if(l.hasOwnProperty(b)&&l[b]&&typeof l[b]=="object"){if(f=Object.getOwnPropertyDescriptor(l,b),l[b].visitedByCircularReferenceRemoval||t.Util._isElement(l[b]))if(f.configurable)delete l[b];else return null;else if(t.Util._prepareToStringify(l[b])===null)if(f.configurable)delete l[b];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,f){for(var b in f)l[b]=f[b];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999},releaseCanvas(...l){e.Konva.releaseCanvasOnDestroy&&l.forEach(f=>{f.width=0,f.height=0})},drawRoundedRectPath(l,f,b,A){let M=0,C=0,E=0,P=0;typeof A=="number"?M=C=E=P=Math.min(A,f/2,b/2):(M=Math.min(A[0]||0,f/2,b/2),C=Math.min(A[1]||0,f/2,b/2),P=Math.min(A[2]||0,f/2,b/2),E=Math.min(A[3]||0,f/2,b/2)),l.moveTo(M,0),l.lineTo(f-C,0),l.arc(f-C,C,C,Math.PI*3/2,0,!1),l.lineTo(f,b-P),l.arc(f-P,b-P,P,0,Math.PI/2,!1),l.lineTo(E,b),l.arc(E,b-E,E,Math.PI/2,Math.PI,!1),l.lineTo(0,M),l.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}}(Ki)),Ki}var br={},qi={},Ct={},Xa;function dt(){if(Xa)return Ct;Xa=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getComponentValidator=Ct.getBooleanValidator=Ct.getNumberArrayValidator=Ct.getFunctionValidator=Ct.getStringOrGradientValidator=Ct.getStringValidator=Ct.getNumberOrAutoValidator=Ct.getNumberOrArrayOfNumbersValidator=Ct.getNumberValidator=Ct.alphaComponent=Ct.RGBComponent=void 0;const t=ft(),e=Tt();function r(p){return e.Util._isString(p)?'"'+p+'"':Object.prototype.toString.call(p)==="[object Number]"||e.Util._isBoolean(p)?p:Object.prototype.toString.call(p)}function i(p){return p>255?255:p<0?0:Math.round(p)}Ct.RGBComponent=i;function s(p){return p>1?1:p<1e-4?1e-4:p}Ct.alphaComponent=s;function a(){if(t.Konva.isUnminified)return function(p,y){return e.Util._isNumber(p)||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),p}}Ct.getNumberValidator=a;function n(p){if(t.Konva.isUnminified)return function(y,S){let x=e.Util._isNumber(y),h=e.Util._isArray(y)&&y.length==p;return!x&&!h&&e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+p+")"),y}}Ct.getNumberOrArrayOfNumbersValidator=n;function o(){if(t.Konva.isUnminified)return function(p,y){var S=e.Util._isNumber(p),x=p==="auto";return S||x||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),p}}Ct.getNumberOrAutoValidator=o;function c(){if(t.Konva.isUnminified)return function(p,y){return e.Util._isString(p)||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),p}}Ct.getStringValidator=c;function u(){if(t.Konva.isUnminified)return function(p,y){const S=e.Util._isString(p),x=Object.prototype.toString.call(p)==="[object CanvasGradient]"||p&&p.addColorStop;return S||x||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),p}}Ct.getStringOrGradientValidator=u;function v(){if(t.Konva.isUnminified)return function(p,y){return e.Util._isFunction(p)||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),p}}Ct.getFunctionValidator=v;function g(){if(t.Konva.isUnminified)return function(p,y){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&p instanceof S||(e.Util._isArray(p)?p.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),p}}Ct.getNumberArrayValidator=g;function m(){if(t.Konva.isUnminified)return function(p,y){var S=p===!0||p===!1;return S||e.Util.warn(r(p)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),p}}Ct.getBooleanValidator=m;function _(p){if(t.Konva.isUnminified)return function(y,S){return y==null||e.Util.isObject(y)||e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+p),y}}return Ct.getComponentValidator=_,Ct}var Ja;function ht(){return Ja||(Ja=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Tt(),r=dt();var i="get",s="set";t.Factory={addGetterSetter(a,n,o,c,u){t.Factory.addGetter(a,n,o),t.Factory.addSetter(a,n,c,u),t.Factory.addOverloadedGetterSetter(a,n)},addGetter(a,n,o){var c=i+e.Util._capitalize(n);a.prototype[c]=a.prototype[c]||function(){var u=this.attrs[n];return u===void 0?o:u}},addSetter(a,n,o,c){var u=s+e.Util._capitalize(n);a.prototype[u]||t.Factory.overWriteSetter(a,n,o,c)},overWriteSetter(a,n,o,c){var u=s+e.Util._capitalize(n);a.prototype[u]=function(v){return o&&v!==void 0&&v!==null&&(v=o.call(this,v,n)),this._setAttr(n,v),c&&c.call(this),this}},addComponentsGetterSetter(a,n,o,c,u){var v=o.length,g=e.Util._capitalize,m=i+g(n),_=s+g(n),p,y;a.prototype[m]=function(){var x={};for(p=0;p<v;p++)y=o[p],x[y]=this.getAttr(n+g(y));return x};var S=(0,r.getComponentValidator)(o);a.prototype[_]=function(x){var h=this.attrs[n],l;c&&(x=c.call(this,x)),S&&S.call(this,x,n);for(l in x)x.hasOwnProperty(l)&&this._setAttr(n+g(l),x[l]);return x||o.forEach(f=>{this._setAttr(n+g(f),void 0)}),this._fireChangeEvent(n,h,x),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(a,n)},addOverloadedGetterSetter(a,n){var o=e.Util._capitalize(n),c=s+o,u=i+o;a.prototype[n]=function(){return arguments.length?(this[c](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(a,n,o,c){e.Util.error("Adding deprecated "+n);var u=i+e.Util._capitalize(n),v=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[u]=function(){e.Util.error(v);var g=this.attrs[n];return g===void 0?o:g},t.Factory.addSetter(a,n,c,function(){e.Util.error(v)}),t.Factory.addOverloadedGetterSetter(a,n)},backCompat(a,n){e.Util.each(n,function(o,c){var u=a.prototype[c],v=i+e.Util._capitalize(o),g=s+e.Util._capitalize(o);function m(){u.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}a.prototype[o]=m,a.prototype[v]=m,a.prototype[g]=m})},afterSetFilter(){this._filterUpToDate=!1}}}(qi)),qi}var ie={},se={},Qa;function Kc(){if(Qa)return se;Qa=1,Object.defineProperty(se,"__esModule",{value:!0}),se.HitContext=se.SceneContext=se.Context=void 0;const t=Tt(),e=ft();function r(x){var h=[],l=x.length,f=t.Util,b,A;for(b=0;b<l;b++)A=x[b],f._isNumber(A)?A=Math.round(A*1e3)/1e3:f._isString(A)||(A=A+""),h.push(A);return h}var i=",",s="(",a=")",n="([",o="])",c=";",u="()",v="=",g=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const _=100;let p=class{constructor(h){this.canvas=h,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(h){h.fillEnabled()&&this._fill(h)}_fill(h){}strokeShape(h){h.hasStroke()&&this._stroke(h)}_stroke(h){}fillStrokeShape(h){h.attrs.fillAfterStrokeEnabled?(this.strokeShape(h),this.fillShape(h)):(this.fillShape(h),this.strokeShape(h))}getTrace(h,l){var f=this.traceArr,b=f.length,A="",M,C,E,P;for(M=0;M<b;M++)C=f[M],E=C.method,E?(P=C.args,A+=E,h?A+=u:t.Util._isArray(P[0])?A+=n+P.join(i)+o:(l&&(P=P.map(F=>typeof F=="number"?Math.floor(F):F)),A+=s+P.join(i)+a)):(A+=C.property,h||(A+=v+C.val)),A+=c;return A}clearTrace(){this.traceArr=[]}_trace(h){var l=this.traceArr,f;l.push(h),f=l.length,f>=_&&l.shift()}reset(){var h=this.getCanvas().getPixelRatio();this.setTransform(1*h,0,0,1*h,0,0)}getCanvas(){return this.canvas}clear(h){var l=this.getCanvas();h?this.clearRect(h.x||0,h.y||0,h.width||0,h.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(h){const l=h.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(h){var l=h.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(h){const l=h.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}setAttr(h,l){this._context[h]=l}arc(h,l,f,b,A,M){this._context.arc(h,l,f,b,A,M)}arcTo(h,l,f,b,A){this._context.arcTo(h,l,f,b,A)}beginPath(){this._context.beginPath()}bezierCurveTo(h,l,f,b,A,M){this._context.bezierCurveTo(h,l,f,b,A,M)}clearRect(h,l,f,b){this._context.clearRect(h,l,f,b)}clip(...h){this._context.clip.apply(this._context,h)}closePath(){this._context.closePath()}createImageData(h,l){var f=arguments;if(f.length===2)return this._context.createImageData(h,l);if(f.length===1)return this._context.createImageData(h)}createLinearGradient(h,l,f,b){return this._context.createLinearGradient(h,l,f,b)}createPattern(h,l){return this._context.createPattern(h,l)}createRadialGradient(h,l,f,b,A,M){return this._context.createRadialGradient(h,l,f,b,A,M)}drawImage(h,l,f,b,A,M,C,E,P){var F=arguments,O=this._context;F.length===3?O.drawImage(h,l,f):F.length===5?O.drawImage(h,l,f,b,A):F.length===9&&O.drawImage(h,l,f,b,A,M,C,E,P)}ellipse(h,l,f,b,A,M,C,E){this._context.ellipse(h,l,f,b,A,M,C,E)}isPointInPath(h,l,f,b){return f?this._context.isPointInPath(f,h,l,b):this._context.isPointInPath(h,l,b)}fill(...h){this._context.fill.apply(this._context,h)}fillRect(h,l,f,b){this._context.fillRect(h,l,f,b)}strokeRect(h,l,f,b){this._context.strokeRect(h,l,f,b)}fillText(h,l,f,b){b?this._context.fillText(h,l,f,b):this._context.fillText(h,l,f)}measureText(h){return this._context.measureText(h)}getImageData(h,l,f,b){return this._context.getImageData(h,l,f,b)}lineTo(h,l){this._context.lineTo(h,l)}moveTo(h,l){this._context.moveTo(h,l)}rect(h,l,f,b){this._context.rect(h,l,f,b)}putImageData(h,l,f){this._context.putImageData(h,l,f)}quadraticCurveTo(h,l,f,b){this._context.quadraticCurveTo(h,l,f,b)}restore(){this._context.restore()}rotate(h){this._context.rotate(h)}save(){this._context.save()}scale(h,l){this._context.scale(h,l)}setLineDash(h){this._context.setLineDash?this._context.setLineDash(h):"mozDash"in this._context?this._context.mozDash=h:"webkitLineDash"in this._context&&(this._context.webkitLineDash=h)}getLineDash(){return this._context.getLineDash()}setTransform(h,l,f,b,A,M){this._context.setTransform(h,l,f,b,A,M)}stroke(h){h?this._context.stroke(h):this._context.stroke()}strokeText(h,l,f,b){this._context.strokeText(h,l,f,b)}transform(h,l,f,b,A,M){this._context.transform(h,l,f,b,A,M)}translate(h,l){this._context.translate(h,l)}_enableTrace(){var h=this,l=g.length,f=this.setAttr,b,A,M=function(C){var E=h[C],P;h[C]=function(){return A=r(Array.prototype.slice.call(arguments,0)),P=E.apply(h,arguments),h._trace({method:C,args:A}),P}};for(b=0;b<l;b++)M(g[b]);h.setAttr=function(){f.apply(h,arguments);var C=arguments[0],E=arguments[1];(C==="shadowOffsetX"||C==="shadowOffsetY"||C==="shadowBlur")&&(E=E/this.canvas.getPixelRatio()),h._trace({property:C,val:E})}}_applyGlobalCompositeOperation(h){const l=h.attrs.globalCompositeOperation;var f=!l||l==="source-over";f||this.setAttr("globalCompositeOperation",l)}};se.Context=p,m.forEach(function(x){Object.defineProperty(p.prototype,x,{get(){return this._context[x]},set(h){this._context[x]=h}})});class y extends p{constructor(h,{willReadFrequently:l=!1}={}){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(h){var l=h.fill();this.setAttr("fillStyle",l),h._fillFunc(this)}_fillPattern(h){this.setAttr("fillStyle",h._getFillPattern()),h._fillFunc(this)}_fillLinearGradient(h){var l=h._getLinearGradient();l&&(this.setAttr("fillStyle",l),h._fillFunc(this))}_fillRadialGradient(h){const l=h._getRadialGradient();l&&(this.setAttr("fillStyle",l),h._fillFunc(this))}_fill(h){const l=h.fill(),f=h.getFillPriority();if(l&&f==="color"){this._fillColor(h);return}const b=h.getFillPatternImage();if(b&&f==="pattern"){this._fillPattern(h);return}const A=h.getFillLinearGradientColorStops();if(A&&f==="linear-gradient"){this._fillLinearGradient(h);return}const M=h.getFillRadialGradientColorStops();if(M&&f==="radial-gradient"){this._fillRadialGradient(h);return}l?this._fillColor(h):b?this._fillPattern(h):A?this._fillLinearGradient(h):M&&this._fillRadialGradient(h)}_strokeLinearGradient(h){const l=h.getStrokeLinearGradientStartPoint(),f=h.getStrokeLinearGradientEndPoint(),b=h.getStrokeLinearGradientColorStops(),A=this.createLinearGradient(l.x,l.y,f.x,f.y);if(b){for(var M=0;M<b.length;M+=2)A.addColorStop(b[M],b[M+1]);this.setAttr("strokeStyle",A)}}_stroke(h){var l=h.dash(),f=h.getStrokeScaleEnabled();if(h.hasStroke()){if(!f){this.save();var b=this.getCanvas().getPixelRatio();this.setTransform(b,0,0,b,0,0)}this._applyLineCap(h),l&&h.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",h.dashOffset())),this.setAttr("lineWidth",h.strokeWidth()),h.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var A=h.getStrokeLinearGradientColorStops();A?this._strokeLinearGradient(h):this.setAttr("strokeStyle",h.stroke()),h._strokeFunc(this),f||this.restore()}}_applyShadow(h){var l,f,b,A=(l=h.getShadowRGBA())!==null&&l!==void 0?l:"black",M=(f=h.getShadowBlur())!==null&&f!==void 0?f:5,C=(b=h.getShadowOffset())!==null&&b!==void 0?b:{x:0,y:0},E=h.getAbsoluteScale(),P=this.canvas.getPixelRatio(),F=E.x*P,O=E.y*P;this.setAttr("shadowColor",A),this.setAttr("shadowBlur",M*Math.min(Math.abs(F),Math.abs(O))),this.setAttr("shadowOffsetX",C.x*F),this.setAttr("shadowOffsetY",C.y*O)}}se.SceneContext=y;class S extends p{constructor(h){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:!0})}_fill(h){this.save(),this.setAttr("fillStyle",h.colorKey),h._fillFuncHit(this),this.restore()}strokeShape(h){h.hasHitStroke()&&this._stroke(h)}_stroke(h){if(h.hasHitStroke()){const A=h.getStrokeScaleEnabled();if(!A){this.save();var l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(h);var f=h.hitStrokeWidth(),b=f==="auto"?h.strokeWidth():f;this.setAttr("lineWidth",b),this.setAttr("strokeStyle",h.colorKey),h._strokeFuncHit(this),A||this.restore()}}}return se.HitContext=S,se}var Za;function Oi(){if(Za)return ie;Za=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.HitCanvas=ie.SceneCanvas=ie.Canvas=void 0;const t=Tt(),e=Kc(),r=ft(),i=ht(),s=dt();var a;function n(){if(a)return a;var v=t.Util.createCanvasElement(),g=v.getContext("2d");return a=function(){var m=r.Konva._global.devicePixelRatio||1,_=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1;return m/_}(),t.Util.releaseCanvas(v),a}let o=class{constructor(g){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var m=g||{},_=m.pixelRatio||r.Konva.pixelRatio||n();this.pixelRatio=_,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(g){var m=this.pixelRatio;this.pixelRatio=g,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(g){this.width=this._canvas.width=g*this.pixelRatio,this._canvas.style.width=g+"px";var m=this.pixelRatio,_=this.getContext()._context;_.scale(m,m)}setHeight(g){this.height=this._canvas.height=g*this.pixelRatio,this._canvas.style.height=g+"px";var m=this.pixelRatio,_=this.getContext()._context;_.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(g,m){this.setWidth(g||0),this.setHeight(m||0)}toDataURL(g,m){try{return this._canvas.toDataURL(g,m)}catch{try{return this._canvas.toDataURL()}catch(p){return t.Util.error("Unable to get data URL. "+p.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ie.Canvas=o,i.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,s.getNumberValidator)());class c extends o{constructor(g={width:0,height:0,willReadFrequently:!1}){super(g),this.context=new e.SceneContext(this,{willReadFrequently:g.willReadFrequently}),this.setSize(g.width,g.height)}}ie.SceneCanvas=c;class u extends o{constructor(g={width:0,height:0}){super(g),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(g.width,g.height)}}return ie.HitCanvas=u,ie}var Wi={},to;function ta(){return to||(to=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ft(),r=Tt();t.DD={get isDragging(){var i=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return t.DD._dragElements.forEach(s=>{i=s.node}),i},_dragElements:new Map,_drag(i){const s=[];t.DD._dragElements.forEach((a,n)=>{const{node:o}=a,c=o.getStage();c.setPointersPositions(i),a.pointerId===void 0&&(a.pointerId=r.Util._getFirstPointerId(i));const u=c._changedPointerPositions.find(m=>m.id===a.pointerId);if(u){if(a.dragStatus!=="dragging"){var v=o.dragDistance(),g=Math.max(Math.abs(u.x-a.startPointerPos.x),Math.abs(u.y-a.startPointerPos.y));if(g<v||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,a),s.push(o)}}),s.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:i},!0)})},_endDragBefore(i){const s=[];t.DD._dragElements.forEach(a=>{const{node:n}=a,o=n.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(v=>v.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const u=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;u&&s.indexOf(u)===-1&&s.push(u)}),s.forEach(a=>{a.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((s,a)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:i},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(Wi)),Wi}var eo;function Et(){if(eo)return br;eo=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Node=void 0;const t=Tt(),e=ht(),r=Oi(),i=ft(),s=ta(),a=dt();var n="absoluteOpacity",o="allEventListeners",c="absoluteTransform",u="absoluteScale",v="canvas",g="Change",m="children",_="konva",p="listening",y="mouseenter",S="mouseleave",x="set",h="Shape",l=" ",f="stage",b="transform",A="Stage",M="visible",C=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(l);let E=1,P=class bs{constructor(d){this._id=E++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(d),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(d){(d===b||d===c)&&this._cache.get(d)?this._cache.get(d).dirty=!0:d?this._cache.delete(d):this._cache.clear()}_getCache(d,w){var T=this._cache.get(d),R=d===b||d===c,k=T===void 0||R&&T.dirty===!0;return k&&(T=w.call(this),this._cache.set(d,T)),T}_calculate(d,w,T){if(!this._attachedDepsListeners.get(d)){const R=w.map(k=>k+"Change.konva").join(l);this.on(R,()=>{this._clearCache(d)}),this._attachedDepsListeners.set(d,!0)}return this._getCache(d,T)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(d){this._clearCache(d),d===c&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:d,filter:w,hit:T}=this._cache.get(v);t.Util.releaseCanvas(d,w,T),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(d){var w=d||{},T={};(w.x===void 0||w.y===void 0||w.width===void 0||w.height===void 0)&&(T=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var R=Math.ceil(w.width||T.width),k=Math.ceil(w.height||T.height),L=w.pixelRatio,G=w.x===void 0?Math.floor(T.x):w.x,U=w.y===void 0?Math.floor(T.y):w.y,$=w.offset||0,V=w.drawBorder||!1,q=w.hitCanvasPixelRatio||1;if(!R||!k){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}R+=$*2+1,k+=$*2+1,G-=$,U-=$;var Q=new r.SceneCanvas({pixelRatio:L,width:R,height:k}),tt=new r.SceneCanvas({pixelRatio:L,width:0,height:0,willReadFrequently:!0}),rt=new r.HitCanvas({pixelRatio:q,width:R,height:k}),I=Q.getContext(),B=rt.getContext();return rt.isCache=!0,Q.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,w.imageSmoothingEnabled===!1&&(Q.getContext()._context.imageSmoothingEnabled=!1,tt.getContext()._context.imageSmoothingEnabled=!1),I.save(),B.save(),I.translate(-G,-U),B.translate(-G,-U),this._isUnderCache=!0,this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(u),this.drawScene(Q,this),this.drawHit(rt,this),this._isUnderCache=!1,I.restore(),B.restore(),V&&(I.save(),I.beginPath(),I.rect(0,0,R,k),I.closePath(),I.setAttr("strokeStyle","red"),I.setAttr("lineWidth",5),I.stroke(),I.restore()),this._cache.set(v,{scene:Q,filter:tt,hit:rt,x:G,y:U}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(d){throw new Error('abstract "getClientRect" method call')}_transformedRect(d,w){var T=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],R=1/0,k=1/0,L=-1/0,G=-1/0,U=this.getAbsoluteTransform(w);return T.forEach(function($){var V=U.point($);R===void 0&&(R=L=V.x,k=G=V.y),R=Math.min(R,V.x),k=Math.min(k,V.y),L=Math.max(L,V.x),G=Math.max(G,V.y)}),{x:R,y:k,width:L-R,height:G-k}}_drawCachedSceneCanvas(d){d.save(),d._applyOpacity(this),d._applyGlobalCompositeOperation(this);const w=this._getCanvasCache();d.translate(w.x,w.y);var T=this._getCachedSceneCanvas(),R=T.pixelRatio;d.drawImage(T._canvas,0,0,T.width/R,T.height/R),d.restore()}_drawCachedHitCanvas(d){var w=this._getCanvasCache(),T=w.hit;d.save(),d.translate(w.x,w.y),d.drawImage(T._canvas,0,0,T.width/T.pixelRatio,T.height/T.pixelRatio),d.restore()}_getCachedSceneCanvas(){var d=this.filters(),w=this._getCanvasCache(),T=w.scene,R=w.filter,k=R.getContext(),L,G,U,$;if(d){if(!this._filterUpToDate){var V=T.pixelRatio;R.setSize(T.width/T.pixelRatio,T.height/T.pixelRatio);try{for(L=d.length,k.clear(),k.drawImage(T._canvas,0,0,T.getWidth()/V,T.getHeight()/V),G=k.getImageData(0,0,R.getWidth(),R.getHeight()),U=0;U<L;U++){if($=d[U],typeof $!="function"){t.Util.error("Filter should be type of function, but got "+typeof $+" instead. Please check correct filters");continue}$.call(this,G),k.putImageData(G,0,0)}}catch(q){t.Util.error("Unable to apply filter. "+q.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return R}return T}on(d,w){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var T=d.split(l),R=T.length,k,L,G,U,$;for(k=0;k<R;k++)L=T[k],G=L.split("."),U=G[0],$=G[1]||"",this.eventListeners[U]||(this.eventListeners[U]=[]),this.eventListeners[U].push({name:$,handler:w});return this}off(d,w){var T=(d||"").split(l),R=T.length,k,L,G,U,$,V;if(this._cache&&this._cache.delete(o),!d)for(L in this.eventListeners)this._off(L);for(k=0;k<R;k++)if(G=T[k],U=G.split("."),$=U[0],V=U[1],$)this.eventListeners[$]&&this._off($,V,w);else for(L in this.eventListeners)this._off(L,V,w);return this}dispatchEvent(d){var w={target:this,type:d.type,evt:d};return this.fire(d.type,w),this}addEventListener(d,w){return this.on(d,function(T){w.call(this,T.evt)}),this}removeEventListener(d){return this.off(d),this}_delegate(d,w,T){var R=this;this.on(d,function(k){for(var L=k.target.findAncestors(w,!0,R),G=0;G<L.length;G++)k=t.Util.cloneObject(k),k.currentTarget=L[G],T.call(L[G],k)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(p)}_remove(){this._clearCaches();var d=this.getParent();d&&d.children&&(d.children.splice(this.index,1),d._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(d){var w="get"+t.Util._capitalize(d);return t.Util._isFunction(this[w])?this[w]():this.attrs[d]}getAncestors(){for(var d=this.getParent(),w=[];d;)w.push(d),d=d.getParent();return w}getAttrs(){return this.attrs||{}}setAttrs(d){return this._batchTransformChanges(()=>{var w,T;if(!d)return this;for(w in d)w!==m&&(T=x+t.Util._capitalize(w),t.Util._isFunction(this[T])?this[T](d[w]):this._setAttr(w,d[w]))}),this}isListening(){return this._getCache(p,this._isListening)}_isListening(d){if(!this.listening())return!1;const T=this.getParent();return T&&T!==d&&this!==d?T._isListening(d):!0}isVisible(){return this._getCache(M,this._isVisible)}_isVisible(d){if(!this.visible())return!1;const T=this.getParent();return T&&T!==d&&this!==d?T._isVisible(d):!0}shouldDrawHit(d,w=!1){if(d)return this._isVisible(d)&&this._isListening(d);var T=this.getLayer(),R=!1;s.DD._dragElements.forEach(L=>{L.dragStatus==="dragging"&&(L.node.nodeType==="Stage"||L.node.getLayer()===T)&&(R=!0)});var k=!w&&!i.Konva.hitOnDragEnabled&&R;return this.isListening()&&this.isVisible()&&!k}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var d=this.getDepth(),w=this,T=0,R,k,L,G;function U(V){for(R=[],k=V.length,L=0;L<k;L++)G=V[L],T++,G.nodeType!==h&&(R=R.concat(G.getChildren().slice())),G._id===w._id&&(L=k);R.length>0&&R[0].getDepth()<=d&&U(R)}const $=this.getStage();return w.nodeType!==A&&$&&U($.getChildren()),T}getDepth(){for(var d=0,w=this.parent;w;)d++,w=w.parent;return d}_batchTransformChanges(d){this._batchingTransformChange=!0,d(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(b),this._clearSelfAndDescendantCache(c)),this._needClearTransformCache=!1}setPosition(d){return this._batchTransformChanges(()=>{this.x(d.x),this.y(d.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const d=this.getStage();if(!d)return null;var w=d.getPointerPosition();if(!w)return null;var T=this.getAbsoluteTransform().copy();return T.invert(),T.point(w)}getAbsolutePosition(d){let w=!1,T=this.parent;for(;T;){if(T.isCached()){w=!0;break}T=T.parent}w&&!d&&(d=!0);var R=this.getAbsoluteTransform(d).getMatrix(),k=new t.Transform,L=this.offset();return k.m=R.slice(),k.translate(L.x,L.y),k.getTranslation()}setAbsolutePosition(d){const{x:w,y:T,...R}=this._clearTransform();this.attrs.x=w,this.attrs.y=T,this._clearCache(b);var k=this._getAbsoluteTransform().copy();return k.invert(),k.translate(d.x,d.y),d={x:this.attrs.x+k.getTranslation().x,y:this.attrs.y+k.getTranslation().y},this._setTransform(R),this.setPosition({x:d.x,y:d.y}),this._clearCache(b),this._clearSelfAndDescendantCache(c),this}_setTransform(d){var w;for(w in d)this.attrs[w]=d[w]}_clearTransform(){var d={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,d}move(d){var w=d.x,T=d.y,R=this.x(),k=this.y();return w!==void 0&&(R+=w),T!==void 0&&(k+=T),this.setPosition({x:R,y:k}),this}_eachAncestorReverse(d,w){var T=[],R=this.getParent(),k,L;if(!(w&&w._id===this._id)){for(T.unshift(this);R&&(!w||R._id!==w._id);)T.unshift(R),R=R.parent;for(k=T.length,L=0;L<k;L++)d(T[L])}}rotate(d){return this.rotation(this.rotation()+d),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var d=this.index,w=this.parent.getChildren().length;return d<w-1?(this.parent.children.splice(d,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var d=this.index,w=this.parent.getChildren().length;return d<w-1?(this.parent.children.splice(d,1),this.parent.children.splice(d+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.splice(d-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(d){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(d<0||d>=this.parent.children.length)&&t.Util.warn("Unexpected value "+d+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var w=this.index;return this.parent.children.splice(w,1),this.parent.children.splice(d,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(n,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var d=this.opacity(),w=this.getParent();return w&&!w._isUnderCache&&(d*=w.getAbsoluteOpacity()),d}moveTo(d){return this.getParent()!==d&&(this._remove(),d.add(this)),this}toObject(){var d={},w=this.getAttrs(),T,R,k,L,G;d.attrs={};for(T in w)R=w[T],G=t.Util.isObject(R)&&!t.Util._isPlainObject(R)&&!t.Util._isArray(R),!G&&(k=typeof this[T]=="function"&&this[T],delete w[T],L=k?k.call(this):null,w[T]=R,L!==R&&(d.attrs[T]=R));return d.className=this.getClassName(),t.Util._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(d,w,T){var R=[];w&&this._isMatch(d)&&R.push(this);for(var k=this.parent;k;){if(k===T)return R;k._isMatch(d)&&R.push(k),k=k.parent}return R}isAncestorOf(d){return!1}findAncestor(d,w,T){return this.findAncestors(d,w,T)[0]}_isMatch(d){if(!d)return!1;if(typeof d=="function")return d(this);var w=d.replace(/ /g,"").split(","),T=w.length,R,k;for(R=0;R<T;R++)if(k=w[R],t.Util.isValidSelector(k)||(t.Util.warn('Selector "'+k+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),k.charAt(0)==="#"){if(this.id()===k.slice(1))return!0}else if(k.charAt(0)==="."){if(this.hasName(k.slice(1)))return!0}else if(this.className===k||this.nodeType===k)return!0;return!1}getLayer(){var d=this.getParent();return d?d.getLayer():null}getStage(){return this._getCache(f,this._getStage)}_getStage(){var d=this.getParent();return d?d.getStage():null}fire(d,w={},T){return w.target=w.target||this,T?this._fireAndBubble(d,w):this._fire(d,w),this}getAbsoluteTransform(d){return d?this._getAbsoluteTransform(d):this._getCache(c,this._getAbsoluteTransform)}_getAbsoluteTransform(d){var w;if(d)return w=new t.Transform,this._eachAncestorReverse(function(R){var k=R.transformsEnabled();k==="all"?w.multiply(R.getTransform()):k==="position"&&w.translate(R.x()-R.offsetX(),R.y()-R.offsetY())},d),w;w=this._cache.get(c)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(w):w.reset();var T=this.transformsEnabled();if(T==="all")w.multiply(this.getTransform());else if(T==="position"){const R=this.attrs.x||0,k=this.attrs.y||0,L=this.attrs.offsetX||0,G=this.attrs.offsetY||0;w.translate(R-L,k-G)}return w.dirty=!1,w}getAbsoluteScale(d){for(var w=this;w;)w._isUnderCache&&(d=w),w=w.getParent();const R=this.getAbsoluteTransform(d).decompose();return{x:R.scaleX,y:R.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(b,this._getTransform)}_getTransform(){var d,w,T=this._cache.get(b)||new t.Transform;T.reset();var R=this.x(),k=this.y(),L=i.Konva.getAngle(this.rotation()),G=(d=this.attrs.scaleX)!==null&&d!==void 0?d:1,U=(w=this.attrs.scaleY)!==null&&w!==void 0?w:1,$=this.attrs.skewX||0,V=this.attrs.skewY||0,q=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;return(R!==0||k!==0)&&T.translate(R,k),L!==0&&T.rotate(L),($!==0||V!==0)&&T.skew($,V),(G!==1||U!==1)&&T.scale(G,U),(q!==0||Q!==0)&&T.translate(-1*q,-1*Q),T.dirty=!1,T}clone(d){var w=t.Util.cloneObject(this.attrs),T,R,k,L,G;for(T in d)w[T]=d[T];var U=new this.constructor(w);for(T in this.eventListeners)for(R=this.eventListeners[T],k=R.length,L=0;L<k;L++)G=R[L],G.name.indexOf(_)<0&&(U.eventListeners[T]||(U.eventListeners[T]=[]),U.eventListeners[T].push(G));return U}_toKonvaCanvas(d){d=d||{};var w=this.getClientRect(),T=this.getStage(),R=d.x!==void 0?d.x:Math.floor(w.x),k=d.y!==void 0?d.y:Math.floor(w.y),L=d.pixelRatio||1,G=new r.SceneCanvas({width:d.width||Math.ceil(w.width)||(T?T.width():0),height:d.height||Math.ceil(w.height)||(T?T.height():0),pixelRatio:L}),U=G.getContext();return d.imageSmoothingEnabled===!1&&(U._context.imageSmoothingEnabled=!1),U.save(),(R||k)&&U.translate(-1*R,-1*k),this.drawScene(G),U.restore(),G}toCanvas(d){return this._toKonvaCanvas(d)._canvas}toDataURL(d){d=d||{};var w=d.mimeType||null,T=d.quality||null,R=this._toKonvaCanvas(d).toDataURL(w,T);return d.callback&&d.callback(R),R}toImage(d){return new Promise((w,T)=>{try{const R=d==null?void 0:d.callback;R&&delete d.callback,t.Util._urlToImage(this.toDataURL(d),function(k){w(k),R==null||R(k)})}catch(R){T(R)}})}toBlob(d){return new Promise((w,T)=>{try{const R=d==null?void 0:d.callback;R&&delete d.callback,this.toCanvas(d).toBlob(k=>{w(k),R==null||R(k)})}catch(R){T(R)}})}setSize(d){return this.width(d.width),this.height(d.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(d,w,T){var R=this.eventListeners[d],k,L,G;for(k=0;k<R.length;k++)if(L=R[k].name,G=R[k].handler,(L!=="konva"||w==="konva")&&(!w||L===w)&&(!T||T===G)){if(R.splice(k,1),R.length===0){delete this.eventListeners[d];break}k--}}_fireChangeEvent(d,w,T){this._fire(d+g,{oldVal:w,newVal:T})}addName(d){if(!this.hasName(d)){var w=this.name(),T=w?w+" "+d:d;this.name(T)}return this}hasName(d){if(!d)return!1;const w=this.name();if(!w)return!1;var T=(w||"").split(/\s/g);return T.indexOf(d)!==-1}removeName(d){var w=(this.name()||"").split(/\s/g),T=w.indexOf(d);return T!==-1&&(w.splice(T,1),this.name(w.join(" "))),this}setAttr(d,w){var T=this[x+t.Util._capitalize(d)];return t.Util._isFunction(T)?T.call(this,w):this._setAttr(d,w),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const d=this.getLayer()||this.getStage();d==null||d.batchDraw()}}_setAttr(d,w){var T=this.attrs[d];T===w&&!t.Util.isObject(w)||(w==null?delete this.attrs[d]:this.attrs[d]=w,this._shouldFireChangeEvents&&this._fireChangeEvent(d,T,w),this._requestDraw())}_setComponentAttr(d,w,T){var R;T!==void 0&&(R=this.attrs[d],R||(this.attrs[d]=this.getAttr(d)),this.attrs[d][w]=T,this._fireChangeEvent(d,R,T))}_fireAndBubble(d,w,T){w&&this.nodeType===h&&(w.target=this);var R=(d===y||d===S)&&(T&&(this===T||this.isAncestorOf&&this.isAncestorOf(T))||this.nodeType==="Stage"&&!T);if(!R){this._fire(d,w);var k=(d===y||d===S)&&T&&T.isAncestorOf&&T.isAncestorOf(this)&&!T.isAncestorOf(this.parent);(w&&!w.cancelBubble||!w)&&this.parent&&this.parent.isListening()&&!k&&(T&&T.parent?this._fireAndBubble.call(this.parent,d,w,T):this._fireAndBubble.call(this.parent,d,w))}}_getProtoListeners(d){var w,T,R;const k=(w=this._cache.get(o))!==null&&w!==void 0?w:{};let L=k==null?void 0:k[d];if(L===void 0){L=[];let G=Object.getPrototypeOf(this);for(;G;){const U=(R=(T=G.eventListeners)===null||T===void 0?void 0:T[d])!==null&&R!==void 0?R:[];L.push(...U),G=Object.getPrototypeOf(G)}k[d]=L,this._cache.set(o,k)}return L}_fire(d,w){w=w||{},w.currentTarget=this,w.type=d;const T=this._getProtoListeners(d);if(T)for(var R=0;R<T.length;R++)T[R].handler.call(this,w);const k=this.eventListeners[d];if(k)for(var R=0;R<k.length;R++)k[R].handler.call(this,w)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(d){var w=d?d.pointerId:void 0,T=this.getStage(),R=this.getAbsolutePosition();if(T){var k=T._getPointerById(w)||T._changedPointerPositions[0]||R;s.DD._dragElements.set(this._id,{node:this,startPointerPos:k,offset:{x:k.x-R.x,y:k.y-R.y},dragStatus:"ready",pointerId:w})}}startDrag(d,w=!0){s.DD._dragElements.has(this._id)||this._createDragElement(d);const T=s.DD._dragElements.get(this._id);T.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:d&&d.evt},w)}_setDragPosition(d,w){const T=this.getStage()._getPointerById(w.pointerId);if(T){var R={x:T.x-w.offset.x,y:T.y-w.offset.y},k=this.dragBoundFunc();if(k!==void 0){const L=k.call(this,R,d);L?R=L:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==R.x||this._lastPos.y!==R.y)&&(this.setAbsolutePosition(R),this._requestDraw()),this._lastPos=R}}stopDrag(d){const w=s.DD._dragElements.get(this._id);w&&(w.dragStatus="stopped"),s.DD._endDragBefore(d),s.DD._endDragAfter(d)}setDraggable(d){this._setAttr("draggable",d),this._dragChange()}isDragging(){const d=s.DD._dragElements.get(this._id);return d?d.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(d){var w=d.evt.button!==void 0,T=!w||i.Konva.dragButtons.indexOf(d.evt.button)>=0;if(T&&!this.isDragging()){var R=!1;s.DD._dragElements.forEach(k=>{this.isAncestorOf(k.node)&&(R=!0)}),R||this._createDragElement(d)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var d=this.getStage();if(!d)return;const w=s.DD._dragElements.get(this._id),T=w&&w.dragStatus==="dragging",R=w&&w.dragStatus==="ready";T?this.stopDrag():R&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(d={x:0,y:0}){const w=this.getStage();if(!w)return!1;const T={x:-d.x,y:-d.y,width:w.width()+2*d.x,height:w.height()+2*d.y};return t.Util.haveIntersection(T,this.getClientRect())}static create(d,w){return t.Util._isString(d)&&(d=JSON.parse(d)),this._createNode(d,w)}static _createNode(d,w){var T=bs.prototype.getClassName.call(d),R=d.children,k,L,G;w&&(d.attrs.container=w),i.Konva[T]||(t.Util.warn('Can not find a node with class name "'+T+'". Fallback to "Shape".'),T="Shape");const U=i.Konva[T];if(k=new U(d.attrs),R)for(L=R.length,G=0;G<L;G++)k.add(bs._createNode(R[G]));return k}};br.Node=P,P.prototype.nodeType="Node",P.prototype._attrsAffectingSize=[],P.prototype.eventListeners={},P.prototype.on.call(P.prototype,C,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(b),this._clearSelfAndDescendantCache(c)}),P.prototype.on.call(P.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(M)}),P.prototype.on.call(P.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(p)}),P.prototype.on.call(P.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(n)});const F=e.Factory.addGetterSetter;return F(P,"zIndex"),F(P,"absolutePosition"),F(P,"position"),F(P,"x",0,(0,a.getNumberValidator)()),F(P,"y",0,(0,a.getNumberValidator)()),F(P,"globalCompositeOperation","source-over",(0,a.getStringValidator)()),F(P,"opacity",1,(0,a.getNumberValidator)()),F(P,"name","",(0,a.getStringValidator)()),F(P,"id","",(0,a.getStringValidator)()),F(P,"rotation",0,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"scale",["x","y"]),F(P,"scaleX",1,(0,a.getNumberValidator)()),F(P,"scaleY",1,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"skew",["x","y"]),F(P,"skewX",0,(0,a.getNumberValidator)()),F(P,"skewY",0,(0,a.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"offset",["x","y"]),F(P,"offsetX",0,(0,a.getNumberValidator)()),F(P,"offsetY",0,(0,a.getNumberValidator)()),F(P,"dragDistance",null,(0,a.getNumberValidator)()),F(P,"width",0,(0,a.getNumberValidator)()),F(P,"height",0,(0,a.getNumberValidator)()),F(P,"listening",!0,(0,a.getBooleanValidator)()),F(P,"preventDefault",!0,(0,a.getBooleanValidator)()),F(P,"filters",null,function(O){return this._filterUpToDate=!1,O}),F(P,"visible",!0,(0,a.getBooleanValidator)()),F(P,"transformsEnabled","all",(0,a.getStringValidator)()),F(P,"size"),F(P,"dragBoundFunc"),F(P,"draggable",!1,(0,a.getBooleanValidator)()),e.Factory.backCompat(P,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),br}var yr={},ro;function ki(){if(ro)return yr;ro=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.Container=void 0;const t=ht(),e=Et(),r=dt();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(a){if(!a)return this.children||[];const n=this.children||[];var o=[];return n.forEach(function(c){a(c)&&o.push(c)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(a=>{a.parent=null,a.index=0,a.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(a=>{a.parent=null,a.index=0,a.destroy()}),this.children=[],this._requestDraw(),this}add(...a){if(a.length===0)return this;if(a.length>1){for(var n=0;n<a.length;n++)this.add(a[n]);return this}const o=a[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(a){return this._generalFind(a,!1)}findOne(a){var n=this._generalFind(a,!0);return n.length>0?n[0]:void 0}_generalFind(a,n){var o=[];return this._descendants(c=>{const u=c._isMatch(a);return u&&o.push(c),!!(u&&n)}),o}_descendants(a){let n=!1;const o=this.getChildren();for(const c of o){if(n=a(c),n)return!0;if(c.hasChildren()&&(n=c._descendants(a),n))return!0}return!1}toObject(){var a=e.Node.prototype.toObject.call(this);return a.children=[],this.getChildren().forEach(n=>{a.children.push(n.toObject())}),a}isAncestorOf(a){for(var n=a.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(a){var n=e.Node.prototype.clone.call(this,a);return this.getChildren().forEach(function(o){n.add(o.clone())}),n}getAllIntersections(a){var n=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(a)&&n.push(o)}),n}_clearSelfAndDescendantCache(a){var n;super._clearSelfAndDescendantCache(a),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(o){o._clearSelfAndDescendantCache(a)}))}_setChildrenIndices(){var a;(a=this.children)===null||a===void 0||a.forEach(function(n,o){n.index=o}),this._requestDraw()}drawScene(a,n){var o=this.getLayer(),c=a||o&&o.getCanvas(),u=c&&c.getContext(),v=this._getCanvasCache(),g=v&&v.scene,m=c&&c.isCache;if(!this.isVisible()&&!m)return this;if(g){u.save();var _=this.getAbsoluteTransform(n).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",c,n);return this}drawHit(a,n){if(!this.shouldDrawHit(n))return this;var o=this.getLayer(),c=a||o&&o.hitCanvas,u=c&&c.getContext(),v=this._getCanvasCache(),g=v&&v.hit;if(g){u.save();var m=this.getAbsoluteTransform(n).getMatrix();u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",c,n);return this}_drawChildren(a,n,o){var c,u=n&&n.getContext(),v=this.clipWidth(),g=this.clipHeight(),m=this.clipFunc(),_=v&&g||m;const p=o===this;if(_){u.save();var y=this.getAbsoluteTransform(o),S=y.getMatrix();u.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.beginPath();let f;if(m)f=m.call(this,u,this);else{var x=this.clipX(),h=this.clipY();u.rect(x,h,v,g)}u.clip.apply(u,f),S=y.copy().invert().getMatrix(),u.transform(S[0],S[1],S[2],S[3],S[4],S[5])}var l=!p&&this.globalCompositeOperation()!=="source-over"&&a==="drawScene";l&&(u.save(),u._applyGlobalCompositeOperation(this)),(c=this.children)===null||c===void 0||c.forEach(function(f){f[a](n,o)}),l&&u.restore(),_&&u.restore()}getClientRect(a={}){var n,o=a.skipTransform,c=a.relativeTo,u,v,g,m,_={x:1/0,y:1/0,width:0,height:0},p=this;(n=this.children)===null||n===void 0||n.forEach(function(l){if(l.visible()){var f=l.getClientRect({relativeTo:p,skipShadow:a.skipShadow,skipStroke:a.skipStroke});f.width===0&&f.height===0||(u===void 0?(u=f.x,v=f.y,g=f.x+f.width,m=f.y+f.height):(u=Math.min(u,f.x),v=Math.min(v,f.y),g=Math.max(g,f.x+f.width),m=Math.max(m,f.y+f.height)))}});for(var y=this.find("Shape"),S=!1,x=0;x<y.length;x++){var h=y[x];if(h._isVisible(this)){S=!0;break}}return S&&u!==void 0?_={x:u,y:v,width:g-u,height:m-v}:_={x:0,y:0,width:0,height:0},o?_:this._transformedRect(_,c)}};return yr.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),yr}var zi={},Kt={},no;function qc(){if(no)return Kt;no=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.releaseCapture=Kt.setPointerCapture=Kt.hasPointerCapture=Kt.createEvent=Kt.getCapturedShape=void 0;const t=ft(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function i(c){return e.get(c)}Kt.getCapturedShape=i;function s(c){return{evt:c,pointerId:c.pointerId}}Kt.createEvent=s;function a(c,u){return e.get(c)===u}Kt.hasPointerCapture=a;function n(c,u){o(c),u.getStage()&&(e.set(c,u),r&&u._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}Kt.setPointerCapture=n;function o(c,u){const v=e.get(c);if(!v)return;const g=v.getStage();g&&g.content,e.delete(c),r&&v._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return Kt.releaseCapture=o,Kt}var io;function Fd(){return io||(io=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Tt(),r=ht(),i=ki(),s=ft(),a=Oi(),n=ta(),o=ft(),c=qc();var u="Stage",v="string",g="px",m="mouseout",_="mouseleave",p="mouseover",y="mouseenter",S="mousemove",x="mousedown",h="mouseup",l="pointermove",f="pointerdown",b="pointerup",A="pointercancel",M="lostpointercapture",C="pointerout",E="pointerleave",P="pointerover",F="pointerenter",O="contextmenu",d="touchstart",w="touchend",T="touchmove",R="touchcancel",k="wheel",L=5,G=[[y,"_pointerenter"],[x,"_pointerdown"],[S,"_pointermove"],[h,"_pointerup"],[_,"_pointerleave"],[d,"_pointerdown"],[T,"_pointermove"],[w,"_pointerup"],[R,"_pointercancel"],[p,"_pointerover"],[k,"_wheel"],[O,"_contextmenu"],[f,"_pointerdown"],[l,"_pointermove"],[b,"_pointerup"],[A,"_pointercancel"],[M,"_lostpointercapture"]];const U={mouse:{[C]:m,[E]:_,[P]:p,[F]:y,[l]:S,[f]:x,[b]:h,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[C]:"touchout",[E]:"touchleave",[P]:"touchover",[F]:"touchenter",[l]:T,[f]:d,[b]:w,[A]:R,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[C]:C,[E]:E,[P]:P,[F]:F,[l]:l,[f]:f,[b]:b,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=rt=>rt.indexOf("pointer")>=0?"pointer":rt.indexOf("touch")>=0?"touch":"mouse",V=rt=>{const I=$(rt);if(I==="pointer")return s.Konva.pointerEventsEnabled&&U.pointer;if(I==="touch")return U.touch;if(I==="mouse")return U.mouse};function q(rt={}){return(rt.clipFunc||rt.clipWidth||rt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),rt}const Q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class tt extends i.Container{constructor(I){super(q(I)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q(this.attrs)}),this._checkVisibility()}_validateAdd(I){const B=I.getType()==="Layer",z=I.getType()==="FastLayer";B||z||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const I=this.visible()?"":"none";this.content.style.display=I}setContainer(I){if(typeof I===v){if(I.charAt(0)==="."){var B=I.slice(1);I=document.getElementsByClassName(B)[0]}else{var z;I.charAt(0)!=="#"?z=I:z=I.slice(1),I=document.getElementById(z)}if(!I)throw"Can not find container in document with id "+z}return this._setAttr("container",I),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),I.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var I=this.children,B=I.length,z;for(z=0;z<B;z++)I[z].clear();return this}clone(I){return I||(I={}),I.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,I)}destroy(){super.destroy();var I=this.content;I&&e.Util._isInDocument(I)&&this.container().removeChild(I);var B=t.stages.indexOf(this);return B>-1&&t.stages.splice(B,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const I=this._pointerPositions[0]||this._changedPointerPositions[0];return I?{x:I.x,y:I.y}:(e.Util.warn(Q),null)}_getPointerById(I){return this._pointerPositions.find(B=>B.id===I)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(I){I=I||{},I.x=I.x||0,I.y=I.y||0,I.width=I.width||this.width(),I.height=I.height||this.height();var B=new a.SceneCanvas({width:I.width,height:I.height,pixelRatio:I.pixelRatio||1}),z=B.getContext()._context,lt=this.children;return(I.x||I.y)&&z.translate(-1*I.x,-1*I.y),lt.forEach(function(ot){if(ot.isVisible()){var N=ot._toKonvaCanvas(I);z.drawImage(N._canvas,I.x,I.y,N.getWidth()/N.getPixelRatio(),N.getHeight()/N.getPixelRatio())}}),B}getIntersection(I){if(!I)return null;var B=this.children,z=B.length,lt=z-1,ot;for(ot=lt;ot>=0;ot--){const N=B[ot].getIntersection(I);if(N)return N}return null}_resizeDOM(){var I=this.width(),B=this.height();this.content&&(this.content.style.width=I+g,this.content.style.height=B+g),this.bufferCanvas.setSize(I,B),this.bufferHitCanvas.setSize(I,B),this.children.forEach(z=>{z.setSize({width:I,height:B}),z.draw()})}add(I,...B){if(arguments.length>1){for(var z=0;z<arguments.length;z++)this.add(arguments[z]);return this}super.add(I);var lt=this.children.length;return lt>L&&e.Util.warn("The stage has "+lt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),I.setSize({width:this.width(),height:this.height()}),I.draw(),s.Konva.isBrowser&&this.content.appendChild(I.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(I){return c.hasPointerCapture(I,this)}setPointerCapture(I){c.setPointerCapture(I,this)}releaseCapture(I){c.releaseCapture(I,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&G.forEach(([I,B])=>{this.content.addEventListener(I,z=>{this[B](z)},{passive:!1})})}_pointerenter(I){this.setPointersPositions(I);const B=V(I.type);B&&this._fire(B.pointerenter,{evt:I,target:this,currentTarget:this})}_pointerover(I){this.setPointersPositions(I);const B=V(I.type);B&&this._fire(B.pointerover,{evt:I,target:this,currentTarget:this})}_getTargetShape(I){let B=this[I+"targetShape"];return B&&!B.getStage()&&(B=null),B}_pointerleave(I){const B=V(I.type),z=$(I.type);if(B){this.setPointersPositions(I);var lt=this._getTargetShape(z),ot=!n.DD.isDragging||s.Konva.hitOnDragEnabled;lt&&ot?(lt._fireAndBubble(B.pointerout,{evt:I}),lt._fireAndBubble(B.pointerleave,{evt:I}),this._fire(B.pointerleave,{evt:I,target:this,currentTarget:this}),this[z+"targetShape"]=null):ot&&(this._fire(B.pointerleave,{evt:I,target:this,currentTarget:this}),this._fire(B.pointerout,{evt:I,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(I){const B=V(I.type),z=$(I.type);if(B){this.setPointersPositions(I);var lt=!1;this._changedPointerPositions.forEach(ot=>{var N=this.getIntersection(ot);if(n.DD.justDragged=!1,s.Konva["_"+z+"ListenClick"]=!0,!N||!N.isListening())return;s.Konva.capturePointerEventsEnabled&&N.setPointerCapture(ot.id),this[z+"ClickStartShape"]=N,N._fireAndBubble(B.pointerdown,{evt:I,pointerId:ot.id}),lt=!0;const D=I.type.indexOf("touch")>=0;N.preventDefault()&&I.cancelable&&D&&I.preventDefault()}),lt||this._fire(B.pointerdown,{evt:I,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(I){const B=V(I.type),z=$(I.type);if(!B)return;n.DD.isDragging&&n.DD.node.preventDefault()&&I.cancelable&&I.preventDefault(),this.setPointersPositions(I);var lt=!n.DD.isDragging||s.Konva.hitOnDragEnabled;if(!lt)return;var ot={};let N=!1;var D=this._getTargetShape(z);this._changedPointerPositions.forEach(H=>{const j=c.getCapturedShape(H.id)||this.getIntersection(H),W=H.id,X={evt:I,pointerId:W};var Z=D!==j;if(Z&&D&&(D._fireAndBubble(B.pointerout,{...X},j),D._fireAndBubble(B.pointerleave,{...X},j)),j){if(ot[j._id])return;ot[j._id]=!0}j&&j.isListening()?(N=!0,Z&&(j._fireAndBubble(B.pointerover,{...X},D),j._fireAndBubble(B.pointerenter,{...X},D),this[z+"targetShape"]=j),j._fireAndBubble(B.pointermove,{...X})):D&&(this._fire(B.pointerover,{evt:I,target:this,currentTarget:this,pointerId:W}),this[z+"targetShape"]=null)}),N||this._fire(B.pointermove,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(I){const B=V(I.type),z=$(I.type);if(!B)return;this.setPointersPositions(I);const lt=this[z+"ClickStartShape"],ot=this[z+"ClickEndShape"];var N={};let D=!1;this._changedPointerPositions.forEach(H=>{const j=c.getCapturedShape(H.id)||this.getIntersection(H);if(j){if(j.releaseCapture(H.id),N[j._id])return;N[j._id]=!0}const W=H.id,X={evt:I,pointerId:W};let Z=!1;s.Konva["_"+z+"InDblClickWindow"]?(Z=!0,clearTimeout(this[z+"DblTimeout"])):n.DD.justDragged||(s.Konva["_"+z+"InDblClickWindow"]=!0,clearTimeout(this[z+"DblTimeout"])),this[z+"DblTimeout"]=setTimeout(function(){s.Konva["_"+z+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),j&&j.isListening()?(D=!0,this[z+"ClickEndShape"]=j,j._fireAndBubble(B.pointerup,{...X}),s.Konva["_"+z+"ListenClick"]&&lt&&lt===j&&(j._fireAndBubble(B.pointerclick,{...X}),Z&&ot&&ot===j&&j._fireAndBubble(B.pointerdblclick,{...X}))):(this[z+"ClickEndShape"]=null,s.Konva["_"+z+"ListenClick"]&&this._fire(B.pointerclick,{evt:I,target:this,currentTarget:this,pointerId:W}),Z&&this._fire(B.pointerdblclick,{evt:I,target:this,currentTarget:this,pointerId:W}))}),D||this._fire(B.pointerup,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+z+"ListenClick"]=!1,I.cancelable&&z!=="touch"&&I.preventDefault()}_contextmenu(I){this.setPointersPositions(I);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(O,{evt:I}):this._fire(O,{evt:I,target:this,currentTarget:this})}_wheel(I){this.setPointersPositions(I);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(k,{evt:I}):this._fire(k,{evt:I,target:this,currentTarget:this})}_pointercancel(I){this.setPointersPositions(I);const B=c.getCapturedShape(I.pointerId)||this.getIntersection(this.getPointerPosition());B&&B._fireAndBubble(b,c.createEvent(I)),c.releaseCapture(I.pointerId)}_lostpointercapture(I){c.releaseCapture(I.pointerId)}setPointersPositions(I){var B=this._getContentPosition(),z=null,lt=null;I=I||window.event,I.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(I.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})}),Array.prototype.forEach.call(I.changedTouches||I.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})})):(z=(I.clientX-B.left)/B.scaleX,lt=(I.clientY-B.top)/B.scaleY,this.pointerPos={x:z,y:lt},this._pointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(I)}],this._changedPointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(I)}])}_setPointerPosition(I){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(I)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var I=this.content.getBoundingClientRect();return{top:I.top,left:I.left,scaleX:I.width/this.content.clientWidth||1,scaleY:I.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!s.Konva.isBrowser){var I=this.container();if(!I)throw"Stage has no container. A container is required.";I.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),I.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(I){I.batchDraw()}),this}}t.Stage=tt,tt.prototype.nodeType=u,(0,o._registerNode)(tt),r.Factory.addGetterSetter(tt,"container")}(zi)),zi}var Sr={},$i={},so;function Ot(){return so||(so=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ft(),r=Tt(),i=ht(),s=Et(),a=dt(),n=ft(),o=qc();var c="hasShadow",u="shadowRGBA",v="patternImage",g="linearGradient",m="radialGradient";let _;function p(){return _||(_=r.Util.createCanvasElement().getContext("2d"),_)}t.shapes={};function y(E){const P=this.attrs.fillRule;P?E.fill(P):E.fill()}function S(E){E.stroke()}function x(E){E.fill()}function h(E){E.stroke()}function l(){this._clearCache(c)}function f(){this._clearCache(u)}function b(){this._clearCache(v)}function A(){this._clearCache(g)}function M(){this._clearCache(m)}class C extends s.Node{constructor(P){super(P);let F;for(;F=r.Util.getRandomColor(),!(F&&!(F in t.shapes)););this.colorKey=F,t.shapes[F]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var P=p();const F=P.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(F&&F.setTransform){const O=new r.Transform;O.translate(this.fillPatternX(),this.fillPatternY()),O.rotate(e.Konva.getAngle(this.fillPatternRotation())),O.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),O.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const d=O.getMatrix(),w=typeof DOMMatrix>"u"?{a:d[0],b:d[1],c:d[2],d:d[3],e:d[4],f:d[5]}:new DOMMatrix(d);F.setTransform(w)}return F}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){var P=this.fillLinearGradientColorStops();if(P){for(var F=p(),O=this.fillLinearGradientStartPoint(),d=this.fillLinearGradientEndPoint(),w=F.createLinearGradient(O.x,O.y,d.x,d.y),T=0;T<P.length;T+=2)w.addColorStop(P[T],P[T+1]);return w}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){var P=this.fillRadialGradientColorStops();if(P){for(var F=p(),O=this.fillRadialGradientStartPoint(),d=this.fillRadialGradientEndPoint(),w=F.createRadialGradient(O.x,O.y,this.fillRadialGradientStartRadius(),d.x,d.y,this.fillRadialGradientEndRadius()),T=0;T<P.length;T+=2)w.addColorStop(P[T],P[T+1]);return w}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var P=r.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){var F=this.getStage();if(!F)return!1;const O=F.bufferHitCanvas;return O.getContext().clear(),this.drawHit(O,void 0,!0),O.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var F;if(!this.getStage()||!((F=this.attrs.perfectDrawEnabled)!==null&&F!==void 0?F:!0))return!1;const d=P||this.hasFill(),w=this.hasStroke(),T=this.getAbsoluteOpacity()!==1;if(d&&w&&T)return!0;const R=this.hasShadow(),k=this.shadowForStrokeEnabled();return!!(d&&w&&R&&k)}setStrokeHitEnabled(P){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){const F=P.skipTransform,O=P.relativeTo,d=this.getSelfRect(),T=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,R=d.width+T,k=d.height+T,L=!P.skipShadow&&this.hasShadow(),G=L?this.shadowOffsetX():0,U=L?this.shadowOffsetY():0,$=R+Math.abs(G),V=k+Math.abs(U),q=L&&this.shadowBlur()||0,Q=$+q*2,tt=V+q*2,rt={width:Q,height:tt,x:-(T/2+q)+Math.min(G,0)+d.x,y:-(T/2+q)+Math.min(U,0)+d.y};return F?rt:this._transformedRect(rt,O)}drawScene(P,F){var O=this.getLayer(),d=P||O.getCanvas(),w=d.getContext(),T=this._getCanvasCache(),R=this.getSceneFunc(),k=this.hasShadow(),L,G,U,$=d.isCache,V=F===this;if(!this.isVisible()&&!V)return this;if(T){w.save();var q=this.getAbsoluteTransform(F).getMatrix();return w.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedSceneCanvas(w),w.restore(),this}if(!R)return this;if(w.save(),this._useBufferCanvas()&&!$){L=this.getStage(),G=L.bufferCanvas,U=G.getContext(),U.clear(),U.save(),U._applyLineJoin(this);var Q=this.getAbsoluteTransform(F).getMatrix();U.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),R.call(this,U,this),U.restore();var tt=G.pixelRatio;k&&w._applyShadow(this),w._applyOpacity(this),w._applyGlobalCompositeOperation(this),w.drawImage(G._canvas,0,0,G.width/tt,G.height/tt)}else{if(w._applyLineJoin(this),!V){var Q=this.getAbsoluteTransform(F).getMatrix();w.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),w._applyOpacity(this),w._applyGlobalCompositeOperation(this)}k&&w._applyShadow(this),R.call(this,w,this)}return w.restore(),this}drawHit(P,F,O=!1){if(!this.shouldDrawHit(F,O))return this;var d=this.getLayer(),w=P||d.hitCanvas,T=w&&w.getContext(),R=this.hitFunc()||this.sceneFunc(),k=this._getCanvasCache(),L=k&&k.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){T.save();var G=this.getAbsoluteTransform(F).getMatrix();return T.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(T),T.restore(),this}if(!R)return this;if(T.save(),T._applyLineJoin(this),!(this===F)){var $=this.getAbsoluteTransform(F).getMatrix();T.transform($[0],$[1],$[2],$[3],$[4],$[5])}return R.call(this,T,this),T.restore(),this}drawHitFromCache(P=0){var F=this._getCanvasCache(),O=this._getCachedSceneCanvas(),d=F.hit,w=d.getContext(),T=d.getWidth(),R=d.getHeight(),k,L,G,U,$,V;w.clear(),w.drawImage(O._canvas,0,0,T,R);try{for(k=w.getImageData(0,0,T,R),L=k.data,G=L.length,U=r.Util._hexToRgb(this.colorKey),$=0;$<G;$+=4)V=L[$+3],V>P?(L[$]=U.r,L[$+1]=U.g,L[$+2]=U.b,L[$+3]=255):L[$+3]=0;w.putImageData(k,0,0)}catch(q){r.Util.error("Unable to draw hit graph from cached scene canvas. "+q.message)}return this}hasPointerCapture(P){return o.hasPointerCapture(P,this)}setPointerCapture(P){o.setPointerCapture(P,this)}releaseCapture(P){o.releaseCapture(P,this)}}t.Shape=C,C.prototype._fillFunc=y,C.prototype._strokeFunc=S,C.prototype._fillFuncHit=x,C.prototype._strokeFuncHit=h,C.prototype._centroid=!1,C.prototype.nodeType="Shape",(0,n._registerNode)(C),C.prototype.eventListeners={},C.prototype.on.call(C.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l),C.prototype.on.call(C.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f),C.prototype.on.call(C.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",b),C.prototype.on.call(C.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),C.prototype.on.call(C.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(C,"stroke",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(C,"strokeWidth",2,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(C,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(C,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(C,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(C,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(C,"lineJoin"),i.Factory.addGetterSetter(C,"lineCap"),i.Factory.addGetterSetter(C,"sceneFunc"),i.Factory.addGetterSetter(C,"hitFunc"),i.Factory.addGetterSetter(C,"dash"),i.Factory.addGetterSetter(C,"dashOffset",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"shadowColor",void 0,(0,a.getStringValidator)()),i.Factory.addGetterSetter(C,"shadowBlur",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"shadowOpacity",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(C,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(C,"shadowOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"shadowOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillPatternImage"),i.Factory.addGetterSetter(C,"fill",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(C,"fillPatternX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillPatternY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(C,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(C,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(C,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(C,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(C,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(C,"fillEnabled",!0),i.Factory.addGetterSetter(C,"strokeEnabled",!0),i.Factory.addGetterSetter(C,"shadowEnabled",!0),i.Factory.addGetterSetter(C,"dashEnabled",!0),i.Factory.addGetterSetter(C,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(C,"fillPriority","color"),i.Factory.addComponentsGetterSetter(C,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(C,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(C,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(C,"fillPatternScaleX",1,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"fillPatternScaleY",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(C,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(C,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(C,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(C,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(C,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(C,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(C,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(C,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(C,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(C,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(C,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(C,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(C,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(C,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(C,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(C,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(C,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(C,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(C,"fillPatternRotation",0),i.Factory.addGetterSetter(C,"fillRule",void 0,(0,a.getStringValidator)()),i.Factory.backCompat(C,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}($i)),$i}var ao;function Wc(){if(ao)return Sr;ao=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Layer=void 0;const t=Tt(),e=ki(),r=Et(),i=ht(),s=Oi(),a=dt(),n=Ot(),o=ft();var c="#",u="beforeDraw",v="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m=g.length;let _=class extends e.Container{constructor(y){super(y),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),y<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[y+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:S}){return this.canvas.setSize(y,S),this.hitCanvas.setSize(y,S),this._setSmoothEnabled(),this}_validateAdd(y){var S=y.getType();S!=="Group"&&S!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var S=1,x=!1;;){for(let h=0;h<m;h++){const l=g[h],f=this._getIntersection({x:y.x+l.x*S,y:y.y+l.y*S}),b=f.shape;if(b)return b;if(x=!!f.antialiased,!f.antialiased)break}if(x)S+=1;else return null}}_getIntersection(y){const S=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*S),Math.round(y.y*S),1,1).data,h=x[3];if(h===255){const l=t.Util._rgbToHex(x[0],x[1],x[2]),f=n.shapes[c+l];return f?{shape:f}:{antialiased:!0}}else if(h>0)return{antialiased:!0};return{}}drawScene(y,S){var x=this.getLayer(),h=y||x&&x.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),e.Container.prototype.drawScene.call(this,h,S),this._fire(v,{node:this}),this}drawHit(y,S){var x=this.getLayer(),h=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,h,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,S=!!this.hitCanvas._canvas.parentNode;S?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Sr.Layer=_,_.prototype.nodeType="Layer",(0,o._registerNode)(_),i.Factory.addGetterSetter(_,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(_,"clearBeforeDraw",!0),i.Factory.addGetterSetter(_,"hitGraphEnabled",!0,(0,a.getBooleanValidator)()),Sr}var Cr={},oo;function Md(){if(oo)return Cr;oo=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.FastLayer=void 0;const t=Tt(),e=Wc(),r=ft();let i=class extends e.Layer{constructor(a){super(a),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Cr.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),Cr}var wr={},lo;function ea(){if(lo)return wr;lo=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.Group=void 0;const t=Tt(),e=ki(),r=ft();let i=class extends e.Container{_validateAdd(a){var n=a.getType();n!=="Group"&&n!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return wr.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),wr}var xr={},co;function ra(){if(co)return xr;co=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.Animation=void 0;const t=ft(),e=Tt(),r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class tr{constructor(a,n){this.id=tr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=a,this.setLayers(n)}setLayers(a){let n=[];return a&&(n=Array.isArray(a)?a:[a]),this.layers=n,this}getLayers(){return this.layers}addLayer(a){const n=this.layers,o=n.length;for(let c=0;c<o;c++)if(n[c]._id===a._id)return!1;return this.layers.push(a),!0}isRunning(){const n=tr.animations,o=n.length;for(let c=0;c<o;c++)if(n[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),tr._addAnimation(this),this}stop(){return tr._removeAnimation(this),this}_updateFrameObject(a){this.frame.timeDiff=a-this.frame.lastTime,this.frame.lastTime=a,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(a){this.animations.push(a),this._handleAnimation()}static _removeAnimation(a){const n=a.id,o=this.animations,c=o.length;for(let u=0;u<c;u++)if(o[u].id===n){this.animations.splice(u,1);break}}static _runFrames(){const a={},n=this.animations;for(let o=0;o<n.length;o++){const c=n[o],u=c.layers,v=c.func;c._updateFrameObject(r());const g=u.length;let m;if(v?m=v.call(c,c.frame)!==!1:m=!0,!!m)for(let _=0;_<g;_++){const p=u[_];p._id!==void 0&&(a[p._id]=p)}}for(let o in a)a.hasOwnProperty(o)&&a[o].batchDraw()}static _animationLoop(){const a=tr;a.animations.length?(a._runFrames(),e.Util.requestAnimFrame(a._animationLoop)):a.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return xr.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,xr}var Yi={},uo;function Od(){return uo||(uo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Tt(),r=ra(),i=Et(),s=ft();var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},n=1,o=2,c=3,u=0,v=["fill","stroke","shadowColor"];class g{constructor(p,y,S,x,h,l,f){this.prop=p,this.propFunc=y,this.begin=x,this._pos=x,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=f,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=h-this.begin,this.pause()}fire(p){var y=this[p];y&&y()}setTime(p){p>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():p<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=p,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(p){return p===void 0&&(p=this._time),this.func(p,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(p){this.pause(),this._time=p,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var p=this.getTimer()-this._startTime;this.state===o?this.setTime(p):this.state===c&&this.setTime(this.duration-p)}pause(){this.state=n,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(p){var y=this,S=p.node,x=S._id,h,l=p.easing||t.Easings.Linear,f=!!p.yoyo,b;typeof p.duration>"u"?h=.3:p.duration===0?h=.001:h=p.duration,this.node=S,this._id=u++;var A=S.getLayer()||(S instanceof s.Konva.Stage?S.getLayers():null);A||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},A),this.tween=new g(b,function(M){y._tweenFunc(M)},l,0,1,h*1e3,f),this._addListeners(),m.attrs[x]||(m.attrs[x]={}),m.attrs[x][this._id]||(m.attrs[x][this._id]={}),m.tweens[x]||(m.tweens[x]={});for(b in p)a[b]===void 0&&this._addAttr(b,p[b]);this.reset(),this.onFinish=p.onFinish,this.onReset=p.onReset,this.onUpdate=p.onUpdate}_addAttr(p,y){var S=this.node,x=S._id,h,l,f,b,A,M,C,E;if(f=m.tweens[x][p],f&&delete m.attrs[x][f][p],h=S.getAttr(p),e.Util._isArray(y))if(l=[],A=Math.max(y.length,h.length),p==="points"&&y.length!==h.length&&(y.length>h.length?(C=h,h=e.Util._prepareArrayForTween(h,y,S.closed())):(M=y,y=e.Util._prepareArrayForTween(y,h,S.closed()))),p.indexOf("fill")===0)for(b=0;b<A;b++)if(b%2===0)l.push(y[b]-h[b]);else{var P=e.Util.colorToRGBA(h[b]);E=e.Util.colorToRGBA(y[b]),h[b]=P,l.push({r:E.r-P.r,g:E.g-P.g,b:E.b-P.b,a:E.a-P.a})}else for(b=0;b<A;b++)l.push(y[b]-h[b]);else v.indexOf(p)!==-1?(h=e.Util.colorToRGBA(h),E=e.Util.colorToRGBA(y),l={r:E.r-h.r,g:E.g-h.g,b:E.b-h.b,a:E.a-h.a}):l=y-h;m.attrs[x][this._id][p]={start:h,diff:l,end:y,trueEnd:M,trueStart:C},m.tweens[x][p]=this._id}_tweenFunc(p){var y=this.node,S=m.attrs[y._id][this._id],x,h,l,f,b,A,M,C;for(x in S){if(h=S[x],l=h.start,f=h.diff,C=h.end,e.Util._isArray(l))if(b=[],M=Math.max(l.length,C.length),x.indexOf("fill")===0)for(A=0;A<M;A++)A%2===0?b.push((l[A]||0)+f[A]*p):b.push("rgba("+Math.round(l[A].r+f[A].r*p)+","+Math.round(l[A].g+f[A].g*p)+","+Math.round(l[A].b+f[A].b*p)+","+(l[A].a+f[A].a*p)+")");else for(A=0;A<M;A++)b.push((l[A]||0)+f[A]*p);else v.indexOf(x)!==-1?b="rgba("+Math.round(l.r+f.r*p)+","+Math.round(l.g+f.g*p)+","+Math.round(l.b+f.b*p)+","+(l.a+f.a*p)+")":b=l+f*p;y.setAttr(x,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var p=this.node,y=m.attrs[p._id][this._id];y.points&&y.points.trueEnd&&p.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var p=this.node,y=m.attrs[p._id][this._id];y.points&&y.points.trueStart&&p.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(p){return this.tween.seek(p*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var p=this.node._id,y=this._id,S=m.tweens[p],x;this.pause();for(x in S)delete m.tweens[p][x];delete m.attrs[p][y]}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(_){var p=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),p&&p()};var y=new m(_);y.play()},t.Easings={BackEaseIn(_,p,y,S){var x=1.70158;return y*(_/=S)*_*((x+1)*_-x)+p},BackEaseOut(_,p,y,S){var x=1.70158;return y*((_=_/S-1)*_*((x+1)*_+x)+1)+p},BackEaseInOut(_,p,y,S){var x=1.70158;return(_/=S/2)<1?y/2*(_*_*(((x*=1.525)+1)*_-x))+p:y/2*((_-=2)*_*(((x*=1.525)+1)*_+x)+2)+p},ElasticEaseIn(_,p,y,S,x,h){var l=0;return _===0?p:(_/=S)===1?p+y:(h||(h=S*.3),!x||x<Math.abs(y)?(x=y,l=h/4):l=h/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(_-=1))*Math.sin((_*S-l)*(2*Math.PI)/h))+p)},ElasticEaseOut(_,p,y,S,x,h){var l=0;return _===0?p:(_/=S)===1?p+y:(h||(h=S*.3),!x||x<Math.abs(y)?(x=y,l=h/4):l=h/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*_)*Math.sin((_*S-l)*(2*Math.PI)/h)+y+p)},ElasticEaseInOut(_,p,y,S,x,h){var l=0;return _===0?p:(_/=S/2)===2?p+y:(h||(h=S*(.3*1.5)),!x||x<Math.abs(y)?(x=y,l=h/4):l=h/(2*Math.PI)*Math.asin(y/x),_<1?-.5*(x*Math.pow(2,10*(_-=1))*Math.sin((_*S-l)*(2*Math.PI)/h))+p:x*Math.pow(2,-10*(_-=1))*Math.sin((_*S-l)*(2*Math.PI)/h)*.5+y+p)},BounceEaseOut(_,p,y,S){return(_/=S)<1/2.75?y*(7.5625*_*_)+p:_<2/2.75?y*(7.5625*(_-=1.5/2.75)*_+.75)+p:_<2.5/2.75?y*(7.5625*(_-=2.25/2.75)*_+.9375)+p:y*(7.5625*(_-=2.625/2.75)*_+.984375)+p},BounceEaseIn(_,p,y,S){return y-t.Easings.BounceEaseOut(S-_,0,y,S)+p},BounceEaseInOut(_,p,y,S){return _<S/2?t.Easings.BounceEaseIn(_*2,0,y,S)*.5+p:t.Easings.BounceEaseOut(_*2-S,0,y,S)*.5+y*.5+p},EaseIn(_,p,y,S){return y*(_/=S)*_+p},EaseOut(_,p,y,S){return-y*(_/=S)*(_-2)+p},EaseInOut(_,p,y,S){return(_/=S/2)<1?y/2*_*_+p:-y/2*(--_*(_-2)-1)+p},StrongEaseIn(_,p,y,S){return y*(_/=S)*_*_*_*_+p},StrongEaseOut(_,p,y,S){return y*((_=_/S-1)*_*_*_*_+1)+p},StrongEaseInOut(_,p,y,S){return(_/=S/2)<1?y/2*_*_*_*_*_+p:y/2*((_-=2)*_*_*_*_+2)+p},Linear(_,p,y,S){return y*_/S+p}}}(Yi)),Yi}var ho;function kd(){return ho||(ho=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ft(),r=Tt(),i=Et(),s=ki(),a=Fd(),n=Wc(),o=Md(),c=ea(),u=ta(),v=Ot(),g=ra(),m=Od(),_=Kc(),p=Oi();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:n.Layer,FastLayer:o.FastLayer,Group:c.Group,DD:u.DD,Shape:v.Shape,shapes:v.shapes,Animation:g.Animation,Tween:m.Tween,Easings:m.Easings,Context:_.Context,Canvas:p.Canvas}),t.default=t.Konva}(Hi)),Hi}var Pr={},fo;function Nd(){if(fo)return Pr;fo=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.Arc=void 0;const t=ht(),e=Ot(),r=ft(),i=dt(),s=ft();let a=class extends e.Shape{_sceneFunc(o){var c=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,c,u),o.arc(0,0,this.innerRadius(),c,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),c=this.outerRadius(),u=this.clockwise(),v=r.Konva.getAngle(u?360-this.angle():this.angle()),g=Math.cos(Math.min(v,Math.PI)),m=1,_=Math.sin(Math.min(Math.max(Math.PI,v),3*Math.PI/2)),p=Math.sin(Math.min(v,Math.PI/2)),y=g*(g>0?o:c),S=m*c,x=_*(_>0?o:c),h=p*(p>0?c:o);return{x:y,y:u?-1*h:x,width:S-y,height:h-x}}};return Pr.Arc=a,a.prototype._centroid=!0,a.prototype.className="Arc",a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(a),t.Factory.addGetterSetter(a,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"clockwise",!1,(0,i.getBooleanValidator)()),Pr}var Tr={},Er={},go;function zc(){if(go)return Er;go=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Line=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();function s(o,c,u,v,g,m,_){var p=Math.sqrt(Math.pow(u-o,2)+Math.pow(v-c,2)),y=Math.sqrt(Math.pow(g-u,2)+Math.pow(m-v,2)),S=_*p/(p+y),x=_*y/(p+y),h=u-S*(g-o),l=v-S*(m-c),f=u+x*(g-o),b=v+x*(m-c);return[h,l,f,b]}function a(o,c){var u=o.length,v=[],g,m;for(g=2;g<u-2;g+=2)m=s(o[g-2],o[g-1],o[g],o[g+1],o[g+2],o[g+3],c),!isNaN(m[0])&&(v.push(m[0]),v.push(m[1]),v.push(o[g]),v.push(o[g+1]),v.push(m[2]),v.push(m[3]));return v}let n=class extends e.Shape{constructor(c){super(c),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(c){var u=this.points(),v=u.length,g=this.tension(),m=this.closed(),_=this.bezier(),p,y,S;if(v){if(c.beginPath(),c.moveTo(u[0],u[1]),g!==0&&v>4){for(p=this.getTensionPoints(),y=p.length,S=m?0:4,m||c.quadraticCurveTo(p[0],p[1],p[2],p[3]);S<y-2;)c.bezierCurveTo(p[S++],p[S++],p[S++],p[S++],p[S++],p[S++]);m||c.quadraticCurveTo(p[y-2],p[y-1],u[v-2],u[v-1])}else if(_)for(S=2;S<v;)c.bezierCurveTo(u[S++],u[S++],u[S++],u[S++],u[S++],u[S++]);else for(S=2;S<v;S+=2)c.lineTo(u[S],u[S+1]);m?(c.closePath(),c.fillStrokeShape(this)):c.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():a(this.points(),this.tension())}_getTensionPointsClosed(){var c=this.points(),u=c.length,v=this.tension(),g=s(c[u-2],c[u-1],c[0],c[1],c[2],c[3],v),m=s(c[u-4],c[u-3],c[u-2],c[u-1],c[0],c[1],v),_=a(c,v),p=[g[2],g[3]].concat(_).concat([m[0],m[1],c[u-2],c[u-1],m[2],m[3],g[0],g[1],c[0],c[1]]);return p}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var c=this.points();if(c.length<4)return{x:c[0]||0,y:c[1]||0,width:0,height:0};this.tension()!==0?c=[c[0],c[1],...this._getTensionPoints(),c[c.length-2],c[c.length-1]]:c=this.points();for(var u=c[0],v=c[0],g=c[1],m=c[1],_,p,y=0;y<c.length/2;y++)_=c[y*2],p=c[y*2+1],u=Math.min(u,_),v=Math.max(v,_),g=Math.min(g,p),m=Math.max(m,p);return{x:u,y:g,width:v-u,height:m-g}}};return Er.Line=n,n.prototype.className="Line",n.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"closed",!1),t.Factory.addGetterSetter(n,"bezier",!1),t.Factory.addGetterSetter(n,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"points",[],(0,r.getNumberArrayValidator)()),Er}var Ar={},Xi={},po;function Ld(){return po||(po=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(n,o,c)=>{let u,v,g;u=c/2,v=0;for(let _=0;_<20;_++)g=u*t.tValues[20][_]+u,v+=t.cValues[20][_]*i(n,o,g);return u*v};t.getCubicArcLength=e;const r=(n,o,c)=>{c===void 0&&(c=1);const u=n[0]-2*n[1]+n[2],v=o[0]-2*o[1]+o[2],g=2*n[1]-2*n[0],m=2*o[1]-2*o[0],_=4*(u*u+v*v),p=4*(u*g+v*m),y=g*g+m*m;if(_===0)return c*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(o[2]-o[0],2));const S=p/(2*_),x=y/_,h=c+S,l=x-S*S,f=h*h+l>0?Math.sqrt(h*h+l):0,b=S*S+l>0?Math.sqrt(S*S+l):0,A=S+Math.sqrt(S*S+l)!==0?l*Math.log(Math.abs((h+f)/(S+b))):0;return Math.sqrt(_)/2*(h*f-S*b+A)};t.getQuadraticArcLength=r;function i(n,o,c){const u=s(1,c,n),v=s(1,c,o),g=u*u+v*v;return Math.sqrt(g)}const s=(n,o,c)=>{const u=c.length-1;let v,g;if(u===0)return 0;if(n===0){g=0;for(let m=0;m<=u;m++)g+=t.binomialCoefficients[u][m]*Math.pow(1-o,u-m)*Math.pow(o,m)*c[m];return g}else{v=new Array(u);for(let m=0;m<u;m++)v[m]=u*(c[m+1]-c[m]);return s(n-1,o,v)}},a=(n,o,c)=>{let u=1,v=n/o,g=(n-c(v))/o,m=0;for(;u>.001;){const _=c(v+g),p=Math.abs(n-_)/o;if(p<u)u=p,v+=g;else{const y=c(v-g),S=Math.abs(n-y)/o;S<u?(u=S,v-=g):g/=2}if(m++,m>500)break}return v};t.t2length=a}(Xi)),Xi}var vo;function na(){if(vo)return Ar;vo=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Path=void 0;const t=ht(),e=Ot(),r=ft(),i=Ld();let s=class Dt extends e.Shape{constructor(n){super(n),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Dt.parsePathData(this.data()),this.pathLength=Dt.getPathLength(this.dataArray)}_sceneFunc(n){var o=this.dataArray;n.beginPath();for(var c=!1,u=0;u<o.length;u++){var v=o[u].command,g=o[u].points;switch(v){case"L":n.lineTo(g[0],g[1]);break;case"M":n.moveTo(g[0],g[1]);break;case"C":n.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":n.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":var m=g[0],_=g[1],p=g[2],y=g[3],S=g[4],x=g[5],h=g[6],l=g[7],f=p>y?p:y,b=p>y?1:p/y,A=p>y?y/p:1;n.translate(m,_),n.rotate(h),n.scale(b,A),n.arc(0,0,f,S,S+x,1-l),n.scale(1/b,1/A),n.rotate(-h),n.translate(-m,-_);break;case"z":c=!0,n.closePath();break}}!c&&!this.hasFill()?n.strokeShape(this):n.fillStrokeShape(this)}getSelfRect(){var n=[];this.dataArray.forEach(function(p){if(p.command==="A"){var y=p.points[4],S=p.points[5],x=p.points[4]+S,h=Math.PI/180;if(Math.abs(y-x)<h&&(h=Math.abs(y-x)),S<0)for(let l=y-h;l>x;l-=h){const f=Dt.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],l,0);n.push(f.x,f.y)}else for(let l=y+h;l<x;l+=h){const f=Dt.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],l,0);n.push(f.x,f.y)}}else if(p.command==="C")for(let l=0;l<=1;l+=.01){const f=Dt.getPointOnCubicBezier(l,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);n.push(f.x,f.y)}else n=n.concat(p.points)});for(var o=n[0],c=n[0],u=n[1],v=n[1],g,m,_=0;_<n.length/2;_++)g=n[_*2],m=n[_*2+1],isNaN(g)||(o=Math.min(o,g),c=Math.max(c,g)),isNaN(m)||(u=Math.min(u,m),v=Math.max(v,m));return{x:o,y:u,width:c-o,height:v-u}}getLength(){return this.pathLength}getPointAtLength(n){return Dt.getPointAtLengthOfDataArray(n,this.dataArray)}static getLineLength(n,o,c,u){return Math.sqrt((c-n)*(c-n)+(u-o)*(u-o))}static getPathLength(n){let o=0;for(var c=0;c<n.length;++c)o+=n[c].pathLength;return o}static getPointAtLengthOfDataArray(n,o){var c,u=0,v=o.length;if(!v)return null;for(;u<v&&n>o[u].pathLength;)n-=o[u].pathLength,++u;if(u===v)return c=o[u-1].points.slice(-2),{x:c[0],y:c[1]};if(n<.01)return c=o[u].points.slice(0,2),{x:c[0],y:c[1]};var g=o[u],m=g.points;switch(g.command){case"L":return Dt.getPointOnLine(n,g.start.x,g.start.y,m[0],m[1]);case"C":return Dt.getPointOnCubicBezier((0,i.t2length)(n,Dt.getPathLength(o),f=>(0,i.getCubicArcLength)([g.start.x,m[0],m[2],m[4]],[g.start.y,m[1],m[3],m[5]],f)),g.start.x,g.start.y,m[0],m[1],m[2],m[3],m[4],m[5]);case"Q":return Dt.getPointOnQuadraticBezier((0,i.t2length)(n,Dt.getPathLength(o),f=>(0,i.getQuadraticArcLength)([g.start.x,m[0],m[2]],[g.start.y,m[1],m[3]],f)),g.start.x,g.start.y,m[0],m[1],m[2],m[3]);case"A":var _=m[0],p=m[1],y=m[2],S=m[3],x=m[4],h=m[5],l=m[6];return x+=h*n/g.pathLength,Dt.getPointOnEllipticalArc(_,p,y,S,x,l)}return null}static getPointOnLine(n,o,c,u,v,g,m){g===void 0&&(g=o),m===void 0&&(m=c);var _=(v-c)/(u-o+1e-8),p=Math.sqrt(n*n/(1+_*_));u<o&&(p*=-1);var y=_*p,S;if(u===o)S={x:g,y:m+y};else if((m-c)/(g-o+1e-8)===_)S={x:g+p,y:m+y};else{var x,h,l=this.getLineLength(o,c,u,v),f=(g-o)*(u-o)+(m-c)*(v-c);f=f/(l*l),x=o+f*(u-o),h=c+f*(v-c);var b=this.getLineLength(g,m,x,h),A=Math.sqrt(n*n-b*b);p=Math.sqrt(A*A/(1+_*_)),u<o&&(p*=-1),y=_*p,S={x:x+p,y:h+y}}return S}static getPointOnCubicBezier(n,o,c,u,v,g,m,_,p){function y(b){return b*b*b}function S(b){return 3*b*b*(1-b)}function x(b){return 3*b*(1-b)*(1-b)}function h(b){return(1-b)*(1-b)*(1-b)}var l=_*y(n)+g*S(n)+u*x(n)+o*h(n),f=p*y(n)+m*S(n)+v*x(n)+c*h(n);return{x:l,y:f}}static getPointOnQuadraticBezier(n,o,c,u,v,g,m){function _(h){return h*h}function p(h){return 2*h*(1-h)}function y(h){return(1-h)*(1-h)}var S=g*_(n)+u*p(n)+o*y(n),x=m*_(n)+v*p(n)+c*y(n);return{x:S,y:x}}static getPointOnEllipticalArc(n,o,c,u,v,g){var m=Math.cos(g),_=Math.sin(g),p={x:c*Math.cos(v),y:u*Math.sin(v)};return{x:n+(p.x*m-p.y*_),y:o+(p.x*_+p.y*m)}}static parsePathData(n){if(!n)return[];var o=n,c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<c.length;u++)o=o.replace(new RegExp(c[u],"g"),"|"+c[u]);var v=o.split("|"),g=[],m=[],_=0,p=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,S;for(u=1;u<v.length;u++){var x=v[u],h=x.charAt(0);for(x=x.slice(1),m.length=0;S=y.exec(x);)m.push(S[0]);for(var l=[],f=0,b=m.length;f<b;f++){if(m[f]==="00"){l.push(0,0);continue}var A=parseFloat(m[f]);isNaN(A)?l.push(0):l.push(A)}for(;l.length>0&&!isNaN(l[0]);){var M="",C=[],E=_,P=p,F,O,d,w,T,R,k,L,G,U;switch(h){case"l":_+=l.shift(),p+=l.shift(),M="L",C.push(_,p);break;case"L":_=l.shift(),p=l.shift(),C.push(_,p);break;case"m":var $=l.shift(),V=l.shift();if(_+=$,p+=V,M="M",g.length>2&&g[g.length-1].command==="z"){for(var q=g.length-2;q>=0;q--)if(g[q].command==="M"){_=g[q].points[0]+$,p=g[q].points[1]+V;break}}C.push(_,p),h="l";break;case"M":_=l.shift(),p=l.shift(),M="M",C.push(_,p),h="L";break;case"h":_+=l.shift(),M="L",C.push(_,p);break;case"H":_=l.shift(),M="L",C.push(_,p);break;case"v":p+=l.shift(),M="L",C.push(_,p);break;case"V":p=l.shift(),M="L",C.push(_,p);break;case"C":C.push(l.shift(),l.shift(),l.shift(),l.shift()),_=l.shift(),p=l.shift(),C.push(_,p);break;case"c":C.push(_+l.shift(),p+l.shift(),_+l.shift(),p+l.shift()),_+=l.shift(),p+=l.shift(),M="C",C.push(_,p);break;case"S":O=_,d=p,F=g[g.length-1],F.command==="C"&&(O=_+(_-F.points[2]),d=p+(p-F.points[3])),C.push(O,d,l.shift(),l.shift()),_=l.shift(),p=l.shift(),M="C",C.push(_,p);break;case"s":O=_,d=p,F=g[g.length-1],F.command==="C"&&(O=_+(_-F.points[2]),d=p+(p-F.points[3])),C.push(O,d,_+l.shift(),p+l.shift()),_+=l.shift(),p+=l.shift(),M="C",C.push(_,p);break;case"Q":C.push(l.shift(),l.shift()),_=l.shift(),p=l.shift(),C.push(_,p);break;case"q":C.push(_+l.shift(),p+l.shift()),_+=l.shift(),p+=l.shift(),M="Q",C.push(_,p);break;case"T":O=_,d=p,F=g[g.length-1],F.command==="Q"&&(O=_+(_-F.points[0]),d=p+(p-F.points[1])),_=l.shift(),p=l.shift(),M="Q",C.push(O,d,_,p);break;case"t":O=_,d=p,F=g[g.length-1],F.command==="Q"&&(O=_+(_-F.points[0]),d=p+(p-F.points[1])),_+=l.shift(),p+=l.shift(),M="Q",C.push(O,d,_,p);break;case"A":w=l.shift(),T=l.shift(),R=l.shift(),k=l.shift(),L=l.shift(),G=_,U=p,_=l.shift(),p=l.shift(),M="A",C=this.convertEndpointToCenterParameterization(G,U,_,p,k,L,w,T,R);break;case"a":w=l.shift(),T=l.shift(),R=l.shift(),k=l.shift(),L=l.shift(),G=_,U=p,_+=l.shift(),p+=l.shift(),M="A",C=this.convertEndpointToCenterParameterization(G,U,_,p,k,L,w,T,R);break}g.push({command:M||h,points:C,start:{x:E,y:P},pathLength:this.calcLength(E,P,M||h,C)})}(h==="z"||h==="Z")&&g.push({command:"z",points:[],start:void 0,pathLength:0})}return g}static calcLength(n,o,c,u){var v,g,m,_,p=Dt;switch(c){case"L":return p.getLineLength(n,o,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([n,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([n,u[0],u[2]],[o,u[1],u[3]],1);case"A":v=0;var y=u[4],S=u[5],x=u[4]+S,h=Math.PI/180;if(Math.abs(y-x)<h&&(h=Math.abs(y-x)),g=p.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),S<0)for(_=y-h;_>x;_-=h)m=p.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],_,0),v+=p.getLineLength(g.x,g.y,m.x,m.y),g=m;else for(_=y+h;_<x;_+=h)m=p.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],_,0),v+=p.getLineLength(g.x,g.y,m.x,m.y),g=m;return m=p.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],x,0),v+=p.getLineLength(g.x,g.y,m.x,m.y),v}return 0}static convertEndpointToCenterParameterization(n,o,c,u,v,g,m,_,p){var y=p*(Math.PI/180),S=Math.cos(y)*(n-c)/2+Math.sin(y)*(o-u)/2,x=-1*Math.sin(y)*(n-c)/2+Math.cos(y)*(o-u)/2,h=S*S/(m*m)+x*x/(_*_);h>1&&(m*=Math.sqrt(h),_*=Math.sqrt(h));var l=Math.sqrt((m*m*(_*_)-m*m*(x*x)-_*_*(S*S))/(m*m*(x*x)+_*_*(S*S)));v===g&&(l*=-1),isNaN(l)&&(l=0);var f=l*m*x/_,b=l*-_*S/m,A=(n+c)/2+Math.cos(y)*f-Math.sin(y)*b,M=(o+u)/2+Math.sin(y)*f+Math.cos(y)*b,C=function(T){return Math.sqrt(T[0]*T[0]+T[1]*T[1])},E=function(T,R){return(T[0]*R[0]+T[1]*R[1])/(C(T)*C(R))},P=function(T,R){return(T[0]*R[1]<T[1]*R[0]?-1:1)*Math.acos(E(T,R))},F=P([1,0],[(S-f)/m,(x-b)/_]),O=[(S-f)/m,(x-b)/_],d=[(-1*S-f)/m,(-1*x-b)/_],w=P(O,d);return E(O,d)<=-1&&(w=Math.PI),E(O,d)>=1&&(w=0),g===0&&w>0&&(w=w-2*Math.PI),g===1&&w<0&&(w=w+2*Math.PI),[A,M,m,_,F,w,y,g]}};return Ar.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Ar}var _o;function Id(){if(_o)return Tr;_o=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Arrow=void 0;const t=ht(),e=zc(),r=dt(),i=ft(),s=na();let a=class extends e.Line{_sceneFunc(o){super._sceneFunc(o);var c=Math.PI*2,u=this.points(),v=u,g=this.tension()!==0&&u.length>4;g&&(v=this.getTensionPoints());var m=this.pointerLength(),_=u.length,p,y;if(g){const h=[v[v.length-4],v[v.length-3],v[v.length-2],v[v.length-1],u[_-2],u[_-1]],l=s.Path.calcLength(v[v.length-4],v[v.length-3],"C",h),f=s.Path.getPointOnQuadraticBezier(Math.min(1,1-m/l),h[0],h[1],h[2],h[3],h[4],h[5]);p=u[_-2]-f.x,y=u[_-1]-f.y}else p=u[_-2]-u[_-4],y=u[_-1]-u[_-3];var S=(Math.atan2(y,p)+c)%c,x=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[_-2],u[_-1]),o.rotate(S),o.moveTo(0,0),o.lineTo(-m,x/2),o.lineTo(-m,-x/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),g?(p=(v[0]+v[2])/2-u[0],y=(v[1]+v[3])/2-u[1]):(p=u[2]-u[0],y=u[3]-u[1]),o.rotate((Math.atan2(-y,-p)+c)%c),o.moveTo(0,0),o.lineTo(-m,x/2),o.lineTo(-m,-x/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),c=this.pointerWidth()/2;return{x:o.x-c,y:o.y-c,width:o.width+c*2,height:o.height+c*2}}};return Tr.Arrow=a,a.prototype.className="Arrow",(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"pointerAtBeginning",!1),t.Factory.addGetterSetter(a,"pointerAtEnding",!0),Tr}var Rr={},mo;function Dd(){if(mo)return Rr;mo=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Circle=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(n){n.beginPath(),n.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(n){this.radius()!==n/2&&this.radius(n/2)}setHeight(n){this.radius()!==n/2&&this.radius(n/2)}};return Rr.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),Rr}var Fr={},bo;function Gd(){if(bo)return Fr;bo=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Ellipse=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(n){var o=this.radiusX(),c=this.radiusY();n.beginPath(),n.save(),o!==c&&n.scale(1,c/o),n.arc(0,0,o,0,Math.PI*2,!1),n.restore(),n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(n){this.radiusX(n/2)}setHeight(n){this.radiusY(n/2)}};return Fr.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,r.getNumberValidator)()),Fr}var Mr={},yo;function Ud(){if(yo)return Mr;yo=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Image=void 0;const t=Tt(),e=ht(),r=Ot(),i=ft(),s=dt();let a=class $c extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const c=this.getWidth(),u=this.getHeight(),v=this.cornerRadius(),g=this.attrs.image;let m;if(g){const _=this.attrs.cropWidth,p=this.attrs.cropHeight;_&&p?m=[g,this.cropX(),this.cropY(),_,p,0,0,c,u]:m=[g,0,0,c,u]}(this.hasFill()||this.hasStroke()||v)&&(o.beginPath(),v?t.Util.drawRoundedRectPath(o,c,u,v):o.rect(0,0,c,u),o.closePath(),o.fillStrokeShape(this)),g&&(v&&o.clip(),o.drawImage.apply(o,m))}_hitFunc(o){var c=this.width(),u=this.height(),v=this.cornerRadius();o.beginPath(),v?t.Util.drawRoundedRectPath(o,c,u,v):o.rect(0,0,c,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,c;return(o=this.attrs.width)!==null&&o!==void 0?o:(c=this.image())===null||c===void 0?void 0:c.width}getHeight(){var o,c;return(o=this.attrs.height)!==null&&o!==void 0?o:(c=this.image())===null||c===void 0?void 0:c.height}static fromURL(o,c,u=null){var v=t.Util.createImageElement();v.onload=function(){var g=new $c({image:v});c(g)},v.onerror=u,v.crossOrigin="Anonymous",v.src=o}};return Mr.Image=a,a.prototype.className="Image",(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(a,"image"),e.Factory.addComponentsGetterSetter(a,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(a,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(a,"cropHeight",0,(0,s.getNumberValidator)()),Mr}var Ie={},So;function Bd(){if(So)return Ie;So=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.Tag=Ie.Label=void 0;const t=ht(),e=Ot(),r=ea(),i=dt(),s=ft();var a=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],n="Change.konva",o="none",c="up",u="right",v="down",g="left",m=a.length;let _=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){var x=this,h,l=function(){x._sync()};for(h=0;h<m;h++)S.on(a[h]+n,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var S=this.getText(),x=this.getTag(),h,l,f,b,A,M,C;if(S&&x){switch(h=S.width(),l=S.height(),f=x.pointerDirection(),b=x.pointerWidth(),C=x.pointerHeight(),A=0,M=0,f){case c:A=h/2,M=-1*C;break;case u:A=h+b,M=l/2;break;case v:A=h/2,M=l+C;break;case g:A=-1*b,M=l/2;break}x.setAttrs({x:-1*A,y:-1*M,width:h,height:l}),S.setAttrs({x:-1*A,y:-1*M})}}};Ie.Label=_,_.prototype.className="Label",(0,s._registerNode)(_);class p extends e.Shape{_sceneFunc(S){var x=this.width(),h=this.height(),l=this.pointerDirection(),f=this.pointerWidth(),b=this.pointerHeight(),A=this.cornerRadius();let M=0,C=0,E=0,P=0;typeof A=="number"?M=C=E=P=Math.min(A,x/2,h/2):(M=Math.min(A[0]||0,x/2,h/2),C=Math.min(A[1]||0,x/2,h/2),P=Math.min(A[2]||0,x/2,h/2),E=Math.min(A[3]||0,x/2,h/2)),S.beginPath(),S.moveTo(M,0),l===c&&(S.lineTo((x-f)/2,0),S.lineTo(x/2,-1*b),S.lineTo((x+f)/2,0)),S.lineTo(x-C,0),S.arc(x-C,C,C,Math.PI*3/2,0,!1),l===u&&(S.lineTo(x,(h-b)/2),S.lineTo(x+f,h/2),S.lineTo(x,(h+b)/2)),S.lineTo(x,h-P),S.arc(x-P,h-P,P,0,Math.PI/2,!1),l===v&&(S.lineTo((x+f)/2,h),S.lineTo(x/2,h+b),S.lineTo((x-f)/2,h)),S.lineTo(E,h),S.arc(E,h-E,E,Math.PI/2,Math.PI,!1),l===g&&(S.lineTo(0,(h+b)/2),S.lineTo(-1*f,h/2),S.lineTo(0,(h-b)/2)),S.lineTo(0,M),S.arc(M,M,M,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){var S=0,x=0,h=this.pointerWidth(),l=this.pointerHeight(),f=this.pointerDirection(),b=this.width(),A=this.height();return f===c?(x-=l,A+=l):f===v?A+=l:f===g?(S-=h*1.5,b+=h):f===u&&(b+=h*1.5),{x:S,y:x,width:b,height:A}}}return Ie.Tag=p,p.prototype.className="Tag",(0,s._registerNode)(p),t.Factory.addGetterSetter(p,"pointerDirection",o),t.Factory.addGetterSetter(p,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(p,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(p,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Ie}var Or={},Co;function Yc(){if(Co)return Or;Co=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Rect=void 0;const t=ht(),e=Ot(),r=ft(),i=Tt(),s=dt();let a=class extends e.Shape{_sceneFunc(o){var c=this.cornerRadius(),u=this.width(),v=this.height();o.beginPath(),c?i.Util.drawRoundedRectPath(o,u,v,c):o.rect(0,0,u,v),o.closePath(),o.fillStrokeShape(this)}};return Or.Rect=a,a.prototype.className="Rect",(0,r._registerNode)(a),t.Factory.addGetterSetter(a,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Or}var kr={},wo;function Vd(){if(wo)return kr;wo=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.RegularPolygon=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(n){const o=this._getPoints();n.beginPath(),n.moveTo(o[0].x,o[0].y);for(var c=1;c<o.length;c++)n.lineTo(o[c].x,o[c].y);n.closePath(),n.fillStrokeShape(this)}_getPoints(){const n=this.attrs.sides,o=this.attrs.radius||0,c=[];for(var u=0;u<n;u++)c.push({x:o*Math.sin(u*2*Math.PI/n),y:-1*o*Math.cos(u*2*Math.PI/n)});return c}getSelfRect(){const n=this._getPoints();var o=n[0].x,c=n[0].y,u=n[0].x,v=n[0].y;return n.forEach(g=>{o=Math.min(o,g.x),c=Math.max(c,g.x),u=Math.min(u,g.y),v=Math.max(v,g.y)}),{x:o,y:u,width:c-o,height:v-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(n){this.radius(n/2)}setHeight(n){this.radius(n/2)}};return kr.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,r.getNumberValidator)()),kr}var Nr={},xo;function Hd(){if(xo)return Nr;xo=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Ring=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();var s=Math.PI*2;let a=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,s,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),s,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Nr.Ring=a,a.prototype.className="Ring",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)()),Nr}var Lr={},Po;function jd(){if(Po)return Lr;Po=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Sprite=void 0;const t=ht(),e=Ot(),r=ra(),i=dt(),s=ft();let a=class extends e.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var c=this._updated;return this._updated=!1,c}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var c=this.animation(),u=this.frameIndex(),v=u*4,g=this.animations()[c],m=this.frameOffsets(),_=g[v+0],p=g[v+1],y=g[v+2],S=g[v+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,S),o.closePath(),o.fillStrokeShape(this)),x)if(m){var h=m[c],l=u*2;o.drawImage(x,_,p,y,S,h[l+0],h[l+1],y,S)}else o.drawImage(x,_,p,y,S,0,0,y,S)}_hitFunc(o){var c=this.animation(),u=this.frameIndex(),v=u*4,g=this.animations()[c],m=this.frameOffsets(),_=g[v+2],p=g[v+3];if(o.beginPath(),m){var y=m[c],S=u*2;o.rect(y[S+0],y[S+1],_,p)}else o.rect(0,0,_,p);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),c=this.animation(),u=this.animations(),v=u[c],g=v.length/4;o<g-1?this.frameIndex(o+1):this.frameIndex(0)}};return Lr.Sprite=a,a.prototype.className="Sprite",(0,s._registerNode)(a),t.Factory.addGetterSetter(a,"animation"),t.Factory.addGetterSetter(a,"animations"),t.Factory.addGetterSetter(a,"frameOffsets"),t.Factory.addGetterSetter(a,"image"),t.Factory.addGetterSetter(a,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(a,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Lr}var Ir={},To;function Kd(){if(To)return Ir;To=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Star=void 0;const t=ht(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(n){var o=this.innerRadius(),c=this.outerRadius(),u=this.numPoints();n.beginPath(),n.moveTo(0,0-c);for(var v=1;v<u*2;v++){var g=v%2===0?c:o,m=g*Math.sin(v*Math.PI/u),_=-1*g*Math.cos(v*Math.PI/u);n.lineTo(m,_)}n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(n){this.outerRadius(n/2)}setHeight(n){this.outerRadius(n/2)}};return Ir.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),Ir}var De={},Eo;function Xc(){if(Eo)return De;Eo=1,Object.defineProperty(De,"__esModule",{value:!0}),De.Text=De.stringToArray=void 0;const t=Tt(),e=ht(),r=Ot(),i=dt(),s=ft();function a($){return Array.from($)}De.stringToArray=a;var n="auto",o="center",c="inherit",u="justify",v="Change.konva",g="2d",m="-",_="left",p="text",y="Text",S="top",x="bottom",h="middle",l="normal",f="px ",b=" ",A="right",M="rtl",C="word",E="char",P="none",F="",O=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],d=O.length;function w($){return $.split(",").map(V=>{V=V.trim();const q=V.indexOf(" ")>=0,Q=V.indexOf('"')>=0||V.indexOf("'")>=0;return q&&!Q&&(V=`"${V}"`),V}).join(", ")}var T;function R(){return T||(T=t.Util.createCanvasElement().getContext(g),T)}function k($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function L($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function G($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let U=class extends r.Shape{constructor(V){super(G(V)),this._partialTextX=0,this._partialTextY=0;for(var q=0;q<d;q++)this.on(O[q]+v,this._setTextData);this._setTextData()}_sceneFunc(V){var q=this.textArr,Q=q.length;if(this.text()){var tt=this.padding(),rt=this.fontSize(),I=this.lineHeight()*rt,B=this.verticalAlign(),z=this.direction(),lt=0,ot=this.align(),N=this.getWidth(),D=this.letterSpacing(),H=this.fill(),j=this.textDecoration(),W=j.indexOf("underline")!==-1,X=j.indexOf("line-through")!==-1,Z;z=z===c?V.direction:z;var Y=0,Y=I/2,J=0,K=0;for(z===M&&V.setAttr("direction",z),V.setAttr("font",this._getContextFont()),V.setAttr("textBaseline",h),V.setAttr("textAlign",_),B===h?lt=(this.getHeight()-Q*I-tt*2)/2:B===x&&(lt=this.getHeight()-Q*I-tt*2),V.translate(tt,lt+tt),Z=0;Z<Q;Z++){var J=0,K=0,nt=q[Z],et=nt.text,st=nt.width,at=nt.lastInParagraph,ct,vt,gt;if(V.save(),ot===A?J+=N-st-tt*2:ot===o&&(J+=(N-st-tt*2)/2),W){V.save(),V.beginPath(),V.moveTo(J,Y+K+Math.round(rt/2)),ct=et.split(" ").length-1,vt=ct===0,gt=ot===u&&!at?N-tt*2:st,V.lineTo(J+Math.round(gt),Y+K+Math.round(rt/2)),V.lineWidth=rt/15;const Xe=this._getLinearGradient();V.strokeStyle=Xe||H,V.stroke(),V.restore()}if(X){V.save(),V.beginPath(),V.moveTo(J,Y+K),ct=et.split(" ").length-1,vt=ct===0,gt=ot===u&&at&&!vt?N-tt*2:st,V.lineTo(J+Math.round(gt),Y+K),V.lineWidth=rt/15;const Xe=this._getLinearGradient();V.strokeStyle=Xe||H,V.stroke(),V.restore()}if(z!==M&&(D!==0||ot===u)){ct=et.split(" ").length-1;for(var St=a(et),At=0;At<St.length;At++){var Ht=St[At];Ht===" "&&!at&&ot===u&&(J+=(N-tt*2-st)/ct),this._partialTextX=J,this._partialTextY=Y+K,this._partialText=Ht,V.fillStrokeShape(this),J+=this.measureSize(Ht).width+D}}else D!==0&&V.setAttr("letterSpacing",`${D}px`),this._partialTextX=J,this._partialTextY=Y+K,this._partialText=et,V.fillStrokeShape(this);V.restore(),Q>1&&(Y+=I)}}}_hitFunc(V){var q=this.getWidth(),Q=this.getHeight();V.beginPath(),V.rect(0,0,q,Q),V.closePath(),V.fillStrokeShape(this)}setText(V){var q=t.Util._isString(V)?V:V==null?"":V+"";return this._setAttr(p,q),this}getWidth(){var V=this.attrs.width===n||this.attrs.width===void 0;return V?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var V=this.attrs.height===n||this.attrs.height===void 0;return V?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(V){var q=R(),Q=this.fontSize(),tt;return q.save(),q.font=this._getContextFont(),tt=q.measureText(V),q.restore(),{width:tt.width,height:Q}}_getContextFont(){return this.fontStyle()+b+this.fontVariant()+b+(this.fontSize()+f)+w(this.fontFamily())}_addTextLine(V){this.align()===u&&(V=V.trim());var Q=this._getTextWidth(V);return this.textArr.push({text:V,width:Q,lastInParagraph:!1})}_getTextWidth(V){var q=this.letterSpacing(),Q=V.length;return R().measureText(V).width+(Q?q*(Q-1):0)}_setTextData(){var V=this.text().split(`
`),q=+this.fontSize(),Q=0,tt=this.lineHeight()*q,rt=this.attrs.width,I=this.attrs.height,B=rt!==n&&rt!==void 0,z=I!==n&&I!==void 0,lt=this.padding(),ot=rt-lt*2,N=I-lt*2,D=0,H=this.wrap(),j=H!==P,W=H!==E&&j,X=this.ellipsis();this.textArr=[],R().font=this._getContextFont();for(var Z=X?this._getTextWidth(F):0,Y=0,J=V.length;Y<J;++Y){var K=V[Y],nt=this._getTextWidth(K);if(B&&nt>ot)for(;K.length>0;){for(var et=0,st=K.length,at="",ct=0;et<st;){var vt=et+st>>>1,gt=K.slice(0,vt+1),St=this._getTextWidth(gt)+Z;St<=ot?(et=vt+1,at=gt,ct=St):st=vt}if(at){if(W){var At,Ht=K[at.length],Dn=Ht===b||Ht===m;Dn&&ct<=ot?At=at.length:At=Math.max(at.lastIndexOf(b),at.lastIndexOf(m))+1,At>0&&(et=At,at=at.slice(0,et),ct=this._getTextWidth(at))}at=at.trimRight(),this._addTextLine(at),Q=Math.max(Q,ct),D+=tt;var ke=this._shouldHandleEllipsis(D);if(ke){this._tryToAddEllipsisToLastLine();break}if(K=K.slice(et),K=K.trimLeft(),K.length>0&&(nt=this._getTextWidth(K),nt<=ot)){this._addTextLine(K),D+=tt,Q=Math.max(Q,nt);break}}else break}else this._addTextLine(K),D+=tt,Q=Math.max(Q,nt),this._shouldHandleEllipsis(D)&&Y<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),z&&D+tt>N)break}this.textHeight=q,this.textWidth=Q}_shouldHandleEllipsis(V){var q=+this.fontSize(),Q=this.lineHeight()*q,tt=this.attrs.height,rt=tt!==n&&tt!==void 0,I=this.padding(),B=tt-I*2,z=this.wrap(),lt=z!==P;return!lt||rt&&V+Q>B}_tryToAddEllipsisToLastLine(){var V=this.attrs.width,q=V!==n&&V!==void 0,Q=this.padding(),tt=V-Q*2,rt=this.ellipsis(),I=this.textArr[this.textArr.length-1];if(!(!I||!rt)){if(q){var B=this._getTextWidth(I.text+F)<tt;B||(I.text=I.text.slice(0,I.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(I.text+F)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const V=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,q=this.hasShadow();return V&&q?!0:super._useBufferCanvas()}};return De.Text=U,U.prototype._fillFunc=k,U.prototype._strokeFunc=L,U.prototype.className=y,U.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(U),e.Factory.overWriteSetter(U,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(U,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(U,"direction",c),e.Factory.addGetterSetter(U,"fontFamily","Arial"),e.Factory.addGetterSetter(U,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"fontStyle",l),e.Factory.addGetterSetter(U,"fontVariant",l),e.Factory.addGetterSetter(U,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"align",_),e.Factory.addGetterSetter(U,"verticalAlign",S),e.Factory.addGetterSetter(U,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"wrap",C),e.Factory.addGetterSetter(U,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(U,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(U,"textDecoration",""),De}var Dr={},Ao;function qd(){if(Ao)return Dr;Ao=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.TextPath=void 0;const t=Tt(),e=ht(),r=Ot(),i=na(),s=Xc(),a=dt(),n=ft();var o="",c="normal";function u(m){m.fillText(this.partialText,0,0)}function v(m){m.strokeText(this.partialText,0,0)}let g=class extends r.Shape{constructor(_){super(_),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(_){if(!this.attrs.data)return null;const p=this.pathLength;return _-1>p?null:i.Path.getPointAtLengthOfDataArray(_,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(_){_.setAttr("font",this._getContextFont()),_.setAttr("textBaseline",this.textBaseline()),_.setAttr("textAlign","left"),_.save();var p=this.textDecoration(),y=this.fill(),S=this.fontSize(),x=this.glyphInfo;p==="underline"&&_.beginPath();for(var h=0;h<x.length;h++){_.save();var l=x[h].p0;_.translate(l.x,l.y),_.rotate(x[h].rotation),this.partialText=x[h].text,_.fillStrokeShape(this),p==="underline"&&(h===0&&_.moveTo(0,S/2+1),_.lineTo(S,S/2+1)),_.restore()}p==="underline"&&(_.strokeStyle=y,_.lineWidth=S/20,_.stroke()),_.restore()}_hitFunc(_){_.beginPath();var p=this.glyphInfo;if(p.length>=1){var y=p[0].p0;_.moveTo(y.x,y.y)}for(var S=0;S<p.length;S++){var x=p[S].p1;_.lineTo(x.x,x.y)}_.setAttr("lineWidth",this.fontSize()),_.setAttr("strokeStyle",this.colorKey),_.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(_){return s.Text.prototype.setText.call(this,_)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(_){var p=this.dummyCanvas,y=p.getContext("2d");y.save(),y.font=this._getContextFont();var S=y.measureText(_);return y.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:_,height:p}=this._getTextSize(this.attrs.text);if(this.textWidth=_,this.textHeight=p,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),S=this.align(),x=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let l=0;S==="center"&&(l=Math.max(0,this.pathLength/2-h/2)),S==="right"&&(l=Math.max(0,this.pathLength-h));const f=(0,s.stringToArray)(this.text());let b=l;for(var A=0;A<f.length;A++){const M=this._getPointAtLength(b);if(!M)return;let C=this._getTextSize(f[A]).width+y;if(f[A]===" "&&S==="justify"){const w=this.text().split(" ").length-1;C+=(this.pathLength-h)/w}const E=this._getPointAtLength(b+C);if(!E)return;const P=i.Path.getLineLength(M.x,M.y,E.x,E.y);let F=0;if(x)try{F=x(f[A-1],f[A])*this.fontSize()}catch{F=0}M.x+=F,E.x+=F,this.textWidth+=F;const O=i.Path.getPointOnLine(F+P/2,M.x,M.y,E.x,E.y),d=Math.atan2(E.y-M.y,E.x-M.x);this.glyphInfo.push({transposeX:O.x,transposeY:O.y,text:f[A],rotation:d,p0:M,p1:E}),b+=C}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var _=[];this.glyphInfo.forEach(function(A){_.push(A.p0.x),_.push(A.p0.y),_.push(A.p1.x),_.push(A.p1.y)});for(var p=_[0]||0,y=_[0]||0,S=_[1]||0,x=_[1]||0,h,l,f=0;f<_.length/2;f++)h=_[f*2],l=_[f*2+1],p=Math.min(p,h),y=Math.max(y,h),S=Math.min(S,l),x=Math.max(x,l);var b=this.fontSize();return{x:p-b/2,y:S-b/2,width:y-p+b,height:x-S+b}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Dr.TextPath=g,g.prototype._fillFunc=u,g.prototype._strokeFunc=v,g.prototype._fillFuncHit=u,g.prototype._strokeFuncHit=v,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],(0,n._registerNode)(g),e.Factory.addGetterSetter(g,"data"),e.Factory.addGetterSetter(g,"fontFamily","Arial"),e.Factory.addGetterSetter(g,"fontSize",12,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(g,"fontStyle",c),e.Factory.addGetterSetter(g,"align","left"),e.Factory.addGetterSetter(g,"letterSpacing",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(g,"textBaseline","middle"),e.Factory.addGetterSetter(g,"fontVariant",c),e.Factory.addGetterSetter(g,"text",o),e.Factory.addGetterSetter(g,"textDecoration",null),e.Factory.addGetterSetter(g,"kerningFunc",null),Dr}var Gr={},Ro;function Wd(){if(Ro)return Gr;Ro=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Transformer=void 0;const t=Tt(),e=ht(),r=Et(),i=Ot(),s=Yc(),a=ea(),n=ft(),o=dt(),c=ft();var u="tr-konva",v=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(C=>C+`.${u}`).join(" "),g="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],_={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const p="ontouchstart"in n.Konva._global;function y(C,E,P){if(C==="rotater")return P;E+=t.Util.degToRad(_[C]||0);var F=(t.Util.radToDeg(E)%360+360)%360;return t.Util._inRange(F,315+22.5,360)||t.Util._inRange(F,0,22.5)?"ns-resize":t.Util._inRange(F,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(F,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(F,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(F,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(F,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(F,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(F,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+F),"pointer")}var S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],x=1e8;function h(C){return{x:C.x+C.width/2*Math.cos(C.rotation)+C.height/2*Math.sin(-C.rotation),y:C.y+C.height/2*Math.cos(C.rotation)+C.width/2*Math.sin(C.rotation)}}function l(C,E,P){const F=P.x+(C.x-P.x)*Math.cos(E)-(C.y-P.y)*Math.sin(E),O=P.y+(C.x-P.x)*Math.sin(E)+(C.y-P.y)*Math.cos(E);return{...C,rotation:C.rotation+E,x:F,y:O}}function f(C,E){const P=h(C);return l(C,E,P)}function b(C,E,P){let F=E;for(let O=0;O<C.length;O++){const d=n.Konva.getAngle(C[O]),w=Math.abs(d-E)%(Math.PI*2);Math.min(w,Math.PI*2-w)<P&&(F=d)}return F}let A=class extends a.Group{constructor(E){super(E),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(v,this.update),this.getNode()&&this.update()}attachTo(E){return this.setNode(E),this}setNode(E){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([E])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(E=[]){this._nodes&&this._nodes.length&&this.detach();const P=E.filter(O=>O.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=E=P,E.length===1&&this.useSingleNodeRotation()?this.rotation(E[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(O=>{const d=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},w=O._attrsAffectingSize.map(T=>T+"Change."+this._getEventNamespace()).join(" ");O.on(w,d),O.on(m.map(T=>T+`.${this._getEventNamespace()}`).join(" "),d),O.on(`absoluteTransformChange.${this._getEventNamespace()}`,d),this._proxyDrag(O)}),this._resetTransformCache();var F=!!this.findOne(".top-left");return F&&this.update(),this}_proxyDrag(E){let P;E.on(`dragstart.${this._getEventNamespace()}`,F=>{P=E.getAbsolutePosition(),!this.isDragging()&&E!==this.findOne(".back")&&this.startDrag(F,!1)}),E.on(`dragmove.${this._getEventNamespace()}`,F=>{if(!P)return;const O=E.getAbsolutePosition(),d=O.x-P.x,w=O.y-P.y;this.nodes().forEach(T=>{if(T===E||T.isDragging())return;const R=T.getAbsolutePosition();T.setAbsolutePosition({x:R.x+d,y:R.y+w}),T.startDrag(F)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(E=>{E.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(g),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(g,this.__getNodeRect)}__getNodeShape(E,P=this.rotation(),F){var O=E.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=E.getAbsoluteScale(F),w=E.getAbsolutePosition(F),T=O.x*d.x-E.offsetX()*d.x,R=O.y*d.y-E.offsetY()*d.y;const k=(n.Konva.getAngle(E.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:w.x+T*Math.cos(k)+R*Math.sin(-k),y:w.y+R*Math.cos(k)+T*Math.sin(k),width:O.width*d.x,height:O.height*d.y,rotation:k};return l(L,-n.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){var E=this.getNode();if(!E)return{x:-x,y:-x,width:0,height:0,rotation:0};const P=[];this.nodes().map(k=>{const L=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var G=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],U=k.getAbsoluteTransform();G.forEach(function($){var V=U.point($);P.push(V)})});const F=new t.Transform;F.rotate(-n.Konva.getAngle(this.rotation()));var O=1/0,d=1/0,w=-1/0,T=-1/0;P.forEach(function(k){var L=F.point(k);O===void 0&&(O=w=L.x,d=T=L.y),O=Math.min(O,L.x),d=Math.min(d,L.y),w=Math.max(w,L.x),T=Math.max(T,L.y)}),F.invert();const R=F.point({x:O,y:d});return{x:R.x,y:R.y,width:w-O,height:T-d,rotation:n.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(E=>{this._createAnchor(E)}),this._createAnchor("rotater")}_createAnchor(E){var P=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:E+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:p?10:"auto"}),F=this;P.on("mousedown touchstart",function(O){F._handleMouseDown(O)}),P.on("dragstart",O=>{P.stopDrag(),O.cancelBubble=!0}),P.on("dragend",O=>{O.cancelBubble=!0}),P.on("mouseenter",()=>{var O=n.Konva.getAngle(this.rotation()),d=this.rotateAnchorCursor(),w=y(E,O,d);P.getStage().content&&(P.getStage().content.style.cursor=w),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){var E=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,F){var O=F.getParent(),d=O.padding();P.beginPath(),P.rect(-d,-d,F.width()+d*2,F.height()+d*2),P.moveTo(F.width()/2,-d),O.rotateEnabled()&&P.lineTo(F.width()/2,-O.rotateAnchorOffset()*t.Util._sign(F.height())-d),P.fillStrokeShape(F)},hitFunc:(P,F)=>{if(this.shouldOverdrawWholeArea()){var O=this.padding();P.beginPath(),P.rect(-O,-O,F.width()+O*2,F.height()+O*2),P.fillStrokeShape(F)}}});this.add(E),this._proxyDrag(E),E.on("dragstart",P=>{P.cancelBubble=!0}),E.on("dragmove",P=>{P.cancelBubble=!0}),E.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(E){this._movingAnchorName=E.target.name().split(" ")[0];var P=this._getNodeRect(),F=P.width,O=P.height,d=Math.sqrt(Math.pow(F,2)+Math.pow(O,2));this.sin=Math.abs(O/d),this.cos=Math.abs(F/d),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var w=E.target.getAbsolutePosition(),T=E.target.getStage().getPointerPosition();this._anchorDragOffset={x:T.x-w.x,y:T.y-w.y},this._fire("transformstart",{evt:E.evt,target:this.getNode()}),this._nodes.forEach(R=>{R._fire("transformstart",{evt:E.evt,target:R})})}_handleMouseMove(E){var P,F,O,d=this.findOne("."+this._movingAnchorName),w=d.getStage();w.setPointersPositions(E);const T=w.getPointerPosition();let R={x:T.x-this._anchorDragOffset.x,y:T.y-this._anchorDragOffset.y};const k=d.getAbsolutePosition();this.anchorDragBoundFunc()&&(R=this.anchorDragBoundFunc()(k,R,E)),d.setAbsolutePosition(R);const L=d.getAbsolutePosition();if(!(k.x===L.x&&k.y===L.y)){if(this._movingAnchorName==="rotater"){var G=this._getNodeRect();P=d.x()-G.width/2,F=-d.y()+G.height/2;let X=Math.atan2(-F,P)+Math.PI/2;G.height<0&&(X-=Math.PI);var U=n.Konva.getAngle(this.rotation());const Z=U+X,Y=n.Konva.getAngle(this.rotationSnapTolerance()),K=b(this.rotationSnaps(),Z,Y)-G.rotation,nt=f(G,K);this._fitNodesInto(nt,E);return}var $=this.shiftBehavior(),V;$==="inverted"?V=this.keepRatio()&&!E.shiftKey:$==="none"?V=this.keepRatio():V=this.keepRatio()||E.shiftKey;var I=this.centeredScaling()||E.altKey;if(this._movingAnchorName==="top-left"){if(V){var q=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};O=Math.sqrt(Math.pow(q.x-d.x(),2)+Math.pow(q.y-d.y(),2));var Q=this.findOne(".top-left").x()>q.x?-1:1,tt=this.findOne(".top-left").y()>q.y?-1:1;P=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".top-left").x(q.x-P),this.findOne(".top-left").y(q.y-F)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(d.y());else if(this._movingAnchorName==="top-right"){if(V){var q=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};O=Math.sqrt(Math.pow(d.x()-q.x,2)+Math.pow(q.y-d.y(),2));var Q=this.findOne(".top-right").x()<q.x?-1:1,tt=this.findOne(".top-right").y()>q.y?-1:1;P=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".top-right").x(q.x+P),this.findOne(".top-right").y(q.y-F)}var rt=d.position();this.findOne(".top-left").y(rt.y),this.findOne(".bottom-right").x(rt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(d.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(d.x());else if(this._movingAnchorName==="bottom-left"){if(V){var q=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};O=Math.sqrt(Math.pow(q.x-d.x(),2)+Math.pow(d.y()-q.y,2));var Q=q.x<d.x()?-1:1,tt=d.y()<q.y?-1:1;P=O*this.cos*Q,F=O*this.sin*tt,d.x(q.x-P),d.y(q.y+F)}rt=d.position(),this.findOne(".top-left").x(rt.x),this.findOne(".bottom-right").y(rt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(d.y());else if(this._movingAnchorName==="bottom-right"){if(V){var q=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};O=Math.sqrt(Math.pow(d.x()-q.x,2)+Math.pow(d.y()-q.y,2));var Q=this.findOne(".bottom-right").x()<q.x?-1:1,tt=this.findOne(".bottom-right").y()<q.y?-1:1;P=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".bottom-right").x(q.x+P),this.findOne(".bottom-right").y(q.y+F)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var I=this.centeredScaling()||E.altKey;if(I){var B=this.findOne(".top-left"),z=this.findOne(".bottom-right"),lt=B.x(),ot=B.y(),N=this.getWidth()-z.x(),D=this.getHeight()-z.y();z.move({x:-lt,y:-ot}),B.move({x:N,y:D})}var H=this.findOne(".top-left").getAbsolutePosition();P=H.x,F=H.y;var j=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),W=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:F,width:j,height:W,rotation:n.Konva.getAngle(this.rotation())},E)}}_handleMouseUp(E){this._removeEvents(E)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(E){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var P=this.getNode();this._fire("transformend",{evt:E,target:P}),P&&this._nodes.forEach(F=>{F._fire("transformend",{evt:E,target:F})}),this._movingAnchorName=null}}_fitNodesInto(E,P){var F=this._getNodeRect();const O=1;if(t.Util._inRange(E.width,-this.padding()*2-O,O)){this.update();return}if(t.Util._inRange(E.height,-this.padding()*2-O,O)){this.update();return}var d=new t.Transform;if(d.rotate(n.Konva.getAngle(this.rotation())),this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=d.point({x:-this.padding()*2,y:0});E.x+=U.x,E.y+=U.y,E.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y}else if(this._movingAnchorName&&E.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=d.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,E.width+=this.padding()*2}if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=d.point({x:0,y:-this.padding()*2});E.x+=U.x,E.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,E.height+=this.padding()*2}else if(this._movingAnchorName&&E.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=d.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,E.height+=this.padding()*2}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(F,E);U?E=U:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const w=1e7,T=new t.Transform;T.translate(F.x,F.y),T.rotate(F.rotation),T.scale(F.width/w,F.height/w);const R=new t.Transform,k=E.width/w,L=E.height/w;this.flipEnabled()===!1?(R.translate(E.x,E.y),R.rotate(E.rotation),R.translate(E.width<0?E.width:0,E.height<0?E.height:0),R.scale(Math.abs(k),Math.abs(L))):(R.translate(E.x,E.y),R.rotate(E.rotation),R.scale(k,L));const G=R.multiply(T.invert());this._nodes.forEach(U=>{var $;const V=U.getParent().getAbsoluteTransform(),q=U.getTransform().copy();q.translate(U.offsetX(),U.offsetY());const Q=new t.Transform;Q.multiply(V.copy().invert()).multiply(G).multiply(V).multiply(q);const tt=Q.decompose();U.setAttrs(tt),this._fire("transform",{evt:P,target:U}),U._fire("transform",{evt:P,target:U}),($=U.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(t.Util._getRotation(E.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(E,P){this.findOne(E).setAttrs(P)}update(){var E,P=this._getNodeRect();this.rotation(t.Util._getRotation(P.rotation));var F=P.width,O=P.height,d=this.enabledAnchors(),w=this.resizeEnabled(),T=this.padding(),R=this.anchorSize();const k=this.find("._anchor");k.forEach(G=>{G.setAttrs({width:R,height:R,offsetX:R/2,offsetY:R/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:R/2+T,offsetY:R/2+T,visible:w&&d.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:F/2,y:0,offsetY:R/2+T,visible:w&&d.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:F,y:0,offsetX:R/2-T,offsetY:R/2+T,visible:w&&d.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:O/2,offsetX:R/2+T,visible:w&&d.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:F,y:O/2,offsetX:R/2-T,visible:w&&d.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:O,offsetX:R/2+T,offsetY:R/2-T,visible:w&&d.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:F/2,y:O,offsetY:R/2-T,visible:w&&d.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:F,y:O,offsetX:R/2-T,offsetY:R/2-T,visible:w&&d.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:F/2,y:-this.rotateAnchorOffset()*t.Util._sign(O)-T,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:F,height:O,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const L=this.anchorStyleFunc();L&&k.forEach(G=>{L(G)}),(E=this.getLayer())===null||E===void 0||E.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var E=this.findOne("."+this._movingAnchorName);E&&E.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),a.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(E){var P=r.Node.prototype.clone.call(this,E);return P}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Gr.Transformer=A;function M(C){return C instanceof Array||t.Util.warn("enabledAnchors value should be an array"),C instanceof Array&&C.forEach(function(E){S.indexOf(E)===-1&&t.Util.warn("Unknown anchor name: "+E+". Available names are: "+S.join(", "))}),C||[]}return A.prototype.className="Transformer",(0,c._registerNode)(A),e.Factory.addGetterSetter(A,"enabledAnchors",S,M),e.Factory.addGetterSetter(A,"flipEnabled",!0,(0,o.getBooleanValidator)()),e.Factory.addGetterSetter(A,"resizeEnabled",!0),e.Factory.addGetterSetter(A,"anchorSize",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateEnabled",!0),e.Factory.addGetterSetter(A,"rotationSnaps",[]),e.Factory.addGetterSetter(A,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(A,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderEnabled",!0),e.Factory.addGetterSetter(A,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"anchorFill","white"),e.Factory.addGetterSetter(A,"anchorCornerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"borderStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderDash"),e.Factory.addGetterSetter(A,"keepRatio",!0),e.Factory.addGetterSetter(A,"shiftBehavior","default"),e.Factory.addGetterSetter(A,"centeredScaling",!1),e.Factory.addGetterSetter(A,"ignoreStroke",!1),e.Factory.addGetterSetter(A,"padding",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"node"),e.Factory.addGetterSetter(A,"nodes"),e.Factory.addGetterSetter(A,"boundBoxFunc"),e.Factory.addGetterSetter(A,"anchorDragBoundFunc"),e.Factory.addGetterSetter(A,"anchorStyleFunc"),e.Factory.addGetterSetter(A,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(A,"useSingleNodeRotation",!0),e.Factory.backCompat(A,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Gr}var Ur={},Fo;function zd(){if(Fo)return Ur;Fo=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Wedge=void 0;const t=ht(),e=Ot(),r=ft(),i=dt(),s=ft();let a=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Ur.Wedge=a,a.prototype.className="Wedge",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),t.Factory.addGetterSetter(a,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(a,"clockwise",!1),t.Factory.backCompat(a,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Ur}var Br={},Mo;function $d(){if(Mo)return Br;Mo=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Blur=void 0;const t=ht(),e=Et(),r=dt();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(c,u){var v=c.data,g=c.width,m=c.height,_,p,y,S,x,h,l,f,b,A,M,C,E,P,F,O,d,w,T,R,k,L,G,U,$=u+u+1,V=g-1,q=m-1,Q=u+1,tt=Q*(Q+1)/2,rt=new i,I=null,B=rt,z=null,lt=null,ot=s[u],N=a[u];for(y=1;y<$;y++)B=B.next=new i,y===Q&&(I=B);for(B.next=rt,l=h=0,p=0;p<m;p++){for(O=d=w=T=f=b=A=M=0,C=Q*(R=v[h]),E=Q*(k=v[h+1]),P=Q*(L=v[h+2]),F=Q*(G=v[h+3]),f+=tt*R,b+=tt*k,A+=tt*L,M+=tt*G,B=rt,y=0;y<Q;y++)B.r=R,B.g=k,B.b=L,B.a=G,B=B.next;for(y=1;y<Q;y++)S=h+((V<y?V:y)<<2),f+=(B.r=R=v[S])*(U=Q-y),b+=(B.g=k=v[S+1])*U,A+=(B.b=L=v[S+2])*U,M+=(B.a=G=v[S+3])*U,O+=R,d+=k,w+=L,T+=G,B=B.next;for(z=rt,lt=I,_=0;_<g;_++)v[h+3]=G=M*ot>>N,G!==0?(G=255/G,v[h]=(f*ot>>N)*G,v[h+1]=(b*ot>>N)*G,v[h+2]=(A*ot>>N)*G):v[h]=v[h+1]=v[h+2]=0,f-=C,b-=E,A-=P,M-=F,C-=z.r,E-=z.g,P-=z.b,F-=z.a,S=l+((S=_+u+1)<V?S:V)<<2,O+=z.r=v[S],d+=z.g=v[S+1],w+=z.b=v[S+2],T+=z.a=v[S+3],f+=O,b+=d,A+=w,M+=T,z=z.next,C+=R=lt.r,E+=k=lt.g,P+=L=lt.b,F+=G=lt.a,O-=R,d-=k,w-=L,T-=G,lt=lt.next,h+=4;l+=g}for(_=0;_<g;_++){for(d=w=T=O=b=A=M=f=0,h=_<<2,C=Q*(R=v[h]),E=Q*(k=v[h+1]),P=Q*(L=v[h+2]),F=Q*(G=v[h+3]),f+=tt*R,b+=tt*k,A+=tt*L,M+=tt*G,B=rt,y=0;y<Q;y++)B.r=R,B.g=k,B.b=L,B.a=G,B=B.next;for(x=g,y=1;y<=u;y++)h=x+_<<2,f+=(B.r=R=v[h])*(U=Q-y),b+=(B.g=k=v[h+1])*U,A+=(B.b=L=v[h+2])*U,M+=(B.a=G=v[h+3])*U,O+=R,d+=k,w+=L,T+=G,B=B.next,y<q&&(x+=g);for(h=_,z=rt,lt=I,p=0;p<m;p++)S=h<<2,v[S+3]=G=M*ot>>N,G>0?(G=255/G,v[S]=(f*ot>>N)*G,v[S+1]=(b*ot>>N)*G,v[S+2]=(A*ot>>N)*G):v[S]=v[S+1]=v[S+2]=0,f-=C,b-=E,A-=P,M-=F,C-=z.r,E-=z.g,P-=z.b,F-=z.a,S=_+((S=p+Q)<q?S:q)*g<<2,f+=O+=z.r=v[S],b+=d+=z.g=v[S+1],A+=w+=z.b=v[S+2],M+=T+=z.a=v[S+3],z=z.next,C+=R=lt.r,E+=k=lt.g,P+=L=lt.b,F+=G=lt.a,O-=R,d-=k,w-=L,T-=G,lt=lt.next,h+=g}}const o=function(u){var v=Math.round(this.blurRadius());v>0&&n(u,v)};return Br.Blur=o,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Br}var Vr={},Oo;function Yd(){if(Oo)return Vr;Oo=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Brighten=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=this.brightness()*255,n=s.data,o=n.length,c;for(c=0;c<o;c+=4)n[c]+=a,n[c+1]+=a,n[c+2]+=a};return Vr.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Vr}var Hr={},ko;function Xd(){if(ko)return Hr;ko=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Contrast=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=Math.pow((this.contrast()+100)/100,2),n=s.data,o=n.length,c=150,u=150,v=150,g;for(g=0;g<o;g+=4)c=n[g],u=n[g+1],v=n[g+2],c/=255,c-=.5,c*=a,c+=.5,c*=255,u/=255,u-=.5,u*=a,u+=.5,u*=255,v/=255,v-=.5,v*=a,v+=.5,v*=255,c=c<0?0:c>255?255:c,u=u<0?0:u>255?255:u,v=v<0?0:v>255?255:v,n[g]=c,n[g+1]=u,n[g+2]=v};return Hr.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Hr}var jr={},No;function Jd(){if(No)return jr;No=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Emboss=void 0;const t=ht(),e=Et(),r=Tt(),i=dt(),s=function(a){var n=this.embossStrength()*10,o=this.embossWhiteLevel()*255,c=this.embossDirection(),u=this.embossBlend(),v=0,g=0,m=a.data,_=a.width,p=a.height,y=_*4,S=p;switch(c){case"top-left":v=-1,g=-1;break;case"top":v=-1,g=0;break;case"top-right":v=-1,g=1;break;case"right":v=0,g=1;break;case"bottom-right":v=1,g=1;break;case"bottom":v=1,g=0;break;case"bottom-left":v=1,g=-1;break;case"left":v=0,g=-1;break;default:r.Util.error("Unknown emboss direction: "+c)}do{var x=(S-1)*y,h=v;S+h<1&&(h=0),S+h>p&&(h=0);var l=(S-1+h)*_*4,f=_;do{var b=x+(f-1)*4,A=g;f+A<1&&(A=0),f+A>_&&(A=0);var M=l+(f-1+A)*4,C=m[b]-m[M],E=m[b+1]-m[M+1],P=m[b+2]-m[M+2],F=C,O=F>0?F:-F,d=E>0?E:-E,w=P>0?P:-P;if(d>O&&(F=E),w>O&&(F=P),F*=n,u){var T=m[b]+F,R=m[b+1]+F,k=m[b+2]+F;m[b]=T>255?255:T<0?0:T,m[b+1]=R>255?255:R<0?0:R,m[b+2]=k>255?255:k<0?0:k}else{var L=o-F;L<0?L=0:L>255&&(L=255),m[b]=m[b+1]=m[b+2]=L}}while(--f)}while(--S)};return jr.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),jr}var Kr={},Lo;function Qd(){if(Lo)return Kr;Lo=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Enhance=void 0;const t=ht(),e=Et(),r=dt();function i(a,n,o,c,u){var v=o-n,g=u-c,m;return v===0?c+g/2:g===0?c:(m=(a-n)/v,m=g*m+c,m)}const s=function(a){var n=a.data,o=n.length,c=n[0],u=c,v,g=n[1],m=g,_,p=n[2],y=p,S,x,h=this.enhance();if(h!==0){for(x=0;x<o;x+=4)v=n[x+0],v<c?c=v:v>u&&(u=v),_=n[x+1],_<g?g=_:_>m&&(m=_),S=n[x+2],S<p?p=S:S>y&&(y=S);u===c&&(u=255,c=0),m===g&&(m=255,g=0),y===p&&(y=255,p=0);var l,f,b,A,M,C,E,P,F;for(h>0?(f=u+h*(255-u),b=c-h*(c-0),M=m+h*(255-m),C=g-h*(g-0),P=y+h*(255-y),F=p-h*(p-0)):(l=(u+c)*.5,f=u+h*(u-l),b=c+h*(c-l),A=(m+g)*.5,M=m+h*(m-A),C=g+h*(g-A),E=(y+p)*.5,P=y+h*(y-E),F=p+h*(p-E)),x=0;x<o;x+=4)n[x+0]=i(n[x+0],c,u,b,f),n[x+1]=i(n[x+1],g,m,C,M),n[x+2]=i(n[x+2],p,y,F,P)}};return Kr.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Kr}var qr={},Io;function Zd(){if(Io)return qr;Io=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Grayscale=void 0;const t=function(e){var r=e.data,i=r.length,s,a;for(s=0;s<i;s+=4)a=.34*r[s]+.5*r[s+1]+.16*r[s+2],r[s]=a,r[s+1]=a,r[s+2]=a};return qr.Grayscale=t,qr}var Wr={},Do;function t0(){if(Do)return Wr;Do=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.HSL=void 0;const t=ht(),e=Et(),r=dt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(s){var a=s.data,n=a.length,o=1,c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,v=this.luminance()*127,g,m=o*c*Math.cos(u*Math.PI/180),_=o*c*Math.sin(u*Math.PI/180),p=.299*o+.701*m+.167*_,y=.587*o-.587*m+.33*_,S=.114*o-.114*m-.497*_,x=.299*o-.299*m-.328*_,h=.587*o+.413*m+.035*_,l=.114*o-.114*m+.293*_,f=.299*o-.3*m+1.25*_,b=.587*o-.586*m-1.05*_,A=.114*o+.886*m-.2*_,M,C,E,P;for(g=0;g<n;g+=4)M=a[g+0],C=a[g+1],E=a[g+2],P=a[g+3],a[g+0]=p*M+y*C+S*E+v,a[g+1]=x*M+h*C+l*E+v,a[g+2]=f*M+b*C+A*E+v,a[g+3]=P};return Wr.HSL=i,Wr}var zr={},Go;function e0(){if(Go)return zr;Go=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.HSV=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=s.data,n=a.length,o=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,v,g=o*c*Math.cos(u*Math.PI/180),m=o*c*Math.sin(u*Math.PI/180),_=.299*o+.701*g+.167*m,p=.587*o-.587*g+.33*m,y=.114*o-.114*g-.497*m,S=.299*o-.299*g-.328*m,x=.587*o+.413*g+.035*m,h=.114*o-.114*g+.293*m,l=.299*o-.3*g+1.25*m,f=.587*o-.586*g-1.05*m,b=.114*o+.886*g-.2*m,A,M,C,E;for(v=0;v<n;v+=4)A=a[v+0],M=a[v+1],C=a[v+2],E=a[v+3],a[v+0]=_*A+p*M+y*C,a[v+1]=S*A+x*M+h*C,a[v+2]=l*A+f*M+b*C,a[v+3]=E};return zr.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),zr}var $r={},Uo;function r0(){if(Uo)return $r;Uo=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Invert=void 0;const t=function(e){var r=e.data,i=r.length,s;for(s=0;s<i;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]};return $r.Invert=t,$r}var Yr={},Bo;function n0(){if(Bo)return Yr;Bo=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Kaleidoscope=void 0;const t=ht(),e=Et(),r=Tt(),i=dt();var s=function(o,c,u){var v=o.data,g=c.data,m=o.width,_=o.height,p=u.polarCenterX||m/2,y=u.polarCenterY||_/2,S,x,h,l=0,f=0,b=0,A=0,M,C=Math.sqrt(p*p+y*y);x=m-p,h=_-y,M=Math.sqrt(x*x+h*h),C=M>C?M:C;var E=_,P=m,F,O,d=360/P*Math.PI/180,w,T;for(O=0;O<P;O+=1)for(w=Math.sin(O*d),T=Math.cos(O*d),F=0;F<E;F+=1)x=Math.floor(p+C*F/E*T),h=Math.floor(y+C*F/E*w),S=(h*m+x)*4,l=v[S+0],f=v[S+1],b=v[S+2],A=v[S+3],S=(O+F*m)*4,g[S+0]=l,g[S+1]=f,g[S+2]=b,g[S+3]=A},a=function(o,c,u){var v=o.data,g=c.data,m=o.width,_=o.height,p=u.polarCenterX||m/2,y=u.polarCenterY||_/2,S,x,h,l,f,b=0,A=0,M=0,C=0,E,P=Math.sqrt(p*p+y*y);x=m-p,h=_-y,E=Math.sqrt(x*x+h*h),P=E>P?E:P;var F=_,O=m,d,w,T=u.polarRotation||0,R,k;for(x=0;x<m;x+=1)for(h=0;h<_;h+=1)l=x-p,f=h-y,d=Math.sqrt(l*l+f*f)*F/P,w=(Math.atan2(f,l)*180/Math.PI+360+T)%360,w=w*O/360,R=Math.floor(w),k=Math.floor(d),S=(k*m+R)*4,b=v[S+0],A=v[S+1],M=v[S+2],C=v[S+3],S=(h*m+x)*4,g[S+0]=b,g[S+1]=A,g[S+2]=M,g[S+3]=C};const n=function(o){var c=o.width,u=o.height,v,g,m,_,p,y,S,x,h,l,f=Math.round(this.kaleidoscopePower()),b=Math.round(this.kaleidoscopeAngle()),A=Math.floor(c*(b%360)/360);if(!(f<1)){var M=r.Util.createCanvasElement();M.width=c,M.height=u;var C=M.getContext("2d").getImageData(0,0,c,u);r.Util.releaseCanvas(M),s(o,C,{polarCenterX:c/2,polarCenterY:u/2});for(var E=c/Math.pow(2,f);E<=8;)E=E*2,f-=1;E=Math.ceil(E);var P=E,F=0,O=P,d=1;for(A+E>c&&(F=P,O=0,d=-1),g=0;g<u;g+=1)for(v=F;v!==O;v+=d)m=Math.round(v+A)%c,h=(c*g+m)*4,p=C.data[h+0],y=C.data[h+1],S=C.data[h+2],x=C.data[h+3],l=(c*g+v)*4,C.data[l+0]=p,C.data[l+1]=y,C.data[l+2]=S,C.data[l+3]=x;for(g=0;g<u;g+=1)for(P=Math.floor(E),_=0;_<f;_+=1){for(v=0;v<P+1;v+=1)h=(c*g+v)*4,p=C.data[h+0],y=C.data[h+1],S=C.data[h+2],x=C.data[h+3],l=(c*g+P*2-v-1)*4,C.data[l+0]=p,C.data[l+1]=y,C.data[l+2]=S,C.data[l+3]=x;P*=2}a(C,o,{polarRotation:0})}};return Yr.Kaleidoscope=n,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Yr}var Xr={},Vo;function i0(){if(Vo)return Xr;Vo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Mask=void 0;const t=ht(),e=Et(),r=dt();function i(m,_,p){var y=(p*m.width+_)*4,S=[];return S.push(m.data[y++],m.data[y++],m.data[y++],m.data[y++]),S}function s(m,_){return Math.sqrt(Math.pow(m[0]-_[0],2)+Math.pow(m[1]-_[1],2)+Math.pow(m[2]-_[2],2))}function a(m){for(var _=[0,0,0],p=0;p<m.length;p++)_[0]+=m[p][0],_[1]+=m[p][1],_[2]+=m[p][2];return _[0]/=m.length,_[1]/=m.length,_[2]/=m.length,_}function n(m,_){var p=i(m,0,0),y=i(m,m.width-1,0),S=i(m,0,m.height-1),x=i(m,m.width-1,m.height-1),h=_||10;if(s(p,y)<h&&s(y,x)<h&&s(x,S)<h&&s(S,p)<h){for(var l=a([y,p,x,S]),f=[],b=0;b<m.width*m.height;b++){var A=s(l,[m.data[b*4],m.data[b*4+1],m.data[b*4+2]]);f[b]=A<h?0:255}return f}}function o(m,_){for(var p=0;p<m.width*m.height;p++)m.data[4*p+3]=_[p]}function c(m,_,p){for(var y=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),h=[],l=0;l<p;l++)for(var f=0;f<_;f++){for(var b=l*_+f,A=0,M=0;M<S;M++)for(var C=0;C<S;C++){var E=l+M-x,P=f+C-x;if(E>=0&&E<p&&P>=0&&P<_){var F=E*_+P,O=y[M*S+C];A+=m[F]*O}}h[b]=A===255*8?255:0}return h}function u(m,_,p){for(var y=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),h=[],l=0;l<p;l++)for(var f=0;f<_;f++){for(var b=l*_+f,A=0,M=0;M<S;M++)for(var C=0;C<S;C++){var E=l+M-x,P=f+C-x;if(E>=0&&E<p&&P>=0&&P<_){var F=E*_+P,O=y[M*S+C];A+=m[F]*O}}h[b]=A>=255*4?255:0}return h}function v(m,_,p){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(y.length)),x=Math.floor(S/2),h=[],l=0;l<p;l++)for(var f=0;f<_;f++){for(var b=l*_+f,A=0,M=0;M<S;M++)for(var C=0;C<S;C++){var E=l+M-x,P=f+C-x;if(E>=0&&E<p&&P>=0&&P<_){var F=E*_+P,O=y[M*S+C];A+=m[F]*O}}h[b]=A}return h}const g=function(m){var _=this.threshold(),p=n(m,_);return p&&(p=c(p,m.width,m.height),p=u(p,m.width,m.height),p=v(p,m.width,m.height),o(m,p)),m};return Xr.Mask=g,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Xr}var Jr={},Ho;function s0(){if(Ho)return Jr;Ho=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Noise=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=this.noise()*255,n=s.data,o=n.length,c=a/2,u;for(u=0;u<o;u+=4)n[u+0]+=c-2*c*Math.random(),n[u+1]+=c-2*c*Math.random(),n[u+2]+=c-2*c*Math.random()};return Jr.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Jr}var Qr={},jo;function a0(){if(jo)return Qr;jo=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Pixelate=void 0;const t=ht(),e=Tt(),r=Et(),i=dt(),s=function(a){var n=Math.ceil(this.pixelSize()),o=a.width,c=a.height,u,v,g,m,_,p,y,S=Math.ceil(o/n),x=Math.ceil(c/n),h,l,f,b,A,M,C,E=a.data;if(n<=0){e.Util.error("pixelSize value can not be <= 0");return}for(A=0;A<S;A+=1)for(M=0;M<x;M+=1){for(m=0,_=0,p=0,y=0,h=A*n,l=h+n,f=M*n,b=f+n,C=0,u=h;u<l;u+=1)if(!(u>=o))for(v=f;v<b;v+=1)v>=c||(g=(o*v+u)*4,m+=E[g+0],_+=E[g+1],p+=E[g+2],y+=E[g+3],C+=1);for(m=m/C,_=_/C,p=p/C,y=y/C,u=h;u<l;u+=1)if(!(u>=o))for(v=f;v<b;v+=1)v>=c||(g=(o*v+u)*4,E[g+0]=m,E[g+1]=_,E[g+2]=p,E[g+3]=y)}};return Qr.Pixelate=s,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Qr}var Zr={},Ko;function o0(){if(Ko)return Zr;Ko=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Posterize=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=Math.round(this.levels()*254)+1,n=s.data,o=n.length,c=255/a,u;for(u=0;u<o;u+=1)n[u]=Math.floor(n[u]/c)*c};return Zr.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Zr}var tn={},qo;function l0(){if(qo)return tn;qo=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.RGB=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=s.data,n=a.length,o=this.red(),c=this.green(),u=this.blue(),v,g;for(v=0;v<n;v+=4)g=(.34*a[v]+.5*a[v+1]+.16*a[v+2])/255,a[v]=g*o,a[v+1]=g*c,a[v+2]=g*u,a[v+3]=a[v+3]};return tn.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),tn}var en={},Wo;function c0(){if(Wo)return en;Wo=1,Object.defineProperty(en,"__esModule",{value:!0}),en.RGBA=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=s.data,n=a.length,o=this.red(),c=this.green(),u=this.blue(),v=this.alpha(),g,m;for(g=0;g<n;g+=4)m=1-v,a[g]=o*v+a[g]*m,a[g+1]=c*v+a[g+1]*m,a[g+2]=u*v+a[g+2]*m};return en.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),en}var rn={},zo;function u0(){if(zo)return rn;zo=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.Sepia=void 0;const t=function(e){var r=e.data,i=r.length,s,a,n,o;for(s=0;s<i;s+=4)a=r[s+0],n=r[s+1],o=r[s+2],r[s+0]=Math.min(255,a*.393+n*.769+o*.189),r[s+1]=Math.min(255,a*.349+n*.686+o*.168),r[s+2]=Math.min(255,a*.272+n*.534+o*.131)};return rn.Sepia=t,rn}var nn={},$o;function h0(){if($o)return nn;$o=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.Solarize=void 0;const t=function(e){var r=e.data,i=e.width,s=e.height,a=i*4,n=s;do{var o=(n-1)*a,c=i;do{var u=o+(c-1)*4,v=r[u],g=r[u+1],m=r[u+2];v>127&&(v=255-v),g>127&&(g=255-g),m>127&&(m=255-m),r[u]=v,r[u+1]=g,r[u+2]=m}while(--c)}while(--n)};return nn.Solarize=t,nn}var sn={},Yo;function f0(){if(Yo)return sn;Yo=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.Threshold=void 0;const t=ht(),e=Et(),r=dt(),i=function(s){var a=this.threshold()*255,n=s.data,o=n.length,c;for(c=0;c<o;c+=1)n[c]=n[c]<a?0:255};return sn.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),sn}var Xo;function d0(){if(Xo)return mr;Xo=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.Konva=void 0;const t=kd(),e=Nd(),r=Id(),i=Dd(),s=Gd(),a=Ud(),n=Bd(),o=zc(),c=na(),u=Yc(),v=Vd(),g=Hd(),m=jd(),_=Kd(),p=Xc(),y=qd(),S=Wd(),x=zd(),h=$d(),l=Yd(),f=Xd(),b=Jd(),A=Qd(),M=Zd(),C=t0(),E=e0(),P=r0(),F=n0(),O=i0(),d=s0(),w=a0(),T=o0(),R=l0(),k=c0(),L=u0(),G=h0(),U=f0();return mr.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:s.Ellipse,Image:a.Image,Label:n.Label,Tag:n.Tag,Line:o.Line,Path:c.Path,Rect:u.Rect,RegularPolygon:v.RegularPolygon,Ring:g.Ring,Sprite:m.Sprite,Star:_.Star,Text:p.Text,TextPath:y.TextPath,Transformer:S.Transformer,Wedge:x.Wedge,Filters:{Blur:h.Blur,Brighten:l.Brighten,Contrast:f.Contrast,Emboss:b.Emboss,Enhance:A.Enhance,Grayscale:M.Grayscale,HSL:C.HSL,HSV:E.HSV,Invert:P.Invert,Kaleidoscope:F.Kaleidoscope,Mask:O.Mask,Noise:d.Noise,Pixelate:w.Pixelate,Posterize:T.Posterize,RGB:R.RGB,RGBA:k.RGBA,Sepia:L.Sepia,Solarize:G.Solarize,Threshold:U.Threshold}}),mr}var g0=Qn.exports,Jo;function p0(){if(Jo)return Qn.exports;Jo=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=d0();return Qn.exports=t.Konva,Qn.exports}/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(i,s){t.exports=s(Rd,p0())})(ms,function(r,i){return function(s){var a={};function n(o){if(a[o])return a[o].exports;var c=a[o]={i:o,l:!1,exports:{}};return s[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=s,n.c=a,n.d=function(o,c,u){n.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:u})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,c){if(c&1&&(o=n(o)),c&8||c&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),c&2&&typeof o!="string")for(var v in o)n.d(u,v,(function(g){return o[g]}).bind(null,v));return u},n.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(c,"a",c),c},n.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},n.p="",n(n.s=2)}([function(s,a){s.exports=r},function(s,a){s.exports=i},function(s,a,n){s.exports=n(3)},function(s,a,n){n.r(a);var o=n(0),c=n(1),u=n.n(c);function v(d){if(!u.a.autoDrawEnabled){var w=d.getLayer()||d.getStage();w&&w.batchDraw()}}var g={key:!0,style:!0,elm:!0,isRootInsert:!0},m=".vue-konva-event";function _(d,w,T,R){w===void 0&&(w={}),T===void 0&&(T={});var k=d.__konvaNode,L={},G=!1;for(var U in T)if(!g[U]){var $=U.slice(0,2)==="on",V=T[U]!==w[U];if($&&V){var q=U.substr(2).toLowerCase();q.substr(0,7)==="content"&&(q="content"+q.substr(7,1).toUpperCase()+q.substr(8)),k.off(q+m,T[U])}var Q=!w.hasOwnProperty(U);Q&&k.setAttr(U,void 0)}for(var tt in w)if(!g[tt]){var rt=tt.slice(0,2)==="on",I=T[tt]!==w[tt];if(rt&&I){var B=tt.substr(2).toLowerCase();B.substr(0,7)==="content"&&(B="content"+B.substr(7,1).toUpperCase()+B.substr(8)),w[tt]&&(k.off(B+m),k.on(B+m,w[tt]))}!rt&&(w[tt]!==T[tt]||R&&w[tt]!==k.getAttr(tt))&&(G=!0,L[tt]=w[tt])}G&&(k.setAttrs(L),v(k))}var p="v";function y(d){function w(T){return T.__konvaNode?T:T.parent?w(T.parent):(console.error("vue-konva error: Can not find parent node"),{})}return w(d.parent)}function S(d){if(d!=null&&d.component)return d.component.__konvaNode||S(d.component.subTree)}function x(d){var w=d.el,T=d.component,R=S(d);if(w!=null&&w.tagName&&T&&!R){var k=w&&w.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+k+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return R}function h(d){var w=[];return d.children&&d.children.forEach(function(T){!T.component&&Array.isArray(T.children)&&T.children.forEach(function(R){!R.component&&Array.isArray(R.children)?w.push.apply(w,R.children):w.push(R)}),T.component&&w.push(T)}),w}function l(d,w){var T=h(d),R=[];T.forEach(function(L){var G=x(L);G&&R.push(G)});var k=!1;R.forEach(function(L,G){L.getZIndex()!==G&&(L.setZIndex(G),k=!0)}),k&&v(w)}function f(){return f=Object.assign||function(d){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(d[R]=T[R])}return d},f.apply(this,arguments)}var b={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(w,T){var R=T.attrs,k=T.slots,L=T.expose;T.emits;var G=Object(o.getCurrentInstance)(),U=Object(o.reactive)({}),$=Object(o.ref)(null),V=new window.Konva.Stage({width:w.config.width,height:w.config.height,container:document.createElement("div")});G.__konvaNode=V,tt();function q(){return G.__konvaNode}function Q(){return G.__konvaNode}function tt(){var rt=U||{},I=f({},R,w.config);_(G,I,rt,w.__useStrictMode),Object.assign(U,I)}return Object(o.onMounted)(function(){$.value.innerHTML="",V.container($.value),tt()}),Object(o.onUpdated)(function(){tt(),l(G.subTree,V)}),Object(o.onBeforeUnmount)(function(){V.destroy()}),Object(o.watch)(function(){return w.config},tt,{deep:!0}),L({getStage:Q,getNode:q}),function(){var rt;return Object(o.h)("div",{ref:$},(rt=k.default)===null||rt===void 0?void 0:rt.call(k))}}};function A(){return A=Object.assign||function(d){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(d[R]=T[R])}return d},A.apply(this,arguments)}var M=".vue-konva-event",C={Group:!0,Layer:!0,FastLayer:!0,Label:!0},E=function(d){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(T,R){var k=R.attrs,L=R.slots,G=R.expose,U=Object(o.getCurrentInstance)(),$=Object(o.reactive)({}),V=window.Konva[d];if(!V){console.error("vue-konva error: Can not find node "+d);return}var q=new V;U.__konvaNode=q,U.vnode.__konvaNode=q,rt();function Q(){return U.__konvaNode}function tt(){return U.__konvaNode}function rt(){var B={};for(var z in U.vnode.props)z.slice(0,2)==="on"&&(B[z]=U.vnode.props[z]);var lt=$||{},ot=A({},k,T.config,B);_(U,ot,lt,T.__useStrictMode),Object.assign($,ot)}Object(o.onMounted)(function(){var B=y(U).__konvaNode;B.add(q),v(q)}),Object(o.onUnmounted)(function(){v(q),q.destroy(),q.off(M)}),Object(o.onUpdated)(function(){rt(),l(U.subTree,q)}),Object(o.watch)(function(){return T.config},rt,{deep:!0}),G({getStage:tt,getNode:Q});var I=C[d];return I?function(){var B;return Object(o.h)("template",{},(B=L.default)===null||B===void 0?void 0:B.call(L))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&n(1);var P=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],F=[{name:"Stage",component:b}].concat(P.map(function(d){return{name:d,component:E(d)}})),O={install:function(w,T){var R=p;T&&T.prefix&&(R=T.prefix),F.forEach(function(k){w.component(""+R+k.name,k.component)})}};a.default=O}]).default})})(jc);var v0=jc.exports;const _0=Ed(v0);let Jc=Hc("rideServiceStore",{state(){return{speed:0}}}),m0=Hc("tourServiceStore",{state(){return{averageSpeed:0}}});const b0={__name:"Cobi",setup(t){let e=Jc(),r=m0();return COBI.init("token  can by anything right now"),COBI.rideService.speed.subscribe(function(i){e.speed=Number((i*3.6).toFixed(1))}),COBI.tourService.averageSpeed.subscribe(function(i){r.averageSpeed=Number((i*3.6).toFixed(1))}),()=>{}}},In=(t,e)=>{const r=t.__vccOpts||t;for(const[i,s]of e)r[i]=s;return r},y0={data(){return{configKonva:{width:200,height:200},configCircle:{x:100,y:100,radius:70,fill:"DD1155"}}}};function S0(t,e,r,i,s,a){const n=Pe("v-circle"),o=Pe("v-layer"),c=Pe("v-stage");return de(),Nn(c,{config:s.configKonva},{default:Sn(()=>[mt(o,null,{default:Sn(()=>[mt(n,{config:s.configCircle},null,8,["config"])]),_:1})]),_:1},8,["config"])}const C0=In(y0,[["render",S0]]),w0={id:"speed"},x0={__name:"Speed",setup(t){let e=Jc();return(r,i)=>(de(),Ei("div",w0,[Ln(el(_i(e).speed)+" ",1),mt(C0)]))}},P0=In(x0,[["__scopeId","data-v-86a6897a"]]),T0={components:{Speed:P0}},E0={id:"on-ride"};function A0(t,e,r,i,s,a){const n=Pe("speed");return de(),Ei("div",E0,[Ln(" ON "),mt(n)])}const R0=In(T0,[["render",A0],["__scopeId","data-v-9889ae12"]]),F0={components:{OnRide:R0}};function M0(t,e,r,i,s,a){const n=Pe("on-ride");return de(),Nn(n)}const O0=In(F0,[["render",M0]]),k0={components:{Views:O0,Cobi:b0}};function N0(t,e,r,i,s,a){const n=Pe("cobi"),o=Pe("views");return de(),Ei(Ft,null,[mt(n),mt(o)],64)}const L0=In(k0,[["render",N0]]),ia=Ic(L0);ia.use(_0);ia.use(Sd());ia.mount("#app")});export default I0();
