(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();function cn(t,e){const r=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)r[i[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const yt={},er=[],Zt=()=>{},Jh=()=>!1,Qh=/^on[^a-z]/,xi=t=>Qh.test(t),bs=t=>t.startsWith("onUpdate:"),wt=Object.assign,Ss=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Zh=Object.prototype.hasOwnProperty,_t=(t,e)=>Zh.call(t,e),nt=Array.isArray,rr=t=>dr(t)==="[object Map]",$e=t=>dr(t)==="[object Set]",sa=t=>dr(t)==="[object Date]",tc=t=>dr(t)==="[object RegExp]",ct=t=>typeof t=="function",xt=t=>typeof t=="string",or=t=>typeof t=="symbol",bt=t=>t!==null&&typeof t=="object",Cs=t=>(bt(t)||ct(t))&&ct(t.then)&&ct(t.catch),Jo=Object.prototype.toString,dr=t=>Jo.call(t),ec=t=>dr(t).slice(8,-1),Qo=t=>dr(t)==="[object Object]",ws=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,li=cn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),un=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},rc=/-(\w)/g,Bt=un(t=>t.replace(rc,(e,r)=>r?r.toUpperCase():"")),ic=/\B([A-Z])/g,Yt=un(t=>t.replace(ic,"-$1").toLowerCase()),Pi=un(t=>t.charAt(0).toUpperCase()+t.slice(1)),hi=un(t=>t?`on${Pi(t)}`:""),Ee=(t,e)=>!Object.is(t,e),ir=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Qi=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Zi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},tn=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let aa;const Jn=()=>aa||(aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),nc="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",sc=cn(nc);function Ti(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],s=xt(i)?hc(i):Ti(i);if(s)for(const n in s)e[n]=s[n]}return e}else if(xt(t)||bt(t))return t}const ac=/;(?![^(]*\))/g,oc=/:([^]+)/,lc=/\/\*[^]*?\*\//g;function hc(t){const e={};return t.replace(lc,"").split(ac).forEach(r=>{if(r){const i=r.split(oc);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ei(t){let e="";if(xt(t))e=t;else if(nt(t))for(let r=0;r<t.length;r++){const i=Ei(t[r]);i&&(e+=i+" ")}else if(bt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function cc(t){if(!t)return null;let{class:e,style:r}=t;return e&&!xt(e)&&(t.class=Ei(e)),r&&(t.style=Ti(r)),t}const uc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fc=cn(uc);function Zo(t){return!!t||t===""}function dc(t,e){if(t.length!==e.length)return!1;let r=!0;for(let i=0;r&&i<t.length;i++)r=Ae(t[i],e[i]);return r}function Ae(t,e){if(t===e)return!0;let r=sa(t),i=sa(e);if(r||i)return r&&i?t.getTime()===e.getTime():!1;if(r=or(t),i=or(e),r||i)return t===e;if(r=nt(t),i=nt(e),r||i)return r&&i?dc(t,e):!1;if(r=bt(t),i=bt(e),r||i){if(!r||!i)return!1;const s=Object.keys(t).length,n=Object.keys(e).length;if(s!==n)return!1;for(const a in t){const o=t.hasOwnProperty(a),h=e.hasOwnProperty(a);if(o&&!h||!o&&h||!Ae(t[a],e[a]))return!1}}return String(t)===String(e)}function fn(t,e){return t.findIndex(r=>Ae(r,e))}const tl=t=>xt(t)?t:t==null?"":nt(t)||bt(t)&&(t.toString===Jo||!ct(t.toString))?JSON.stringify(t,el,2):String(t),el=(t,e)=>e&&e.__v_isRef?el(t,e.value):rr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,s])=>(r[`${i} =>`]=s,r),{})}:$e(e)?{[`Set(${e.size})`]:[...e.values()]}:bt(e)&&!nt(e)&&!Qo(e)?String(e):e;let qt;class xs{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qt,!e&&qt&&(this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=qt;try{return qt=this,e()}finally{qt=r}}}on(){qt=this}off(){qt=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ps(t){return new xs(t)}function rl(t,e=qt){e&&e.active&&e.effects.push(t)}function Ts(){return qt}function il(t){qt&&qt.cleanups.push(t)}const Es=t=>{const e=new Set(t);return e.w=0,e.n=0,e},nl=t=>(t.w&Re)>0,sl=t=>(t.n&Re)>0,gc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Re},pc=t=>{const{deps:e}=t;if(e.length){let r=0;for(let i=0;i<e.length;i++){const s=e[i];nl(s)&&!sl(s)?s.delete(t):e[r++]=s,s.w&=~Re,s.n&=~Re}e.length=r}},en=new WeakMap;let si=0,Re=1;const Qn=30;let Jt;const Ve=Symbol(""),Zn=Symbol("");class lr{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,rl(this,i)}run(){if(!this.active)return this.fn();let e=Jt,r=Ce;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Jt,Jt=this,Ce=!0,Re=1<<++si,si<=Qn?gc(this):oa(this),this.fn()}finally{si<=Qn&&pc(this),Re=1<<--si,Jt=this.parent,Ce=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Jt===this?this.deferStop=!0:this.active&&(oa(this),this.onStop&&this.onStop(),this.active=!1)}}function oa(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function vc(t,e){t.effect instanceof lr&&(t=t.effect.fn);const r=new lr(t);e&&(wt(r,e),e.scope&&rl(r,e.scope)),(!e||!e.lazy)&&r.run();const i=r.run.bind(r);return i.effect=r,i}function _c(t){t.effect.stop()}let Ce=!0;const al=[];function gr(){al.push(Ce),Ce=!1}function pr(){const t=al.pop();Ce=t===void 0?!0:t}function Vt(t,e,r){if(Ce&&Jt){let i=en.get(t);i||en.set(t,i=new Map);let s=i.get(r);s||i.set(r,s=Es()),ol(s)}}function ol(t,e){let r=!1;si<=Qn?sl(t)||(t.n|=Re,r=!nl(t)):r=!t.has(Jt),r&&(t.add(Jt),Jt.deps.push(t))}function he(t,e,r,i,s,n){const a=en.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(r==="length"&&nt(t)){const h=Number(i);a.forEach((c,_)=>{(_==="length"||!or(_)&&_>=h)&&o.push(c)})}else switch(r!==void 0&&o.push(a.get(r)),e){case"add":nt(t)?ws(r)&&o.push(a.get("length")):(o.push(a.get(Ve)),rr(t)&&o.push(a.get(Zn)));break;case"delete":nt(t)||(o.push(a.get(Ve)),rr(t)&&o.push(a.get(Zn)));break;case"set":rr(t)&&o.push(a.get(Ve));break}if(o.length===1)o[0]&&ts(o[0]);else{const h=[];for(const c of o)c&&h.push(...c);ts(Es(h))}}function ts(t,e){const r=nt(t)?t:[...t];for(const i of r)i.computed&&la(i);for(const i of r)i.computed||la(i)}function la(t,e){(t!==Jt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function mc(t,e){var r;return(r=en.get(t))==null?void 0:r.get(e)}const yc=cn("__proto__,__v_isRef,__isVue"),ll=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(or)),ha=bc();function bc(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=pt(this);for(let n=0,a=this.length;n<a;n++)Vt(i,"get",n+"");const s=i[e](...r);return s===-1||s===!1?i[e](...r.map(pt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){gr();const i=pt(this)[e].apply(this,r);return pr(),i}}),t}function Sc(t){const e=pt(this);return Vt(e,"has",t),e.hasOwnProperty(t)}class hl{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,i){const s=this._isReadonly,n=this._shallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&i===(s?n?pl:gl:n?dl:fl).get(e))return e;const a=nt(e);if(!s){if(a&&_t(ha,r))return Reflect.get(ha,r,i);if(r==="hasOwnProperty")return Sc}const o=Reflect.get(e,r,i);return(or(r)?ll.has(r):yc(r))||(s||Vt(e,"get",r),n)?o:Pt(o)?a&&ws(r)?o:o.value:bt(o)?s?Rs(o):Ai(o):o}}class cl extends hl{constructor(e=!1){super(!1,e)}set(e,r,i,s){let n=e[r];if(Ke(n)&&Pt(n)&&!Pt(i))return!1;if(!this._shallow&&(!pi(i)&&!Ke(i)&&(n=pt(n),i=pt(i)),!nt(e)&&Pt(n)&&!Pt(i)))return n.value=i,!0;const a=nt(e)&&ws(r)?Number(r)<e.length:_t(e,r),o=Reflect.set(e,r,i,s);return e===pt(s)&&(a?Ee(i,n)&&he(e,"set",r,i):he(e,"add",r,i)),o}deleteProperty(e,r){const i=_t(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&i&&he(e,"delete",r,void 0),s}has(e,r){const i=Reflect.has(e,r);return(!or(r)||!ll.has(r))&&Vt(e,"has",r),i}ownKeys(e){return Vt(e,"iterate",nt(e)?"length":Ve),Reflect.ownKeys(e)}}class ul extends hl{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Cc=new cl,wc=new ul,xc=new cl(!0),Pc=new ul(!0),As=t=>t,dn=t=>Reflect.getPrototypeOf(t);function Ii(t,e,r=!1,i=!1){t=t.__v_raw;const s=pt(t),n=pt(e);r||(Ee(e,n)&&Vt(s,"get",e),Vt(s,"get",n));const{has:a}=dn(s),o=i?As:r?Ms:vi;if(a.call(s,e))return o(t.get(e));if(a.call(s,n))return o(t.get(n));t!==s&&t.get(e)}function Gi(t,e=!1){const r=this.__v_raw,i=pt(r),s=pt(t);return e||(Ee(t,s)&&Vt(i,"has",t),Vt(i,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function Ui(t,e=!1){return t=t.__v_raw,!e&&Vt(pt(t),"iterate",Ve),Reflect.get(t,"size",t)}function ca(t){t=pt(t);const e=pt(this);return dn(e).has.call(e,t)||(e.add(t),he(e,"add",t,t)),this}function ua(t,e){e=pt(e);const r=pt(this),{has:i,get:s}=dn(r);let n=i.call(r,t);n||(t=pt(t),n=i.call(r,t));const a=s.call(r,t);return r.set(t,e),n?Ee(e,a)&&he(r,"set",t,e):he(r,"add",t,e),this}function fa(t){const e=pt(this),{has:r,get:i}=dn(e);let s=r.call(e,t);s||(t=pt(t),s=r.call(e,t)),i&&i.call(e,t);const n=e.delete(t);return s&&he(e,"delete",t,void 0),n}function da(){const t=pt(this),e=t.size!==0,r=t.clear();return e&&he(t,"clear",void 0,void 0),r}function Bi(t,e){return function(i,s){const n=this,a=n.__v_raw,o=pt(a),h=e?As:t?Ms:vi;return!t&&Vt(o,"iterate",Ve),a.forEach((c,_)=>i.call(s,h(c),h(_),n))}}function Vi(t,e,r){return function(...i){const s=this.__v_raw,n=pt(s),a=rr(n),o=t==="entries"||t===Symbol.iterator&&a,h=t==="keys"&&a,c=s[t](...i),_=r?As:e?Ms:vi;return!e&&Vt(n,"iterate",h?Zn:Ve),{next(){const{value:p,done:m}=c.next();return m?{value:p,done:m}:{value:o?[_(p[0]),_(p[1])]:_(p),done:m}},[Symbol.iterator](){return this}}}}function pe(t){return function(...e){return t==="delete"?!1:this}}function Tc(){const t={get(n){return Ii(this,n)},get size(){return Ui(this)},has:Gi,add:ca,set:ua,delete:fa,clear:da,forEach:Bi(!1,!1)},e={get(n){return Ii(this,n,!1,!0)},get size(){return Ui(this)},has:Gi,add:ca,set:ua,delete:fa,clear:da,forEach:Bi(!1,!0)},r={get(n){return Ii(this,n,!0)},get size(){return Ui(this,!0)},has(n){return Gi.call(this,n,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Bi(!0,!1)},i={get(n){return Ii(this,n,!0,!0)},get size(){return Ui(this,!0)},has(n){return Gi.call(this,n,!0)},add:pe("add"),set:pe("set"),delete:pe("delete"),clear:pe("clear"),forEach:Bi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Vi(n,!1,!1),r[n]=Vi(n,!0,!1),e[n]=Vi(n,!1,!0),i[n]=Vi(n,!0,!0)}),[t,r,e,i]}const[Ec,Ac,Rc,Fc]=Tc();function gn(t,e){const r=e?t?Fc:Rc:t?Ac:Ec;return(i,s,n)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(_t(r,s)&&s in i?r:i,s,n)}const Mc={get:gn(!1,!1)},Oc={get:gn(!1,!0)},Nc={get:gn(!0,!1)},kc={get:gn(!0,!0)},fl=new WeakMap,dl=new WeakMap,gl=new WeakMap,pl=new WeakMap;function Lc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dc(t){return t.__v_skip||!Object.isExtensible(t)?0:Lc(ec(t))}function Ai(t){return Ke(t)?t:pn(t,!1,Cc,Mc,fl)}function vl(t){return pn(t,!1,xc,Oc,dl)}function Rs(t){return pn(t,!0,wc,Nc,gl)}function Ic(t){return pn(t,!0,Pc,kc,pl)}function pn(t,e,r,i,s){if(!bt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=s.get(t);if(n)return n;const a=Dc(t);if(a===0)return t;const o=new Proxy(t,a===2?i:r);return s.set(t,o),o}function ce(t){return Ke(t)?ce(t.__v_raw):!!(t&&t.__v_isReactive)}function Ke(t){return!!(t&&t.__v_isReadonly)}function pi(t){return!!(t&&t.__v_isShallow)}function Fs(t){return ce(t)||Ke(t)}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Ri(t){return Qi(t,"__v_skip",!0),t}const vi=t=>bt(t)?Ai(t):t,Ms=t=>bt(t)?Rs(t):t;function Os(t){Ce&&Jt&&(t=pt(t),ol(t.dep||(t.dep=Es())))}function vn(t,e){t=pt(t);const r=t.dep;r&&ts(r)}function Pt(t){return!!(t&&t.__v_isRef===!0)}function we(t){return _l(t,!1)}function Gc(t){return _l(t,!0)}function _l(t,e){return Pt(t)?t:new Uc(t,e)}class Uc{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:pt(e),this._value=r?e:vi(e)}get value(){return Os(this),this._value}set value(e){const r=this.__v_isShallow||pi(e)||Ke(e);e=r?e:pt(e),Ee(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:vi(e),vn(this))}}function Bc(t){vn(t)}function _n(t){return Pt(t)?t.value:t}function Vc(t){return ct(t)?t():_n(t)}const Hc={get:(t,e,r)=>_n(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const s=t[e];return Pt(s)&&!Pt(r)?(s.value=r,!0):Reflect.set(t,e,r,i)}};function Ns(t){return ce(t)?t:new Proxy(t,Hc)}class jc{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=e(()=>Os(this),()=>vn(this));this._get=r,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function Kc(t){return new jc(t)}function ml(t){const e=nt(t)?new Array(t.length):{};for(const r in t)e[r]=yl(t,r);return e}class qc{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mc(pt(this._object),this._key)}}class Wc{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function zc(t,e,r){return Pt(t)?t:ct(t)?new Wc(t):bt(t)&&arguments.length>1?yl(t,e,r):we(t)}function yl(t,e,r){const i=t[e];return Pt(i)?i:new qc(t,e,r)}class $c{constructor(e,r,i,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new lr(e,()=>{this._dirty||(this._dirty=!0,vn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=pt(this);return Os(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Yc(t,e,r=!1){let i,s;const n=ct(t);return n?(i=t,s=Zt):(i=t.get,s=t.set),new $c(i,s,n||!s,r)}function Xc(t,...e){}function Jc(t,e){}function ue(t,e,r,i){let s;try{s=i?t(...i):t()}catch(n){Ye(n,e,r)}return s}function zt(t,e,r,i){if(ct(t)){const n=ue(t,e,r,i);return n&&Cs(n)&&n.catch(a=>{Ye(a,e,r)}),n}const s=[];for(let n=0;n<t.length;n++)s.push(zt(t[n],e,r,i));return s}function Ye(t,e,r,i=!0){const s=e?e.vnode:null;if(e){let n=e.parent;const a=e.proxy,o=r;for(;n;){const c=n.ec;if(c){for(let _=0;_<c.length;_++)if(c[_](t,a,o)===!1)return}n=n.parent}const h=e.appContext.config.errorHandler;if(h){ue(h,null,10,[t,a,o]);return}}Qc(t,r,s,i)}function Qc(t,e,r,i=!0){console.error(t)}let _i=!1,es=!1;const kt=[];let re=0;const nr=[];let oe=null,Ge=0;const bl=Promise.resolve();let ks=null;function mn(t){const e=ks||bl;return t?e.then(this?t.bind(this):t):e}function Zc(t){let e=re+1,r=kt.length;for(;e<r;){const i=e+r>>>1,s=kt[i],n=mi(s);n<t||n===t&&s.pre?e=i+1:r=i}return e}function yn(t){(!kt.length||!kt.includes(t,_i&&t.allowRecurse?re+1:re))&&(t.id==null?kt.push(t):kt.splice(Zc(t.id),0,t),Sl())}function Sl(){!_i&&!es&&(es=!0,ks=bl.then(Cl))}function tu(t){const e=kt.indexOf(t);e>re&&kt.splice(e,1)}function rn(t){nt(t)?nr.push(...t):(!oe||!oe.includes(t,t.allowRecurse?Ge+1:Ge))&&nr.push(t),Sl()}function ga(t,e=_i?re+1:0){for(;e<kt.length;e++){const r=kt[e];r&&r.pre&&(kt.splice(e,1),e--,r())}}function nn(t){if(nr.length){const e=[...new Set(nr)];if(nr.length=0,oe){oe.push(...e);return}for(oe=e,oe.sort((r,i)=>mi(r)-mi(i)),Ge=0;Ge<oe.length;Ge++)oe[Ge]();oe=null,Ge=0}}const mi=t=>t.id==null?1/0:t.id,eu=(t,e)=>{const r=mi(t)-mi(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Cl(t){es=!1,_i=!0,kt.sort(eu);const e=Zt;try{for(re=0;re<kt.length;re++){const r=kt[re];r&&r.active!==!1&&ue(r,null,14)}}finally{re=0,kt.length=0,nn(),_i=!1,ks=null,(kt.length||nr.length)&&Cl()}}let Ze,Hi=[];function wl(t,e){var r,i;Ze=t,Ze?(Ze.enabled=!0,Hi.forEach(({event:s,args:n})=>Ze.emit(s,...n)),Hi=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{wl(n,e)}),setTimeout(()=>{Ze||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Hi=[])},3e3)):Hi=[]}function ru(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||yt;let s=r;const n=e.startsWith("update:"),a=n&&e.slice(7);if(a&&a in i){const _=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:m}=i[_]||yt;m&&(s=r.map(v=>xt(v)?v.trim():v)),p&&(s=r.map(Zi))}let o,h=i[o=hi(e)]||i[o=hi(Bt(e))];!h&&n&&(h=i[o=hi(Yt(e))]),h&&zt(h,t,6,s);const c=i[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,zt(c,t,6,s)}}function xl(t,e,r=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const n=t.emits;let a={},o=!1;if(!ct(t)){const h=c=>{const _=xl(c,e,!0);_&&(o=!0,wt(a,_))};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!n&&!o?(bt(t)&&i.set(t,null),null):(nt(n)?n.forEach(h=>a[h]=null):wt(a,n),bt(t)&&i.set(t,a),a)}function bn(t,e){return!t||!xi(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,Yt(e))||_t(t,e))}let Mt=null,Sn=null;function yi(t){const e=Mt;return Mt=t,Sn=t&&t.type.__scopeId||null,e}function iu(t){Sn=t}function nu(){Sn=null}const su=t=>bi;function bi(t,e=Mt,r){if(!e||t._n)return t;const i=(...s)=>{i._d&&ls(-1);const n=yi(e);let a;try{a=t(...s)}finally{yi(n),i._d&&ls(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Yi(t){const{type:e,vnode:r,proxy:i,withProxy:s,props:n,propsOptions:[a],slots:o,attrs:h,emit:c,render:_,renderCache:p,data:m,setupState:v,ctx:g,inheritAttrs:y}=t;let S,R;const f=yi(t);try{if(r.shapeFlag&4){const u=s||i;S=Wt(_.call(u,u,p,n,v,m,g)),R=h}else{const u=e;S=Wt(u.length>1?u(n,{attrs:h,slots:o,emit:c}):u(n,null)),R=e.props?h:ou(h)}}catch(u){fi.length=0,Ye(u,t,1),S=mt(Lt)}let l=S;if(R&&y!==!1){const u=Object.keys(R),{shapeFlag:b}=l;u.length&&b&7&&(a&&u.some(bs)&&(R=lu(R,a)),l=ie(l,R))}return r.dirs&&(l=ie(l),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&(l.transition=r.transition),S=l,yi(f),S}function au(t){let e;for(let r=0;r<t.length;r++){const i=t[r];if(Fe(i)){if(i.type!==Lt||i.children==="v-if"){if(e)return;e=i}}else return}return e}const ou=t=>{let e;for(const r in t)(r==="class"||r==="style"||xi(r))&&((e||(e={}))[r]=t[r]);return e},lu=(t,e)=>{const r={};for(const i in t)(!bs(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function hu(t,e,r){const{props:i,children:s,component:n}=t,{props:a,children:o,patchFlag:h}=e,c=n.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return i?pa(i,a,c):!!a;if(h&8){const _=e.dynamicProps;for(let p=0;p<_.length;p++){const m=_[p];if(a[m]!==i[m]&&!bn(c,m))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?pa(i,a,c):!0:!!a;return!1}function pa(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const n=i[s];if(e[n]!==t[n]&&!bn(r,n))return!0}return!1}function Ls({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Pl=t=>t.__isSuspense,cu={name:"Suspense",__isSuspense:!0,process(t,e,r,i,s,n,a,o,h,c){t==null?fu(e,r,i,s,n,a,o,h,c):du(t,e,r,i,s,a,o,h,c)},hydrate:gu,create:Ds,normalize:pu},uu=cu;function Si(t,e){const r=t.props&&t.props[e];ct(r)&&r()}function fu(t,e,r,i,s,n,a,o,h){const{p:c,o:{createElement:_}}=h,p=_("div"),m=t.suspense=Ds(t,s,i,e,p,r,n,a,o,h);c(null,m.pendingBranch=t.ssContent,p,null,i,m,n,a),m.deps>0?(Si(t,"onPending"),Si(t,"onFallback"),c(null,t.ssFallback,e,r,i,null,n,a),sr(m,t.ssFallback)):m.resolve(!1,!0)}function du(t,e,r,i,s,n,a,o,{p:h,um:c,o:{createElement:_}}){const p=e.suspense=t.suspense;p.vnode=e,e.el=t.el;const m=e.ssContent,v=e.ssFallback,{activeBranch:g,pendingBranch:y,isInFallback:S,isHydrating:R}=p;if(y)p.pendingBranch=m,Qt(m,y)?(h(y,m,p.hiddenContainer,null,s,p,n,a,o),p.deps<=0?p.resolve():S&&(h(g,v,r,i,s,null,n,a,o),sr(p,v))):(p.pendingId++,R?(p.isHydrating=!1,p.activeBranch=y):c(y,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=_("div"),S?(h(null,m,p.hiddenContainer,null,s,p,n,a,o),p.deps<=0?p.resolve():(h(g,v,r,i,s,null,n,a,o),sr(p,v))):g&&Qt(m,g)?(h(g,m,r,i,s,p,n,a,o),p.resolve(!0)):(h(null,m,p.hiddenContainer,null,s,p,n,a,o),p.deps<=0&&p.resolve()));else if(g&&Qt(m,g))h(g,m,r,i,s,p,n,a,o),sr(p,m);else if(Si(e,"onPending"),p.pendingBranch=m,p.pendingId++,h(null,m,p.hiddenContainer,null,s,p,n,a,o),p.deps<=0)p.resolve();else{const{timeout:f,pendingId:l}=p;f>0?setTimeout(()=>{p.pendingId===l&&p.fallback(v)},f):f===0&&p.fallback(v)}}function Ds(t,e,r,i,s,n,a,o,h,c,_=!1){const{p,m,um:v,n:g,o:{parentNode:y,remove:S}}=c;let R;const f=vu(t);f&&e!=null&&e.pendingBranch&&(R=e.pendingId,e.deps++);const l=t.props?tn(t.props.timeout):void 0,u={vnode:t,parent:e,parentComponent:r,isSVG:a,container:i,hiddenContainer:s,anchor:n,deps:0,pendingId:0,timeout:typeof l=="number"?l:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:_,isUnmounted:!1,effects:[],resolve(b=!1,A=!1){const{vnode:M,activeBranch:w,pendingBranch:T,pendingId:x,effects:F,parentComponent:O,container:d}=u;let C=!1;if(u.isHydrating)u.isHydrating=!1;else if(!b){C=w&&T.transition&&T.transition.mode==="out-in",C&&(w.transition.afterLeave=()=>{x===u.pendingId&&(m(T,d,N,0),rn(F))});let{anchor:N}=u;w&&(N=g(w),v(w,O,u,!0)),C||m(T,d,N,0)}sr(u,T),u.pendingBranch=null,u.isInFallback=!1;let P=u.parent,E=!1;for(;P;){if(P.pendingBranch){P.effects.push(...F),E=!0;break}P=P.parent}!E&&!C&&rn(F),u.effects=[],f&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),Si(M,"onResolve")},fallback(b){if(!u.pendingBranch)return;const{vnode:A,activeBranch:M,parentComponent:w,container:T,isSVG:x}=u;Si(A,"onFallback");const F=g(M),O=()=>{u.isInFallback&&(p(null,b,T,F,w,null,x,o,h),sr(u,b))},d=b.transition&&b.transition.mode==="out-in";d&&(M.transition.afterLeave=O),u.isInFallback=!0,v(M,w,null,!0),d||O()},move(b,A,M){u.activeBranch&&m(u.activeBranch,b,A,M),u.container=b},next(){return u.activeBranch&&g(u.activeBranch)},registerDep(b,A){const M=!!u.pendingBranch;M&&u.deps++;const w=b.vnode.el;b.asyncDep.catch(T=>{Ye(T,b,0)}).then(T=>{if(b.isUnmounted||u.isUnmounted||u.pendingId!==b.suspenseId)return;b.asyncResolved=!0;const{vnode:x}=b;hs(b,T,!1),w&&(x.el=w);const F=!w&&b.subTree.el;A(b,x,y(w||b.subTree.el),w?null:g(b.subTree),u,a,h),F&&S(F),Ls(b,x.el),M&&--u.deps===0&&u.resolve()})},unmount(b,A){u.isUnmounted=!0,u.activeBranch&&v(u.activeBranch,r,b,A),u.pendingBranch&&v(u.pendingBranch,r,b,A)}};return u}function gu(t,e,r,i,s,n,a,o,h){const c=e.suspense=Ds(e,i,r,t.parentNode,document.createElement("div"),null,s,n,a,o,!0),_=h(t,c.pendingBranch=e.ssContent,r,c,n,a);return c.deps===0&&c.resolve(!1,!0),_}function pu(t){const{shapeFlag:e,children:r}=t,i=e&32;t.ssContent=va(i?r.default:r),t.ssFallback=i?va(r.fallback):mt(Lt)}function va(t){let e;if(ct(t)){const r=ze&&t._c;r&&(t._d=!1,de()),t=t(),r&&(t._d=!0,e=Ut,ih())}return nt(t)&&(t=au(t)),t=Wt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function Tl(t,e){e&&e.pendingBranch?nt(t)?e.effects.push(...t):e.effects.push(t):rn(t)}function sr(t,e){t.activeBranch=e;const{vnode:r,parentComponent:i}=t,s=r.el=e.el;i&&i.subTree===r&&(i.vnode.el=s,Ls(i,s))}function vu(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function _u(t,e){return Fi(t,null,e)}function El(t,e){return Fi(t,null,{flush:"post"})}function mu(t,e){return Fi(t,null,{flush:"sync"})}const ji={};function xe(t,e,r){return Fi(t,e,r)}function Fi(t,e,{immediate:r,deep:i,flush:s,onTrack:n,onTrigger:a}=yt){var o;const h=Ts()===((o=Rt)==null?void 0:o.scope)?Rt:null;let c,_=!1,p=!1;if(Pt(t)?(c=()=>t.value,_=pi(t)):ce(t)?(c=()=>t,i=!0):nt(t)?(p=!0,_=t.some(u=>ce(u)||pi(u)),c=()=>t.map(u=>{if(Pt(u))return u.value;if(ce(u))return Be(u);if(ct(u))return ue(u,h,2)})):ct(t)?e?c=()=>ue(t,h,2):c=()=>{if(!(h&&h.isUnmounted))return m&&m(),zt(t,h,3,[v])}:c=Zt,e&&i){const u=c;c=()=>Be(u())}let m,v=u=>{m=f.onStop=()=>{ue(u,h,4)}},g;if(cr)if(v=Zt,e?r&&zt(e,h,3,[c(),p?[]:void 0,v]):c(),s==="sync"){const u=ph();g=u.__watcherHandles||(u.__watcherHandles=[])}else return Zt;let y=p?new Array(t.length).fill(ji):ji;const S=()=>{if(f.active)if(e){const u=f.run();(i||_||(p?u.some((b,A)=>Ee(b,y[A])):Ee(u,y)))&&(m&&m(),zt(e,h,3,[u,y===ji?void 0:p&&y[0]===ji?[]:y,v]),y=u)}else f.run()};S.allowRecurse=!!e;let R;s==="sync"?R=S:s==="post"?R=()=>Nt(S,h&&h.suspense):(S.pre=!0,h&&(S.id=h.uid),R=()=>yn(S));const f=new lr(c,R);e?r?S():y=f.run():s==="post"?Nt(f.run.bind(f),h&&h.suspense):f.run();const l=()=>{f.stop(),h&&h.scope&&Ss(h.scope.effects,f)};return g&&g.push(l),l}function yu(t,e,r){const i=this.proxy,s=xt(t)?t.includes(".")?Al(i,t):()=>i[t]:t.bind(i,i);let n;ct(e)?n=e:(n=e.handler,r=e);const a=Rt;Me(this);const o=Fi(s,n.bind(i),r);return a?Me(a):Te(),o}function Al(t,e){const r=e.split(".");return()=>{let i=t;for(let s=0;s<r.length&&i;s++)i=i[r[s]];return i}}function Be(t,e){if(!bt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Pt(t))Be(t.value,e);else if(nt(t))for(let r=0;r<t.length;r++)Be(t[r],e);else if($e(t)||rr(t))t.forEach(r=>{Be(r,e)});else if(Qo(t))for(const r in t)Be(t[r],e);return t}function bu(t,e){const r=Mt;if(r===null)return t;const i=Rn(r)||r.proxy,s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[a,o,h,c=yt]=e[n];a&&(ct(a)&&(a={mounted:a,updated:a}),a.deep&&Be(o),s.push({dir:a,instance:i,value:o,oldValue:void 0,arg:h,modifiers:c}))}return t}function ee(t,e,r,i){const s=t.dirs,n=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];n&&(o.oldValue=n[a].value);let h=o.dir[i];h&&(gr(),zt(h,r,8,[t.el,o,t,e]),pr())}}const be=Symbol("_leaveCb"),Ki=Symbol("_enterCb");function Is(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Oi(()=>{t.isMounted=!0}),Pn(()=>{t.isUnmounting=!0}),t}const $t=[Function,Array],Gs={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$t,onEnter:$t,onAfterEnter:$t,onEnterCancelled:$t,onBeforeLeave:$t,onLeave:$t,onAfterLeave:$t,onLeaveCancelled:$t,onBeforeAppear:$t,onAppear:$t,onAfterAppear:$t,onAppearCancelled:$t},Su={name:"BaseTransition",props:Gs,setup(t,{slots:e}){const r=ge(),i=Is();let s;return()=>{const n=e.default&&Cn(e.default(),!0);if(!n||!n.length)return;let a=n[0];if(n.length>1){for(const y of n)if(y.type!==Lt){a=y;break}}const o=pt(t),{mode:h}=o;if(i.isLeaving)return kn(a);const c=_a(a);if(!c)return kn(a);const _=hr(c,o,i,r);qe(c,_);const p=r.subTree,m=p&&_a(p);let v=!1;const{getTransitionKey:g}=c.type;if(g){const y=g();s===void 0?s=y:y!==s&&(s=y,v=!0)}if(m&&m.type!==Lt&&(!Qt(c,m)||v)){const y=hr(m,o,i,r);if(qe(m,y),h==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},kn(a);h==="in-out"&&c.type!==Lt&&(y.delayLeave=(S,R,f)=>{const l=Fl(i,m);l[String(m.key)]=m,S[be]=()=>{R(),S[be]=void 0,delete _.delayedLeave},_.delayedLeave=f})}return a}}},Rl=Su;function Fl(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function hr(t,e,r,i){const{appear:s,mode:n,persisted:a=!1,onBeforeEnter:o,onEnter:h,onAfterEnter:c,onEnterCancelled:_,onBeforeLeave:p,onLeave:m,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:y,onAppear:S,onAfterAppear:R,onAppearCancelled:f}=e,l=String(t.key),u=Fl(r,t),b=(w,T)=>{w&&zt(w,i,9,T)},A=(w,T)=>{const x=T[1];b(w,T),nt(w)?w.every(F=>F.length<=1)&&x():w.length<=1&&x()},M={mode:n,persisted:a,beforeEnter(w){let T=o;if(!r.isMounted)if(s)T=y||o;else return;w[be]&&w[be](!0);const x=u[l];x&&Qt(t,x)&&x.el[be]&&x.el[be](),b(T,[w])},enter(w){let T=h,x=c,F=_;if(!r.isMounted)if(s)T=S||h,x=R||c,F=f||_;else return;let O=!1;const d=w[Ki]=C=>{O||(O=!0,C?b(F,[w]):b(x,[w]),M.delayedLeave&&M.delayedLeave(),w[Ki]=void 0)};T?A(T,[w,d]):d()},leave(w,T){const x=String(t.key);if(w[Ki]&&w[Ki](!0),r.isUnmounting)return T();b(p,[w]);let F=!1;const O=w[be]=d=>{F||(F=!0,T(),d?b(g,[w]):b(v,[w]),w[be]=void 0,u[x]===t&&delete u[x])};u[x]=t,m?A(m,[w,O]):O()},clone(w){return hr(w,e,r,i)}};return M}function kn(t){if(Mi(t))return t=ie(t),t.children=null,t}function _a(t){return Mi(t)?t.children?t.children[0]:void 0:t}function qe(t,e){t.shapeFlag&6&&t.component?qe(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cn(t,e=!1,r){let i=[],s=0;for(let n=0;n<t.length;n++){let a=t[n];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:n);a.type===Ft?(a.patchFlag&128&&s++,i=i.concat(Cn(a.children,e,o))):(e||a.type!==Lt)&&i.push(o!=null?ie(a,{key:o}):a)}if(s>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Us(t,e){return ct(t)?(()=>wt({name:t.name},e,{setup:t}))():t}const He=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Cu(t){ct(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:i,delay:s=200,timeout:n,suspensible:a=!0,onError:o}=t;let h=null,c,_=0;const p=()=>(_++,h=null,m()),m=()=>{let v;return h||(v=h=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),o)return new Promise((y,S)=>{o(g,()=>y(p()),()=>S(g),_+1)});throw g}).then(g=>v!==h&&h?h:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return Us({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return c},setup(){const v=Rt;if(c)return()=>Ln(c,v);const g=f=>{h=null,Ye(f,v,13,!i)};if(a&&v.suspense||cr)return m().then(f=>()=>Ln(f,v)).catch(f=>(g(f),()=>i?mt(i,{error:f}):null));const y=we(!1),S=we(),R=we(!!s);return s&&setTimeout(()=>{R.value=!1},s),n!=null&&setTimeout(()=>{if(!y.value&&!S.value){const f=new Error(`Async component timed out after ${n}ms.`);g(f),S.value=f}},n),m().then(()=>{y.value=!0,v.parent&&Mi(v.parent.vnode)&&yn(v.parent.update)}).catch(f=>{g(f),S.value=f}),()=>{if(y.value&&c)return Ln(c,v);if(S.value&&i)return mt(i,{error:S.value});if(r&&!R.value)return mt(r)}}})}function Ln(t,e){const{ref:r,props:i,children:s,ce:n}=e.vnode,a=mt(t,i,s);return a.ref=r,a.ce=n,delete e.vnode.ce,a}const Mi=t=>t.type.__isKeepAlive,wu={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=ge(),i=r.ctx;if(!i.renderer)return()=>{const f=e.default&&e.default();return f&&f.length===1?f[0]:f};const s=new Map,n=new Set;let a=null;const o=r.suspense,{renderer:{p:h,m:c,um:_,o:{createElement:p}}}=i,m=p("div");i.activate=(f,l,u,b,A)=>{const M=f.component;c(f,l,u,0,o),h(M.vnode,f,l,u,M,o,b,f.slotScopeIds,A),Nt(()=>{M.isDeactivated=!1,M.a&&ir(M.a);const w=f.props&&f.props.onVnodeMounted;w&&Gt(w,M.parent,f)},o)},i.deactivate=f=>{const l=f.component;c(f,m,null,1,o),Nt(()=>{l.da&&ir(l.da);const u=f.props&&f.props.onVnodeUnmounted;u&&Gt(u,l.parent,f),l.isDeactivated=!0},o)};function v(f){Dn(f),_(f,r,o,!0)}function g(f){s.forEach((l,u)=>{const b=us(l.type);b&&(!f||!f(b))&&y(u)})}function y(f){const l=s.get(f);!a||!Qt(l,a)?v(l):a&&Dn(a),s.delete(f),n.delete(f)}xe(()=>[t.include,t.exclude],([f,l])=>{f&&g(u=>ai(f,u)),l&&g(u=>!ai(l,u))},{flush:"post",deep:!0});let S=null;const R=()=>{S!=null&&s.set(S,In(r.subTree))};return Oi(R),xn(R),Pn(()=>{s.forEach(f=>{const{subTree:l,suspense:u}=r,b=In(l);if(f.type===b.type&&f.key===b.key){Dn(b);const A=b.component.da;A&&Nt(A,u);return}v(f)})}),()=>{if(S=null,!e.default)return null;const f=e.default(),l=f[0];if(f.length>1)return a=null,f;if(!Fe(l)||!(l.shapeFlag&4)&&!(l.shapeFlag&128))return a=null,l;let u=In(l);const b=u.type,A=us(He(u)?u.type.__asyncResolved||{}:b),{include:M,exclude:w,max:T}=t;if(M&&(!A||!ai(M,A))||w&&A&&ai(w,A))return a=u,l;const x=u.key==null?b:u.key,F=s.get(x);return u.el&&(u=ie(u),l.shapeFlag&128&&(l.ssContent=u)),S=x,F?(u.el=F.el,u.component=F.component,u.transition&&qe(u,u.transition),u.shapeFlag|=512,n.delete(x),n.add(x)):(n.add(x),T&&n.size>parseInt(T,10)&&y(n.values().next().value)),u.shapeFlag|=256,a=u,Pl(l.type)?l:u}}},xu=wu;function ai(t,e){return nt(t)?t.some(r=>ai(r,e)):xt(t)?t.split(",").includes(e):tc(t)?t.test(e):!1}function Ml(t,e){Nl(t,"a",e)}function Ol(t,e){Nl(t,"da",e)}function Nl(t,e,r=Rt){const i=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wn(e,i,r),r){let s=r.parent;for(;s&&s.parent;)Mi(s.parent.vnode)&&Pu(i,e,r,s),s=s.parent}}function Pu(t,e,r,i){const s=wn(e,t,i,!0);Tn(()=>{Ss(i[e],s)},r)}function Dn(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function In(t){return t.shapeFlag&128?t.ssContent:t}function wn(t,e,r=Rt,i=!1){if(r){const s=r[t]||(r[t]=[]),n=e.__weh||(e.__weh=(...a)=>{if(r.isUnmounted)return;gr(),Me(r);const o=zt(e,r,t,a);return Te(),pr(),o});return i?s.unshift(n):s.push(n),n}}const fe=t=>(e,r=Rt)=>(!cr||t==="sp")&&wn(t,(...i)=>e(...i),r),kl=fe("bm"),Oi=fe("m"),Ll=fe("bu"),xn=fe("u"),Pn=fe("bum"),Tn=fe("um"),Dl=fe("sp"),Il=fe("rtg"),Gl=fe("rtc");function Ul(t,e=Rt){wn("ec",t,e)}const Bs="components",Tu="directives";function Pe(t,e){return Vs(Bs,t,!0,e)||t}const Bl=Symbol.for("v-ndc");function Eu(t){return xt(t)?Vs(Bs,t,!1)||t:t||Bl}function Au(t){return Vs(Tu,t)}function Vs(t,e,r=!0,i=!1){const s=Mt||Rt;if(s){const n=s.type;if(t===Bs){const o=us(n,!1);if(o&&(o===e||o===Bt(e)||o===Pi(Bt(e))))return n}const a=ma(s[t]||n[t],e)||ma(s.appContext[t],e);return!a&&i?n:a}}function ma(t,e){return t&&(t[e]||t[Bt(e)]||t[Pi(Bt(e))])}function Ru(t,e,r,i){let s;const n=r&&r[i];if(nt(t)||xt(t)){s=new Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=e(t[a],a,void 0,n&&n[a])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,n&&n[a])}else if(bt(t))if(t[Symbol.iterator])s=Array.from(t,(a,o)=>e(a,o,void 0,n&&n[o]));else{const a=Object.keys(t);s=new Array(a.length);for(let o=0,h=a.length;o<h;o++){const c=a[o];s[o]=e(t[c],c,o,n&&n[o])}}else s=[];return r&&(r[i]=s),s}function Fu(t,e){for(let r=0;r<e.length;r++){const i=e[r];if(nt(i))for(let s=0;s<i.length;s++)t[i[s].name]=i[s].fn;else i&&(t[i.name]=i.key?(...s)=>{const n=i.fn(...s);return n&&(n.key=i.key),n}:i.fn)}return t}function Mu(t,e,r={},i,s){if(Mt.isCE||Mt.parent&&He(Mt.parent)&&Mt.parent.isCE)return e!=="default"&&(r.name=e),mt("slot",r,i&&i());let n=t[e];n&&n._c&&(n._d=!1),de();const a=n&&Vl(n(r)),o=Ni(Ft,{key:r.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),n&&n._c&&(n._d=!0),o}function Vl(t){return t.some(e=>Fe(e)?!(e.type===Lt||e.type===Ft&&!Vl(e.children)):!0)?t:null}function Ou(t,e){const r={};for(const i in t)r[e&&/[A-Z]/.test(i)?`on:${i}`:hi(i)]=t[i];return r}const rs=t=>t?hh(t)?Rn(t)||t.proxy:rs(t.parent):null,ci=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rs(t.parent),$root:t=>rs(t.root),$emit:t=>t.emit,$options:t=>Hs(t),$forceUpdate:t=>t.f||(t.f=()=>yn(t.update)),$nextTick:t=>t.n||(t.n=mn.bind(t.proxy)),$watch:t=>yu.bind(t)}),Gn=(t,e)=>t!==yt&&!t.__isScriptSetup&&_t(t,e),is={get({_:t},e){const{ctx:r,setupState:i,data:s,props:n,accessCache:a,type:o,appContext:h}=t;let c;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return s[e];case 4:return r[e];case 3:return n[e]}else{if(Gn(i,e))return a[e]=1,i[e];if(s!==yt&&_t(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&_t(c,e))return a[e]=3,n[e];if(r!==yt&&_t(r,e))return a[e]=4,r[e];ns&&(a[e]=0)}}const _=ci[e];let p,m;if(_)return e==="$attrs"&&Vt(t,"get",e),_(t);if((p=o.__cssModules)&&(p=p[e]))return p;if(r!==yt&&_t(r,e))return a[e]=4,r[e];if(m=h.config.globalProperties,_t(m,e))return m[e]},set({_:t},e,r){const{data:i,setupState:s,ctx:n}=t;return Gn(s,e)?(s[e]=r,!0):i!==yt&&_t(i,e)?(i[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:s,propsOptions:n}},a){let o;return!!r[a]||t!==yt&&_t(t,a)||Gn(e,a)||(o=n[0])&&_t(o,a)||_t(i,a)||_t(ci,a)||_t(s.config.globalProperties,a)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},Nu=wt({},is,{get(t,e){if(e!==Symbol.unscopables)return is.get(t,e,t)},has(t,e){return e[0]!=="_"&&!sc(e)}});function ku(){return null}function Lu(){return null}function Du(t){}function Iu(t){}function Gu(){return null}function Uu(){}function Bu(t,e){return null}function Vu(){return Hl().slots}function Hu(){return Hl().attrs}function ju(t,e,r){const i=ge();if(r&&r.local){const s=we(t[e]);return xe(()=>t[e],n=>s.value=n),xe(s,n=>{n!==t[e]&&i.emit(`update:${e}`,n)}),s}else return{__v_isRef:!0,get value(){return t[e]},set value(s){i.emit(`update:${e}`,s)}}}function Hl(){const t=ge();return t.setupContext||(t.setupContext=fh(t))}function Ci(t){return nt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function Ku(t,e){const r=Ci(t);for(const i in e){if(i.startsWith("__skip"))continue;let s=r[i];s?nt(s)||ct(s)?s=r[i]={type:s,default:e[i]}:s.default=e[i]:s===null&&(s=r[i]={default:e[i]}),s&&e[`__skip_${i}`]&&(s.skipFactory=!0)}return r}function qu(t,e){return!t||!e?t||e:nt(t)&&nt(e)?t.concat(e):wt({},Ci(t),Ci(e))}function Wu(t,e){const r={};for(const i in t)e.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>t[i]});return r}function zu(t){const e=ge();let r=t();return Te(),Cs(r)&&(r=r.catch(i=>{throw Me(e),i})),[r,()=>Me(e)]}let ns=!0;function $u(t){const e=Hs(t),r=t.proxy,i=t.ctx;ns=!1,e.beforeCreate&&ya(e.beforeCreate,t,"bc");const{data:s,computed:n,methods:a,watch:o,provide:h,inject:c,created:_,beforeMount:p,mounted:m,beforeUpdate:v,updated:g,activated:y,deactivated:S,beforeDestroy:R,beforeUnmount:f,destroyed:l,unmounted:u,render:b,renderTracked:A,renderTriggered:M,errorCaptured:w,serverPrefetch:T,expose:x,inheritAttrs:F,components:O,directives:d,filters:C}=e;if(c&&Yu(c,i,null),a)for(const N in a){const D=a[N];ct(D)&&(i[N]=D.bind(r))}if(s){const N=s.call(r,r);bt(N)&&(t.data=Ai(N))}if(ns=!0,n)for(const N in n){const D=n[N],G=ct(D)?D.bind(r,r):ct(D.get)?D.get.bind(r,r):Zt,U=!ct(D)&&ct(D.set)?D.set.bind(r):Zt,$=$s({get:G,set:U});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>$.value,set:V=>$.value=V})}if(o)for(const N in o)jl(o[N],i,r,N);if(h){const N=ct(h)?h.call(r):h;Reflect.ownKeys(N).forEach(D=>{ql(D,N[D])})}_&&ya(_,t,"c");function E(N,D){nt(D)?D.forEach(G=>N(G.bind(r))):D&&N(D.bind(r))}if(E(kl,p),E(Oi,m),E(Ll,v),E(xn,g),E(Ml,y),E(Ol,S),E(Ul,w),E(Gl,A),E(Il,M),E(Pn,f),E(Tn,u),E(Dl,T),nt(x))if(x.length){const N=t.exposed||(t.exposed={});x.forEach(D=>{Object.defineProperty(N,D,{get:()=>r[D],set:G=>r[D]=G})})}else t.exposed||(t.exposed={});b&&t.render===Zt&&(t.render=b),F!=null&&(t.inheritAttrs=F),O&&(t.components=O),d&&(t.directives=d)}function Yu(t,e,r=Zt){nt(t)&&(t=ss(t));for(const i in t){const s=t[i];let n;bt(s)?"default"in s?n=ar(s.from||i,s.default,!0):n=ar(s.from||i):n=ar(s),Pt(n)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):e[i]=n}}function ya(t,e,r){zt(nt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function jl(t,e,r,i){const s=i.includes(".")?Al(r,i):()=>r[i];if(xt(t)){const n=e[t];ct(n)&&xe(s,n)}else if(ct(t))xe(s,t.bind(r));else if(bt(t))if(nt(t))t.forEach(n=>jl(n,e,r,i));else{const n=ct(t.handler)?t.handler.bind(r):e[t.handler];ct(n)&&xe(s,n,t)}}function Hs(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:s,optionsCache:n,config:{optionMergeStrategies:a}}=t.appContext,o=n.get(e);let h;return o?h=o:!s.length&&!r&&!i?h=e:(h={},s.length&&s.forEach(c=>sn(h,c,a,!0)),sn(h,e,a)),bt(e)&&n.set(e,h),h}function sn(t,e,r,i=!1){const{mixins:s,extends:n}=e;n&&sn(t,n,r,!0),s&&s.forEach(a=>sn(t,a,r,!0));for(const a in e)if(!(i&&a==="expose")){const o=Xu[a]||r&&r[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Xu={data:ba,props:Sa,emits:Sa,methods:oi,computed:oi,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:oi,directives:oi,watch:Qu,provide:ba,inject:Ju};function ba(t,e){return e?t?function(){return wt(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function Ju(t,e){return oi(ss(t),ss(e))}function ss(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Dt(t,e){return t?[...new Set([].concat(t,e))]:e}function oi(t,e){return t?wt(Object.create(null),t,e):e}function Sa(t,e){return t?nt(t)&&nt(e)?[...new Set([...t,...e])]:wt(Object.create(null),Ci(t),Ci(e??{})):e}function Qu(t,e){if(!t)return e;if(!e)return t;const r=wt(Object.create(null),t);for(const i in e)r[i]=Dt(t[i],e[i]);return r}function Kl(){return{app:null,config:{isNativeTag:Jh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zu=0;function tf(t,e){return function(i,s=null){ct(i)||(i=wt({},i)),s!=null&&!bt(s)&&(s=null);const n=Kl(),a=new WeakSet;let o=!1;const h=n.app={_uid:Zu++,_component:i,_props:s,_container:null,_context:n,_instance:null,version:_h,get config(){return n.config},set config(c){},use(c,..._){return a.has(c)||(c&&ct(c.install)?(a.add(c),c.install(h,..._)):ct(c)&&(a.add(c),c(h,..._))),h},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),h},component(c,_){return _?(n.components[c]=_,h):n.components[c]},directive(c,_){return _?(n.directives[c]=_,h):n.directives[c]},mount(c,_,p){if(!o){const m=mt(i,s);return m.appContext=n,_&&e?e(m,c):t(m,c,p),o=!0,h._container=c,c.__vue_app__=h,Rn(m.component)||m.component.proxy}},unmount(){o&&(t(null,h._container),delete h._container.__vue_app__)},provide(c,_){return n.provides[c]=_,h},runWithContext(c){wi=h;try{return c()}finally{wi=null}}};return h}}let wi=null;function ql(t,e){if(Rt){let r=Rt.provides;const i=Rt.parent&&Rt.parent.provides;i===r&&(r=Rt.provides=Object.create(i)),r[t]=e}}function ar(t,e,r=!1){const i=Rt||Mt;if(i||wi){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:wi._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&ct(e)?e.call(i&&i.proxy):e}}function Wl(){return!!(Rt||Mt||wi)}function ef(t,e,r,i=!1){const s={},n={};Qi(n,An,1),t.propsDefaults=Object.create(null),zl(t,e,s,n);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);r?t.props=i?s:vl(s):t.type.props?t.props=s:t.props=n,t.attrs=n}function rf(t,e,r,i){const{props:s,attrs:n,vnode:{patchFlag:a}}=t,o=pt(s),[h]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const _=t.vnode.dynamicProps;for(let p=0;p<_.length;p++){let m=_[p];if(bn(t.emitsOptions,m))continue;const v=e[m];if(h)if(_t(n,m))v!==n[m]&&(n[m]=v,c=!0);else{const g=Bt(m);s[g]=as(h,o,g,v,t,!1)}else v!==n[m]&&(n[m]=v,c=!0)}}}else{zl(t,e,s,n)&&(c=!0);let _;for(const p in o)(!e||!_t(e,p)&&((_=Yt(p))===p||!_t(e,_)))&&(h?r&&(r[p]!==void 0||r[_]!==void 0)&&(s[p]=as(h,o,p,void 0,t,!0)):delete s[p]);if(n!==o)for(const p in n)(!e||!_t(e,p))&&(delete n[p],c=!0)}c&&he(t,"set","$attrs")}function zl(t,e,r,i){const[s,n]=t.propsOptions;let a=!1,o;if(e)for(let h in e){if(li(h))continue;const c=e[h];let _;s&&_t(s,_=Bt(h))?!n||!n.includes(_)?r[_]=c:(o||(o={}))[_]=c:bn(t.emitsOptions,h)||(!(h in i)||c!==i[h])&&(i[h]=c,a=!0)}if(n){const h=pt(r),c=o||yt;for(let _=0;_<n.length;_++){const p=n[_];r[p]=as(s,h,p,c[p],t,!_t(c,p))}}return a}function as(t,e,r,i,s,n){const a=t[r];if(a!=null){const o=_t(a,"default");if(o&&i===void 0){const h=a.default;if(a.type!==Function&&!a.skipFactory&&ct(h)){const{propsDefaults:c}=s;r in c?i=c[r]:(Me(s),i=c[r]=h.call(null,e),Te())}else i=h}a[0]&&(n&&!o?i=!1:a[1]&&(i===""||i===Yt(r))&&(i=!0))}return i}function $l(t,e,r=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const n=t.props,a={},o=[];let h=!1;if(!ct(t)){const _=p=>{h=!0;const[m,v]=$l(p,e,!0);wt(a,m),v&&o.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!n&&!h)return bt(t)&&i.set(t,er),er;if(nt(n))for(let _=0;_<n.length;_++){const p=Bt(n[_]);Ca(p)&&(a[p]=yt)}else if(n)for(const _ in n){const p=Bt(_);if(Ca(p)){const m=n[_],v=a[p]=nt(m)||ct(m)?{type:m}:wt({},m);if(v){const g=Pa(Boolean,v.type),y=Pa(String,v.type);v[0]=g>-1,v[1]=y<0||g<y,(g>-1||_t(v,"default"))&&o.push(p)}}}const c=[a,o];return bt(t)&&i.set(t,c),c}function Ca(t){return t[0]!=="$"}function wa(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function xa(t,e){return wa(t)===wa(e)}function Pa(t,e){return nt(e)?e.findIndex(r=>xa(r,t)):ct(e)&&xa(e,t)?0:-1}const Yl=t=>t[0]==="_"||t==="$stable",js=t=>nt(t)?t.map(Wt):[Wt(t)],nf=(t,e,r)=>{if(e._n)return e;const i=bi((...s)=>js(e(...s)),r);return i._c=!1,i},Xl=(t,e,r)=>{const i=t._ctx;for(const s in t){if(Yl(s))continue;const n=t[s];if(ct(n))e[s]=nf(s,n,i);else if(n!=null){const a=js(n);e[s]=()=>a}}},Jl=(t,e)=>{const r=js(e);t.slots.default=()=>r},sf=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=pt(e),Qi(e,"_",r)):Xl(e,t.slots={})}else t.slots={},e&&Jl(t,e);Qi(t.slots,An,1)},af=(t,e,r)=>{const{vnode:i,slots:s}=t;let n=!0,a=yt;if(i.shapeFlag&32){const o=e._;o?r&&o===1?n=!1:(wt(s,e),!r&&o===1&&delete s._):(n=!e.$stable,Xl(e,s)),a=e}else e&&(Jl(t,e),a={default:1});if(n)for(const o in s)!Yl(o)&&a[o]==null&&delete s[o]};function an(t,e,r,i,s=!1){if(nt(t)){t.forEach((m,v)=>an(m,e&&(nt(e)?e[v]:e),r,i,s));return}if(He(i)&&!s)return;const n=i.shapeFlag&4?Rn(i.component)||i.component.proxy:i.el,a=s?null:n,{i:o,r:h}=t,c=e&&e.r,_=o.refs===yt?o.refs={}:o.refs,p=o.setupState;if(c!=null&&c!==h&&(xt(c)?(_[c]=null,_t(p,c)&&(p[c]=null)):Pt(c)&&(c.value=null)),ct(h))ue(h,o,12,[a,_]);else{const m=xt(h),v=Pt(h);if(m||v){const g=()=>{if(t.f){const y=m?_t(p,h)?p[h]:_[h]:h.value;s?nt(y)&&Ss(y,n):nt(y)?y.includes(n)||y.push(n):m?(_[h]=[n],_t(p,h)&&(p[h]=_[h])):(h.value=[n],t.k&&(_[t.k]=h.value))}else m?(_[h]=a,_t(p,h)&&(p[h]=a)):v&&(h.value=a,t.k&&(_[t.k]=a))};a?(g.id=-1,Nt(g,r)):g()}}}let ve=!1;const qi=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Wi=t=>t.nodeType===8;function of(t){const{mt:e,p:r,o:{patchProp:i,createText:s,nextSibling:n,parentNode:a,remove:o,insert:h,createComment:c}}=t,_=(l,u)=>{if(!u.hasChildNodes()){r(null,l,u),nn(),u._vnode=l;return}ve=!1,p(u.firstChild,l,null,null,null),nn(),u._vnode=l,ve&&console.error("Hydration completed but contains mismatches.")},p=(l,u,b,A,M,w=!1)=>{const T=Wi(l)&&l.data==="[",x=()=>y(l,u,b,A,M,T),{type:F,ref:O,shapeFlag:d,patchFlag:C}=u;let P=l.nodeType;u.el=l,C===-2&&(w=!1,u.dynamicChildren=null);let E=null;switch(F){case We:P!==3?u.children===""?(h(u.el=s(""),a(l),l),E=l):E=x():(l.data!==u.children&&(ve=!0,l.data=u.children),E=n(l));break;case Lt:if(P!==8||T)if(l.tagName.toLowerCase()==="template"){const N=u.el.content.firstChild;R(N,l,b),u.el=l=N,E=n(l)}else E=x();else E=n(l);break;case je:if(T&&(l=n(l),P=l.nodeType),P===1||P===3){E=l;const N=!u.children.length;for(let D=0;D<u.staticCount;D++)N&&(u.children+=E.nodeType===1?E.outerHTML:E.data),D===u.staticCount-1&&(u.anchor=E),E=n(E);return T?n(E):E}else x();break;case Ft:T?E=g(l,u,b,A,M,w):E=x();break;default:if(d&1)(P!==1||u.type.toLowerCase()!==l.tagName.toLowerCase())&&!f(l)?E=x():E=m(l,u,b,A,M,w);else if(d&6){u.slotScopeIds=M;const N=a(l);if(T?E=S(l):Wi(l)&&l.data==="teleport start"?E=S(l,l.data,"teleport end"):E=n(l),e(u,N,null,b,A,qi(N),w),He(u)){let D;T?(D=mt(Ft),D.anchor=E?E.previousSibling:N.lastChild):D=l.nodeType===3?ki(""):mt("div"),D.el=l,u.component.subTree=D}}else d&64?P!==8?E=x():E=u.type.hydrate(l,u,b,A,M,w,t,v):d&128&&(E=u.type.hydrate(l,u,b,A,qi(a(l)),M,w,t,p))}return O!=null&&an(O,null,A,u),E},m=(l,u,b,A,M,w)=>{w=w||!!u.dynamicChildren;const{type:T,props:x,patchFlag:F,shapeFlag:O,dirs:d,transition:C}=u,P=T==="input"&&d||T==="option";if(P||F!==-1){if(d&&ee(u,null,b,"created"),x)if(P||!w||F&48)for(const D in x)(P&&D.endsWith("value")||xi(D)&&!li(D))&&i(l,D,null,x[D],!1,void 0,b);else x.onClick&&i(l,"onClick",null,x.onClick,!1,void 0,b);let E;(E=x&&x.onVnodeBeforeMount)&&Gt(E,b,u);let N=!1;if(f(l)){N=eh(A,C)&&b&&b.vnode.props&&b.vnode.props.appear;const D=l.content.firstChild;N&&C.beforeEnter(D),R(D,l,b),u.el=l=D}if(d&&ee(u,null,b,"beforeMount"),((E=x&&x.onVnodeMounted)||d||N)&&Tl(()=>{E&&Gt(E,b,u),N&&C.enter(l),d&&ee(u,null,b,"mounted")},A),O&16&&!(x&&(x.innerHTML||x.textContent))){let D=v(l.firstChild,u,l,b,A,M,w);for(;D;){ve=!0;const G=D;D=D.nextSibling,o(G)}}else O&8&&l.textContent!==u.children&&(ve=!0,l.textContent=u.children)}return l.nextSibling},v=(l,u,b,A,M,w,T)=>{T=T||!!u.dynamicChildren;const x=u.children,F=x.length;for(let O=0;O<F;O++){const d=T?x[O]:x[O]=Wt(x[O]);if(l)l=p(l,d,A,M,w,T);else{if(d.type===We&&!d.children)continue;ve=!0,r(null,d,b,null,A,M,qi(b),w)}}return l},g=(l,u,b,A,M,w)=>{const{slotScopeIds:T}=u;T&&(M=M?M.concat(T):T);const x=a(l),F=v(n(l),u,x,b,A,M,w);return F&&Wi(F)&&F.data==="]"?n(u.anchor=F):(ve=!0,h(u.anchor=c("]"),x,F),F)},y=(l,u,b,A,M,w)=>{if(ve=!0,u.el=null,w){const F=S(l);for(;;){const O=n(l);if(O&&O!==F)o(O);else break}}const T=n(l),x=a(l);return o(l),r(null,u,x,T,b,A,qi(x),M),T},S=(l,u="[",b="]")=>{let A=0;for(;l;)if(l=n(l),l&&Wi(l)&&(l.data===u&&A++,l.data===b)){if(A===0)return n(l);A--}return l},R=(l,u,b)=>{const A=u.parentNode;A&&A.replaceChild(l,u);let M=b;for(;M;)M.vnode.el===u&&(M.vnode.el=l,M.subTree.el=l),M=M.parent},f=l=>l.nodeType===1&&l.tagName.toLowerCase()==="template";return[_,p]}const Nt=Tl;function Ql(t){return th(t)}function Zl(t){return th(t,of)}function th(t,e){const r=Jn();r.__VUE__=!0;const{insert:i,remove:s,patchProp:n,createElement:a,createText:o,createComment:h,setText:c,setElementText:_,parentNode:p,nextSibling:m,setScopeId:v=Zt,insertStaticContent:g}=t,y=(k,I,H,j=null,W=null,X=null,Z=!1,Y=null,J=!!I.dynamicChildren)=>{if(k===I)return;k&&!Qt(k,I)&&(j=L(k),V(k,W,X,!0),k=null),I.patchFlag===-2&&(J=!1,I.dynamicChildren=null);const{type:K,ref:it,shapeFlag:et}=I;switch(K){case We:S(k,I,H,j);break;case Lt:R(k,I,H,j);break;case je:k==null&&f(I,H,j,Z);break;case Ft:O(k,I,H,j,W,X,Z,Y,J);break;default:et&1?b(k,I,H,j,W,X,Z,Y,J):et&6?d(k,I,H,j,W,X,Z,Y,J):(et&64||et&128)&&K.process(k,I,H,j,W,X,Z,Y,J,z)}it!=null&&W&&an(it,k&&k.ref,X,I||k,!I)},S=(k,I,H,j)=>{if(k==null)i(I.el=o(I.children),H,j);else{const W=I.el=k.el;I.children!==k.children&&c(W,I.children)}},R=(k,I,H,j)=>{k==null?i(I.el=h(I.children||""),H,j):I.el=k.el},f=(k,I,H,j)=>{[k.el,k.anchor]=g(k.children,I,H,j,k.el,k.anchor)},l=({el:k,anchor:I},H,j)=>{let W;for(;k&&k!==I;)W=m(k),i(k,H,j),k=W;i(I,H,j)},u=({el:k,anchor:I})=>{let H;for(;k&&k!==I;)H=m(k),s(k),k=H;s(I)},b=(k,I,H,j,W,X,Z,Y,J)=>{Z=Z||I.type==="svg",k==null?A(I,H,j,W,X,Z,Y,J):T(k,I,W,X,Z,Y,J)},A=(k,I,H,j,W,X,Z,Y)=>{let J,K;const{type:it,props:et,shapeFlag:st,transition:at,dirs:ht}=k;if(J=k.el=a(k.type,X,et&&et.is,et),st&8?_(J,k.children):st&16&&w(k.children,J,null,j,W,X&&it!=="foreignObject",Z,Y),ht&&ee(k,null,j,"created"),M(J,k,k.scopeId,Z,j),et){for(const gt in et)gt!=="value"&&!li(gt)&&n(J,gt,null,et[gt],X,k.children,j,W,rt);"value"in et&&n(J,"value",null,et.value),(K=et.onVnodeBeforeMount)&&Gt(K,j,k)}ht&&ee(k,null,j,"beforeMount");const vt=eh(W,at);vt&&at.beforeEnter(J),i(J,I,H),((K=et&&et.onVnodeMounted)||vt||ht)&&Nt(()=>{K&&Gt(K,j,k),vt&&at.enter(J),ht&&ee(k,null,j,"mounted")},W)},M=(k,I,H,j,W)=>{if(H&&v(k,H),j)for(let X=0;X<j.length;X++)v(k,j[X]);if(W){let X=W.subTree;if(I===X){const Z=W.vnode;M(k,Z,Z.scopeId,Z.slotScopeIds,W.parent)}}},w=(k,I,H,j,W,X,Z,Y,J=0)=>{for(let K=J;K<k.length;K++){const it=k[K]=Y?Se(k[K]):Wt(k[K]);y(null,it,I,H,j,W,X,Z,Y)}},T=(k,I,H,j,W,X,Z)=>{const Y=I.el=k.el;let{patchFlag:J,dynamicChildren:K,dirs:it}=I;J|=k.patchFlag&16;const et=k.props||yt,st=I.props||yt;let at;H&&ke(H,!1),(at=st.onVnodeBeforeUpdate)&&Gt(at,H,I,k),it&&ee(I,k,H,"beforeUpdate"),H&&ke(H,!0);const ht=W&&I.type!=="foreignObject";if(K?x(k.dynamicChildren,K,Y,H,j,ht,X):Z||D(k,I,Y,null,H,j,ht,X,!1),J>0){if(J&16)F(Y,I,et,st,H,j,W);else if(J&2&&et.class!==st.class&&n(Y,"class",null,st.class,W),J&4&&n(Y,"style",et.style,st.style,W),J&8){const vt=I.dynamicProps;for(let gt=0;gt<vt.length;gt++){const St=vt[gt],At=et[St],Ht=st[St];(Ht!==At||St==="value")&&n(Y,St,At,Ht,W,k.children,H,j,rt)}}J&1&&k.children!==I.children&&_(Y,I.children)}else!Z&&K==null&&F(Y,I,et,st,H,j,W);((at=st.onVnodeUpdated)||it)&&Nt(()=>{at&&Gt(at,H,I,k),it&&ee(I,k,H,"updated")},j)},x=(k,I,H,j,W,X,Z)=>{for(let Y=0;Y<I.length;Y++){const J=k[Y],K=I[Y],it=J.el&&(J.type===Ft||!Qt(J,K)||J.shapeFlag&70)?p(J.el):H;y(J,K,it,null,j,W,X,Z,!0)}},F=(k,I,H,j,W,X,Z)=>{if(H!==j){if(H!==yt)for(const Y in H)!li(Y)&&!(Y in j)&&n(k,Y,H[Y],null,Z,I.children,W,X,rt);for(const Y in j){if(li(Y))continue;const J=j[Y],K=H[Y];J!==K&&Y!=="value"&&n(k,Y,K,J,Z,I.children,W,X,rt)}"value"in j&&n(k,"value",H.value,j.value)}},O=(k,I,H,j,W,X,Z,Y,J)=>{const K=I.el=k?k.el:o(""),it=I.anchor=k?k.anchor:o("");let{patchFlag:et,dynamicChildren:st,slotScopeIds:at}=I;at&&(Y=Y?Y.concat(at):at),k==null?(i(K,H,j),i(it,H,j),w(I.children,H,it,W,X,Z,Y,J)):et>0&&et&64&&st&&k.dynamicChildren?(x(k.dynamicChildren,st,H,W,X,Z,Y),(I.key!=null||W&&I===W.subTree)&&Ks(k,I,!0)):D(k,I,H,it,W,X,Z,Y,J)},d=(k,I,H,j,W,X,Z,Y,J)=>{I.slotScopeIds=Y,k==null?I.shapeFlag&512?W.ctx.activate(I,H,j,Z,J):C(I,H,j,W,X,Z,J):P(k,I,J)},C=(k,I,H,j,W,X,Z)=>{const Y=k.component=lh(k,j,W);if(Mi(k)&&(Y.ctx.renderer=z),ch(Y),Y.asyncDep){if(W&&W.registerDep(Y,E),!k.el){const J=Y.subTree=mt(Lt);R(null,J,I,H)}return}E(Y,k,I,H,W,X,Z)},P=(k,I,H)=>{const j=I.component=k.component;if(hu(k,I,H))if(j.asyncDep&&!j.asyncResolved){N(j,I,H);return}else j.next=I,tu(j.update),j.update();else I.el=k.el,j.vnode=I},E=(k,I,H,j,W,X,Z)=>{const Y=()=>{if(k.isMounted){let{next:it,bu:et,u:st,parent:at,vnode:ht}=k,vt=it,gt;ke(k,!1),it?(it.el=ht.el,N(k,it,Z)):it=ht,et&&ir(et),(gt=it.props&&it.props.onVnodeBeforeUpdate)&&Gt(gt,at,it,ht),ke(k,!0);const St=Yi(k),At=k.subTree;k.subTree=St,y(At,St,p(At.el),L(At),k,W,X),it.el=St.el,vt===null&&Ls(k,St.el),st&&Nt(st,W),(gt=it.props&&it.props.onVnodeUpdated)&&Nt(()=>Gt(gt,at,it,ht),W)}else{let it;const{el:et,props:st}=I,{bm:at,m:ht,parent:vt}=k,gt=He(I);if(ke(k,!1),at&&ir(at),!gt&&(it=st&&st.onVnodeBeforeMount)&&Gt(it,vt,I),ke(k,!0),et&&ot){const St=()=>{k.subTree=Yi(k),ot(et,k.subTree,k,W,null)};gt?I.type.__asyncLoader().then(()=>!k.isUnmounted&&St()):St()}else{const St=k.subTree=Yi(k);y(null,St,H,j,k,W,X),I.el=St.el}if(ht&&Nt(ht,W),!gt&&(it=st&&st.onVnodeMounted)){const St=I;Nt(()=>Gt(it,vt,St),W)}(I.shapeFlag&256||vt&&He(vt.vnode)&&vt.vnode.shapeFlag&256)&&k.a&&Nt(k.a,W),k.isMounted=!0,I=H=j=null}},J=k.effect=new lr(Y,()=>yn(K),k.scope),K=k.update=()=>J.run();K.id=k.uid,ke(k,!0),K()},N=(k,I,H)=>{I.component=k;const j=k.vnode.props;k.vnode=I,k.next=null,rf(k,I.props,j,H),af(k,I.children,H),gr(),ga(),pr()},D=(k,I,H,j,W,X,Z,Y,J=!1)=>{const K=k&&k.children,it=k?k.shapeFlag:0,et=I.children,{patchFlag:st,shapeFlag:at}=I;if(st>0){if(st&128){U(K,et,H,j,W,X,Z,Y,J);return}else if(st&256){G(K,et,H,j,W,X,Z,Y,J);return}}at&8?(it&16&&rt(K,W,X),et!==K&&_(H,et)):it&16?at&16?U(K,et,H,j,W,X,Z,Y,J):rt(K,W,X,!0):(it&8&&_(H,""),at&16&&w(et,H,j,W,X,Z,Y,J))},G=(k,I,H,j,W,X,Z,Y,J)=>{k=k||er,I=I||er;const K=k.length,it=I.length,et=Math.min(K,it);let st;for(st=0;st<et;st++){const at=I[st]=J?Se(I[st]):Wt(I[st]);y(k[st],at,H,null,W,X,Z,Y,J)}K>it?rt(k,W,X,!0,!1,et):w(I,H,j,W,X,Z,Y,J,et)},U=(k,I,H,j,W,X,Z,Y,J)=>{let K=0;const it=I.length;let et=k.length-1,st=it-1;for(;K<=et&&K<=st;){const at=k[K],ht=I[K]=J?Se(I[K]):Wt(I[K]);if(Qt(at,ht))y(at,ht,H,null,W,X,Z,Y,J);else break;K++}for(;K<=et&&K<=st;){const at=k[et],ht=I[st]=J?Se(I[st]):Wt(I[st]);if(Qt(at,ht))y(at,ht,H,null,W,X,Z,Y,J);else break;et--,st--}if(K>et){if(K<=st){const at=st+1,ht=at<it?I[at].el:j;for(;K<=st;)y(null,I[K]=J?Se(I[K]):Wt(I[K]),H,ht,W,X,Z,Y,J),K++}}else if(K>st)for(;K<=et;)V(k[K],W,X,!0),K++;else{const at=K,ht=K,vt=new Map;for(K=ht;K<=st;K++){const jt=I[K]=J?Se(I[K]):Wt(I[K]);jt.key!=null&&vt.set(jt.key,K)}let gt,St=0;const At=st-ht+1;let Ht=!1,Di=0;const Ne=new Array(At);for(K=0;K<At;K++)Ne[K]=0;for(K=at;K<=et;K++){const jt=k[K];if(St>=At){V(jt,W,X,!0);continue}let te;if(jt.key!=null)te=vt.get(jt.key);else for(gt=ht;gt<=st;gt++)if(Ne[gt-ht]===0&&Qt(jt,I[gt])){te=gt;break}te===void 0?V(jt,W,X,!0):(Ne[te-ht]=K+1,te>=Di?Di=te:Ht=!0,y(jt,I[te],H,null,W,X,Z,Y,J),St++)}const Xe=Ht?lf(Ne):er;for(gt=Xe.length-1,K=At-1;K>=0;K--){const jt=ht+K,te=I[jt],na=jt+1<it?I[jt+1].el:j;Ne[K]===0?y(null,te,H,na,W,X,Z,Y,J):Ht&&(gt<0||K!==Xe[gt]?$(te,H,na,2):gt--)}}},$=(k,I,H,j,W=null)=>{const{el:X,type:Z,transition:Y,children:J,shapeFlag:K}=k;if(K&6){$(k.component.subTree,I,H,j);return}if(K&128){k.suspense.move(I,H,j);return}if(K&64){Z.move(k,I,H,z);return}if(Z===Ft){i(X,I,H);for(let et=0;et<J.length;et++)$(J[et],I,H,j);i(k.anchor,I,H);return}if(Z===je){l(k,I,H);return}if(j!==2&&K&1&&Y)if(j===0)Y.beforeEnter(X),i(X,I,H),Nt(()=>Y.enter(X),W);else{const{leave:et,delayLeave:st,afterLeave:at}=Y,ht=()=>i(X,I,H),vt=()=>{et(X,()=>{ht(),at&&at()})};st?st(X,ht,vt):vt()}else i(X,I,H)},V=(k,I,H,j=!1,W=!1)=>{const{type:X,props:Z,ref:Y,children:J,dynamicChildren:K,shapeFlag:it,patchFlag:et,dirs:st}=k;if(Y!=null&&an(Y,null,H,k,!0),it&256){I.ctx.deactivate(k);return}const at=it&1&&st,ht=!He(k);let vt;if(ht&&(vt=Z&&Z.onVnodeBeforeUnmount)&&Gt(vt,I,k),it&6)tt(k.component,H,j);else{if(it&128){k.suspense.unmount(H,j);return}at&&ee(k,null,I,"beforeUnmount"),it&64?k.type.remove(k,I,H,W,z,j):K&&(X!==Ft||et>0&&et&64)?rt(K,I,H,!1,!0):(X===Ft&&et&384||!W&&it&16)&&rt(J,I,H),j&&q(k)}(ht&&(vt=Z&&Z.onVnodeUnmounted)||at)&&Nt(()=>{vt&&Gt(vt,I,k),at&&ee(k,null,I,"unmounted")},H)},q=k=>{const{type:I,el:H,anchor:j,transition:W}=k;if(I===Ft){Q(H,j);return}if(I===je){u(k);return}const X=()=>{s(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:Z,delayLeave:Y}=W,J=()=>Z(H,X);Y?Y(k.el,X,J):J()}else X()},Q=(k,I)=>{let H;for(;k!==I;)H=m(k),s(k),k=H;s(I)},tt=(k,I,H)=>{const{bum:j,scope:W,update:X,subTree:Z,um:Y}=k;j&&ir(j),W.stop(),X&&(X.active=!1,V(Z,k,I,H)),Y&&Nt(Y,I),Nt(()=>{k.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},rt=(k,I,H,j=!1,W=!1,X=0)=>{for(let Z=X;Z<k.length;Z++)V(k[Z],I,H,j,W)},L=k=>k.shapeFlag&6?L(k.component.subTree):k.shapeFlag&128?k.suspense.next():m(k.anchor||k.el),B=(k,I,H)=>{k==null?I._vnode&&V(I._vnode,null,null,!0):y(I._vnode||null,k,I,null,null,null,H),ga(),nn(),I._vnode=k},z={p:y,um:V,m:$,r:q,mt:C,mc:w,pc:D,pbc:x,n:L,o:t};let lt,ot;return e&&([lt,ot]=e(z)),{render:B,hydrate:lt,createApp:tf(B,lt)}}function ke({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function eh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ks(t,e,r=!1){const i=t.children,s=e.children;if(nt(i)&&nt(s))for(let n=0;n<i.length;n++){const a=i[n];let o=s[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[n]=Se(s[n]),o.el=a.el),r||Ks(a,o)),o.type===We&&(o.el=a.el)}}function lf(t){const e=t.slice(),r=[0];let i,s,n,a,o;const h=t.length;for(i=0;i<h;i++){const c=t[i];if(c!==0){if(s=r[r.length-1],t[s]<c){e[i]=s,r.push(i);continue}for(n=0,a=r.length-1;n<a;)o=n+a>>1,t[r[o]]<c?n=o+1:a=o;c<t[r[n]]&&(n>0&&(e[i]=r[n-1]),r[n]=i)}}for(n=r.length,a=r[n-1];n-- >0;)r[n]=a,a=e[a];return r}const hf=t=>t.__isTeleport,ui=t=>t&&(t.disabled||t.disabled===""),Ta=t=>typeof SVGElement<"u"&&t instanceof SVGElement,os=(t,e)=>{const r=t&&t.to;return xt(r)?e?e(r):null:r},cf={__isTeleport:!0,process(t,e,r,i,s,n,a,o,h,c){const{mc:_,pc:p,pbc:m,o:{insert:v,querySelector:g,createText:y,createComment:S}}=c,R=ui(e.props);let{shapeFlag:f,children:l,dynamicChildren:u}=e;if(t==null){const b=e.el=y(""),A=e.anchor=y("");v(b,r,i),v(A,r,i);const M=e.target=os(e.props,g),w=e.targetAnchor=y("");M&&(v(w,M),a=a||Ta(M));const T=(x,F)=>{f&16&&_(l,x,F,s,n,a,o,h)};R?T(r,A):M&&T(M,w)}else{e.el=t.el;const b=e.anchor=t.anchor,A=e.target=t.target,M=e.targetAnchor=t.targetAnchor,w=ui(t.props),T=w?r:A,x=w?b:M;if(a=a||Ta(A),u?(m(t.dynamicChildren,u,T,s,n,a,o),Ks(t,e,!0)):h||p(t,e,T,x,s,n,a,o,!1),R)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):zi(e,r,b,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=os(e.props,g);F&&zi(e,F,null,c,0)}else w&&zi(e,A,M,c,1)}rh(e)},remove(t,e,r,i,{um:s,o:{remove:n}},a){const{shapeFlag:o,children:h,anchor:c,targetAnchor:_,target:p,props:m}=t;if(p&&n(_),a&&n(c),o&16){const v=a||!ui(m);for(let g=0;g<h.length;g++){const y=h[g];s(y,e,r,v,!!y.dynamicChildren)}}},move:zi,hydrate:uf};function zi(t,e,r,{o:{insert:i},m:s},n=2){n===0&&i(t.targetAnchor,e,r);const{el:a,anchor:o,shapeFlag:h,children:c,props:_}=t,p=n===2;if(p&&i(a,e,r),(!p||ui(_))&&h&16)for(let m=0;m<c.length;m++)s(c[m],e,r,2);p&&i(o,e,r)}function uf(t,e,r,i,s,n,{o:{nextSibling:a,parentNode:o,querySelector:h}},c){const _=e.target=os(e.props,h);if(_){const p=_._lpa||_.firstChild;if(e.shapeFlag&16)if(ui(e.props))e.anchor=c(a(t),e,o(t),r,i,s,n),e.targetAnchor=p;else{e.anchor=a(t);let m=p;for(;m;)if(m=a(m),m&&m.nodeType===8&&m.data==="teleport anchor"){e.targetAnchor=m,_._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(p,e,_,r,i,s,n)}rh(e)}return e.anchor&&a(e.anchor)}const ff=cf;function rh(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Ft=Symbol.for("v-fgt"),We=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),je=Symbol.for("v-stc"),fi=[];let Ut=null;function de(t=!1){fi.push(Ut=t?null:[])}function ih(){fi.pop(),Ut=fi[fi.length-1]||null}let ze=1;function ls(t){ze+=t}function nh(t){return t.dynamicChildren=ze>0?Ut||er:null,ih(),ze>0&&Ut&&Ut.push(t),t}function En(t,e,r,i,s,n){return nh(qs(t,e,r,i,s,n,!0))}function Ni(t,e,r,i,s){return nh(mt(t,e,r,i,s,!0))}function Fe(t){return t?t.__v_isVNode===!0:!1}function Qt(t,e){return t.type===e.type&&t.key===e.key}function df(t){}const An="__vInternal",sh=({key:t})=>t??null,Xi=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||Pt(t)||ct(t)?{i:Mt,r:t,k:e,f:!!r}:t:null);function qs(t,e=null,r=null,i=0,s=null,n=t===Ft?0:1,a=!1,o=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sh(e),ref:e&&Xi(e),scopeId:Sn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Mt};return o?(Ws(h,r),n&128&&t.normalize(h)):r&&(h.shapeFlag|=xt(r)?8:16),ze>0&&!a&&Ut&&(h.patchFlag>0||n&6)&&h.patchFlag!==32&&Ut.push(h),h}const mt=gf;function gf(t,e=null,r=null,i=0,s=null,n=!1){if((!t||t===Bl)&&(t=Lt),Fe(t)){const o=ie(t,e,!0);return r&&Ws(o,r),ze>0&&!n&&Ut&&(o.shapeFlag&6?Ut[Ut.indexOf(t)]=o:Ut.push(o)),o.patchFlag|=-2,o}if(wf(t)&&(t=t.__vccOpts),e){e=ah(e);let{class:o,style:h}=e;o&&!xt(o)&&(e.class=Ei(o)),bt(h)&&(Fs(h)&&!nt(h)&&(h=wt({},h)),e.style=Ti(h))}const a=xt(t)?1:Pl(t)?128:hf(t)?64:bt(t)?4:ct(t)?2:0;return qs(t,e,r,i,s,a,n,!0)}function ah(t){return t?Fs(t)||An in t?wt({},t):t:null}function ie(t,e,r=!1){const{props:i,ref:s,patchFlag:n,children:a}=t,o=e?oh(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&sh(o),ref:e&&e.ref?r&&s?nt(s)?s.concat(Xi(e)):[s,Xi(e)]:Xi(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ft?n===-1?16:n|16:n,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ie(t.ssContent),ssFallback:t.ssFallback&&ie(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ki(t=" ",e=0){return mt(We,null,t,e)}function pf(t,e){const r=mt(je,null,t);return r.staticCount=e,r}function vf(t="",e=!1){return e?(de(),Ni(Lt,null,t)):mt(Lt,null,t)}function Wt(t){return t==null||typeof t=="boolean"?mt(Lt):nt(t)?mt(Ft,null,t.slice()):typeof t=="object"?Se(t):mt(We,null,String(t))}function Se(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ie(t)}function Ws(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(nt(e))r=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Ws(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(An in e)?e._ctx=Mt:s===3&&Mt&&(Mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Mt},r=32):(e=String(e),i&64?(r=16,e=[ki(e)]):r=8);t.children=e,t.shapeFlag|=r}function oh(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Ei([e.class,i.class]));else if(s==="style")e.style=Ti([e.style,i.style]);else if(xi(s)){const n=e[s],a=i[s];a&&n!==a&&!(nt(n)&&n.includes(a))&&(e[s]=n?[].concat(n,a):a)}else s!==""&&(e[s]=i[s])}return e}function Gt(t,e,r,i=null){zt(t,e,7,[r,i])}const _f=Kl();let mf=0;function lh(t,e,r){const i=t.type,s=(e?e.appContext:t.appContext)||_f,n={uid:mf++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new xs(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$l(i,s),emitsOptions:xl(i,s),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=ru.bind(null,n),t.ce&&t.ce(n),n}let Rt=null;const ge=()=>Rt||Mt;let zs,Je,Ea="__VUE_INSTANCE_SETTERS__";(Je=Jn()[Ea])||(Je=Jn()[Ea]=[]),Je.push(t=>Rt=t),zs=t=>{Je.length>1?Je.forEach(e=>e(t)):Je[0](t)};const Me=t=>{zs(t),t.scope.on()},Te=()=>{Rt&&Rt.scope.off(),zs(null)};function hh(t){return t.vnode.shapeFlag&4}let cr=!1;function ch(t,e=!1){cr=e;const{props:r,children:i}=t.vnode,s=hh(t);ef(t,r,s,e),sf(t,i);const n=s?yf(t,e):void 0;return cr=!1,n}function yf(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Ri(new Proxy(t.ctx,is));const{setup:i}=r;if(i){const s=t.setupContext=i.length>1?fh(t):null;Me(t),gr();const n=ue(i,t,0,[t.props,s]);if(pr(),Te(),Cs(n)){if(n.then(Te,Te),e)return n.then(a=>{hs(t,a,e)}).catch(a=>{Ye(a,t,0)});t.asyncDep=n}else hs(t,n,e)}else uh(t,e)}function hs(t,e,r){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:bt(e)&&(t.setupState=Ns(e)),uh(t,r)}let on,cs;function bf(t){on=t,cs=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Nu))}}const Sf=()=>!on;function uh(t,e,r){const i=t.type;if(!t.render){if(!e&&on&&!i.render){const s=i.template||Hs(t).template;if(s){const{isCustomElement:n,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:h}=i,c=wt(wt({isCustomElement:n,delimiters:o},a),h);i.render=on(s,c)}}t.render=i.render||Zt,cs&&cs(t)}{Me(t),gr();try{$u(t)}finally{pr(),Te()}}}function Cf(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Vt(t,"get","$attrs"),e[r]}}))}function fh(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Cf(t)},slots:t.slots,emit:t.emit,expose:e}}function Rn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ns(Ri(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ci)return ci[r](t)},has(e,r){return r in e||r in ci}}))}function us(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function wf(t){return ct(t)&&"__vccOpts"in t}const $s=(t,e)=>Yc(t,e,cr);function dh(t,e,r){const i=arguments.length;return i===2?bt(e)&&!nt(e)?Fe(e)?mt(t,null,[e]):mt(t,e):mt(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Fe(r)&&(r=[r]),mt(t,e,r))}const gh=Symbol.for("v-scx"),ph=()=>ar(gh);function xf(){}function Pf(t,e,r,i){const s=r[i];if(s&&vh(s,t))return s;const n=e();return n.memo=t.slice(),r[i]=n}function vh(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(Ee(r[i],e[i]))return!1;return ze>0&&Ut&&Ut.push(t),!0}const _h="3.3.7",Tf={createComponentInstance:lh,setupComponent:ch,renderComponentRoot:Yi,setCurrentRenderingInstance:yi,isVNode:Fe,normalizeVNode:Wt},Ef=Tf,Af=null,Rf=null,Ff="http://www.w3.org/2000/svg",Ue=typeof document<"u"?document:null,Aa=Ue&&Ue.createElement("template"),Mf={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const s=e?Ue.createElementNS(Ff,t):Ue.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Ue.createTextNode(t),createComment:t=>Ue.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ue.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,s,n){const a=r?r.previousSibling:e.lastChild;if(s&&(s===n||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===n||!(s=s.nextSibling)););else{Aa.innerHTML=i?`<svg>${t}</svg>`:t;const o=Aa.content;if(i){const h=o.firstChild;for(;h.firstChild;)o.appendChild(h.firstChild);o.removeChild(h)}e.insertBefore(o,r)}return[a?a.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},_e="transition",vr="animation",ur=Symbol("_vtc"),Ys=(t,{slots:e})=>dh(Rl,yh(t),e);Ys.displayName="Transition";const mh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Of=Ys.props=wt({},Gs,mh),Le=(t,e=[])=>{nt(t)?t.forEach(r=>r(...e)):t&&t(...e)},Ra=t=>t?nt(t)?t.some(e=>e.length>1):t.length>1:!1;function yh(t){const e={};for(const O in t)O in mh||(e[O]=t[O]);if(t.css===!1)return e;const{name:r="v",type:i,duration:s,enterFromClass:n=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:h=n,appearActiveClass:c=a,appearToClass:_=o,leaveFromClass:p=`${r}-leave-from`,leaveActiveClass:m=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=t,g=Nf(s),y=g&&g[0],S=g&&g[1],{onBeforeEnter:R,onEnter:f,onEnterCancelled:l,onLeave:u,onLeaveCancelled:b,onBeforeAppear:A=R,onAppear:M=f,onAppearCancelled:w=l}=e,T=(O,d,C)=>{me(O,d?_:o),me(O,d?c:a),C&&C()},x=(O,d)=>{O._isLeaving=!1,me(O,p),me(O,v),me(O,m),d&&d()},F=O=>(d,C)=>{const P=O?M:f,E=()=>T(d,O,C);Le(P,[d,E]),Fa(()=>{me(d,O?h:n),ae(d,O?_:o),Ra(P)||Ma(d,i,y,E)})};return wt(e,{onBeforeEnter(O){Le(R,[O]),ae(O,n),ae(O,a)},onBeforeAppear(O){Le(A,[O]),ae(O,h),ae(O,c)},onEnter:F(!1),onAppear:F(!0),onLeave(O,d){O._isLeaving=!0;const C=()=>x(O,d);ae(O,p),Sh(),ae(O,m),Fa(()=>{O._isLeaving&&(me(O,p),ae(O,v),Ra(u)||Ma(O,i,S,C))}),Le(u,[O,C])},onEnterCancelled(O){T(O,!1),Le(l,[O])},onAppearCancelled(O){T(O,!0),Le(w,[O])},onLeaveCancelled(O){x(O),Le(b,[O])}})}function Nf(t){if(t==null)return null;if(bt(t))return[Un(t.enter),Un(t.leave)];{const e=Un(t);return[e,e]}}function Un(t){return tn(t)}function ae(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[ur]||(t[ur]=new Set)).add(e)}function me(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[ur];r&&(r.delete(e),r.size||(t[ur]=void 0))}function Fa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let kf=0;function Ma(t,e,r,i){const s=t._endId=++kf,n=()=>{s===t._endId&&i()};if(r)return setTimeout(n,r);const{type:a,timeout:o,propCount:h}=bh(t,e);if(!a)return i();const c=a+"end";let _=0;const p=()=>{t.removeEventListener(c,m),n()},m=v=>{v.target===t&&++_>=h&&p()};setTimeout(()=>{_<h&&p()},o+1),t.addEventListener(c,m)}function bh(t,e){const r=window.getComputedStyle(t),i=g=>(r[g]||"").split(", "),s=i(`${_e}Delay`),n=i(`${_e}Duration`),a=Oa(s,n),o=i(`${vr}Delay`),h=i(`${vr}Duration`),c=Oa(o,h);let _=null,p=0,m=0;e===_e?a>0&&(_=_e,p=a,m=n.length):e===vr?c>0&&(_=vr,p=c,m=h.length):(p=Math.max(a,c),_=p>0?a>c?_e:vr:null,m=_?_===_e?n.length:h.length:0);const v=_===_e&&/\b(transform|all)(,|$)/.test(i(`${_e}Property`).toString());return{type:_,timeout:p,propCount:m,hasTransform:v}}function Oa(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>Na(r)+Na(t[i])))}function Na(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Sh(){return document.body.offsetHeight}function Lf(t,e,r){const i=t[ur];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Xs=Symbol("_vod"),Ch={beforeMount(t,{value:e},{transition:r}){t[Xs]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):_r(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),_r(t,!0),i.enter(t)):i.leave(t,()=>{_r(t,!1)}):_r(t,e))},beforeUnmount(t,{value:e}){_r(t,e)}};function _r(t,e){t.style.display=e?t[Xs]:"none"}function Df(){Ch.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function If(t,e,r){const i=t.style,s=xt(r);if(r&&!s){if(e&&!xt(e))for(const n in e)r[n]==null&&fs(i,n,"");for(const n in r)fs(i,n,r[n])}else{const n=i.display;s?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),Xs in t&&(i.display=n)}}const ka=/\s*!important$/;function fs(t,e,r){if(nt(r))r.forEach(i=>fs(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=Gf(t,e);ka.test(r)?t.setProperty(Yt(i),r.replace(ka,""),"important"):t[i]=r}}const La=["Webkit","Moz","ms"],Bn={};function Gf(t,e){const r=Bn[e];if(r)return r;let i=Bt(e);if(i!=="filter"&&i in t)return Bn[e]=i;i=Pi(i);for(let s=0;s<La.length;s++){const n=La[s]+i;if(n in t)return Bn[e]=n}return e}const Da="http://www.w3.org/1999/xlink";function Uf(t,e,r,i,s){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Da,e.slice(6,e.length)):t.setAttributeNS(Da,e,r);else{const n=fc(e);r==null||n&&!Zo(r)?t.removeAttribute(e):t.setAttribute(e,n?"":r)}}function Bf(t,e,r,i,s,n,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,s,n),t[e]=r??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=r;const c=o==="OPTION"?t.getAttribute("value"):t.value,_=r??"";c!==_&&(t.value=_),r==null&&t.removeAttribute(e);return}let h=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=Zo(r):r==null&&c==="string"?(r="",h=!0):c==="number"&&(r=0,h=!0)}try{t[e]=r}catch{}h&&t.removeAttribute(e)}function le(t,e,r,i){t.addEventListener(e,r,i)}function Vf(t,e,r,i){t.removeEventListener(e,r,i)}const Ia=Symbol("_vei");function Hf(t,e,r,i,s=null){const n=t[Ia]||(t[Ia]={}),a=n[e];if(i&&a)a.value=i;else{const[o,h]=jf(e);if(i){const c=n[e]=Wf(i,s);le(t,o,c,h)}else a&&(Vf(t,o,a,h),n[e]=void 0)}}const Ga=/(?:Once|Passive|Capture)$/;function jf(t){let e;if(Ga.test(t)){e={};let i;for(;i=t.match(Ga);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let Vn=0;const Kf=Promise.resolve(),qf=()=>Vn||(Kf.then(()=>Vn=0),Vn=Date.now());function Wf(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;zt(zf(i,r.value),e,5,[i])};return r.value=t,r.attached=qf(),r}function zf(t,e){if(nt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Ua=/^on[a-z]/,$f=(t,e,r,i,s=!1,n,a,o,h)=>{e==="class"?Lf(t,i,s):e==="style"?If(t,r,i):xi(e)?bs(e)||Hf(t,e,r,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yf(t,e,i,s))?Bf(t,e,i,n,a,o,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Uf(t,e,i,s))};function Yf(t,e,r,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Ua.test(e)&&ct(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ua.test(e)&&xt(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function wh(t,e){const r=Us(t);class i extends Fn{constructor(n){super(r,n,e)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Xf=t=>wh(t,kh),Jf=typeof HTMLElement<"u"?HTMLElement:class{};class Fn extends Jf{constructor(e,r={},i){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),mn(()=>{this._connected||(ps(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,s=!1)=>{const{props:n,styles:a}=i;let o;if(n&&!nt(n))for(const h in n){const c=n[h];(c===Number||c&&c.type===Number)&&(h in this._props&&(this._props[h]=tn(this._props[h])),(o||(o=Object.create(null)))[Bt(h)]=!0)}this._numberProps=o,s&&this._resolveProps(i),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,i=nt(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(Bt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n)}})}_setAttr(e){let r=this.getAttribute(e);const i=Bt(e);this._numberProps&&this._numberProps[i]&&(r=tn(r)),this._setProp(i,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,i=!0,s=!0){r!==this._props[e]&&(this._props[e]=r,s&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(Yt(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Yt(e),r+""):r||this.removeAttribute(Yt(e))))}_update(){ps(this._createVNode(),this.shadowRoot)}_createVNode(){const e=mt(this._def,wt({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const i=(n,a)=>{this.dispatchEvent(new CustomEvent(n,{detail:a}))};r.emit=(n,...a)=>{i(n,a),Yt(n)!==n&&i(Yt(n),a)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof Fn){r.parent=s._instance,r.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const i=document.createElement("style");i.textContent=r,this.shadowRoot.appendChild(i)})}}function Qf(t="$style"){{const e=ge();if(!e)return yt;const r=e.type.__cssModules;if(!r)return yt;const i=r[t];return i||yt}}function Zf(t){const e=ge();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(n=>gs(n,s))},i=()=>{const s=t(e.proxy);ds(e.subTree,s),r(s)};El(i),Oi(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),Tn(()=>s.disconnect())})}function ds(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{ds(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)gs(t.el,e);else if(t.type===Ft)t.children.forEach(r=>ds(r,e));else if(t.type===je){let{el:r,anchor:i}=t;for(;r&&(gs(r,e),r!==i);)r=r.nextSibling}}function gs(t,e){if(t.nodeType===1){const r=t.style;for(const i in e)r.setProperty(`--${i}`,e[i])}}const xh=new WeakMap,Ph=new WeakMap,ln=Symbol("_moveCb"),Ba=Symbol("_enterCb"),Th={name:"TransitionGroup",props:wt({},Of,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=ge(),i=Is();let s,n;return xn(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!sd(s[0].el,r.vnode.el,a))return;s.forEach(rd),s.forEach(id);const o=s.filter(nd);Sh(),o.forEach(h=>{const c=h.el,_=c.style;ae(c,a),_.transform=_.webkitTransform=_.transitionDuration="";const p=c[ln]=m=>{m&&m.target!==c||(!m||/transform$/.test(m.propertyName))&&(c.removeEventListener("transitionend",p),c[ln]=null,me(c,a))};c.addEventListener("transitionend",p)})}),()=>{const a=pt(t),o=yh(a);let h=a.tag||Ft;s=n,n=e.default?Cn(e.default()):[];for(let c=0;c<n.length;c++){const _=n[c];_.key!=null&&qe(_,hr(_,o,i,r))}if(s)for(let c=0;c<s.length;c++){const _=s[c];qe(_,hr(_,o,i,r)),xh.set(_,_.el.getBoundingClientRect())}return mt(h,null,n)}}},td=t=>delete t.mode;Th.props;const ed=Th;function rd(t){const e=t.el;e[ln]&&e[ln](),e[Ba]&&e[Ba]()}function id(t){Ph.set(t,t.el.getBoundingClientRect())}function nd(t){const e=xh.get(t),r=Ph.get(t),i=e.left-r.left,s=e.top-r.top;if(i||s){const n=t.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${s}px)`,n.transitionDuration="0s",t}}function sd(t,e,r){const i=t.cloneNode(),s=t[ur];s&&s.forEach(o=>{o.split(/\s+/).forEach(h=>h&&i.classList.remove(h))}),r.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const n=e.nodeType===1?e:e.parentNode;n.appendChild(i);const{hasTransform:a}=bh(i);return n.removeChild(i),a}const Oe=t=>{const e=t.props["onUpdate:modelValue"]||!1;return nt(e)?r=>ir(e,r):e};function ad(t){t.target.composing=!0}function Va(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xt=Symbol("_assign"),hn={created(t,{modifiers:{lazy:e,trim:r,number:i}},s){t[Xt]=Oe(s);const n=i||s.props&&s.props.type==="number";le(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;r&&(o=o.trim()),n&&(o=Zi(o)),t[Xt](o)}),r&&le(t,"change",()=>{t.value=t.value.trim()}),e||(le(t,"compositionstart",ad),le(t,"compositionend",Va),le(t,"change",Va))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:i,number:s}},n){if(t[Xt]=Oe(n),t.composing||document.activeElement===t&&t.type!=="range"&&(r||i&&t.value.trim()===e||(s||t.type==="number")&&Zi(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},Js={deep:!0,created(t,e,r){t[Xt]=Oe(r),le(t,"change",()=>{const i=t._modelValue,s=fr(t),n=t.checked,a=t[Xt];if(nt(i)){const o=fn(i,s),h=o!==-1;if(n&&!h)a(i.concat(s));else if(!n&&h){const c=[...i];c.splice(o,1),a(c)}}else if($e(i)){const o=new Set(i);n?o.add(s):o.delete(s),a(o)}else a(Ah(t,n))})},mounted:Ha,beforeUpdate(t,e,r){t[Xt]=Oe(r),Ha(t,e,r)}};function Ha(t,{value:e,oldValue:r},i){t._modelValue=e,nt(e)?t.checked=fn(e,i.props.value)>-1:$e(e)?t.checked=e.has(i.props.value):e!==r&&(t.checked=Ae(e,Ah(t,!0)))}const Qs={created(t,{value:e},r){t.checked=Ae(e,r.props.value),t[Xt]=Oe(r),le(t,"change",()=>{t[Xt](fr(t))})},beforeUpdate(t,{value:e,oldValue:r},i){t[Xt]=Oe(i),e!==r&&(t.checked=Ae(e,i.props.value))}},Eh={deep:!0,created(t,{value:e,modifiers:{number:r}},i){const s=$e(e);le(t,"change",()=>{const n=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>r?Zi(fr(a)):fr(a));t[Xt](t.multiple?s?new Set(n):n:n[0])}),t[Xt]=Oe(i)},mounted(t,{value:e}){ja(t,e)},beforeUpdate(t,e,r){t[Xt]=Oe(r)},updated(t,{value:e}){ja(t,e)}};function ja(t,e){const r=t.multiple;if(!(r&&!nt(e)&&!$e(e))){for(let i=0,s=t.options.length;i<s;i++){const n=t.options[i],a=fr(n);if(r)nt(e)?n.selected=fn(e,a)>-1:n.selected=e.has(a);else if(Ae(fr(n),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fr(t){return"_value"in t?t._value:t.value}function Ah(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Rh={created(t,e,r){$i(t,e,r,null,"created")},mounted(t,e,r){$i(t,e,r,null,"mounted")},beforeUpdate(t,e,r,i){$i(t,e,r,i,"beforeUpdate")},updated(t,e,r,i){$i(t,e,r,i,"updated")}};function Fh(t,e){switch(t){case"SELECT":return Eh;case"TEXTAREA":return hn;default:switch(e){case"checkbox":return Js;case"radio":return Qs;default:return hn}}}function $i(t,e,r,i,s){const a=Fh(t.tagName,r.props&&r.props.type)[s];a&&a(t,e,r,i)}function od(){hn.getSSRProps=({value:t})=>({value:t}),Qs.getSSRProps=({value:t},e)=>{if(e.props&&Ae(e.props.value,t))return{checked:!0}},Js.getSSRProps=({value:t},e)=>{if(nt(t)){if(e.props&&fn(t,e.props.value)>-1)return{checked:!0}}else if($e(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Rh.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Fh(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const ld=["ctrl","shift","alt","meta"],hd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ld.some(r=>t[`${r}Key`]&&!e.includes(r))},cd=(t,e)=>(r,...i)=>{for(let s=0;s<e.length;s++){const n=hd[e[s]];if(n&&n(r,e))return}return t(r,...i)},ud={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fd=(t,e)=>r=>{if(!("key"in r))return;const i=Yt(r.key);if(e.some(s=>s===i||ud[s]===i))return t(r)},Mh=wt({patchProp:$f},Mf);let di,Ka=!1;function Oh(){return di||(di=Ql(Mh))}function Nh(){return di=Ka?di:Zl(Mh),Ka=!0,di}const ps=(...t)=>{Oh().render(...t)},kh=(...t)=>{Nh().hydrate(...t)},Lh=(...t)=>{const e=Oh().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=Dh(i);if(!s)return;const n=e._component;!ct(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.innerHTML="";const a=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e},dd=(...t)=>{const e=Nh().createApp(...t),{mount:r}=e;return e.mount=i=>{const s=Dh(i);if(s)return r(s,!0,s instanceof SVGElement)},e};function Dh(t){return xt(t)?document.querySelector(t):t}let qa=!1;const gd=()=>{qa||(qa=!0,od(),Df())},pd=()=>{},vd=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Rl,BaseTransitionPropsValidators:Gs,Comment:Lt,EffectScope:xs,Fragment:Ft,KeepAlive:xu,ReactiveEffect:lr,Static:je,Suspense:uu,Teleport:ff,Text:We,Transition:Ys,TransitionGroup:ed,VueElement:Fn,assertNumber:Jc,callWithAsyncErrorHandling:zt,callWithErrorHandling:ue,camelize:Bt,capitalize:Pi,cloneVNode:ie,compatUtils:Rf,compile:pd,computed:$s,createApp:Lh,createBlock:Ni,createCommentVNode:vf,createElementBlock:En,createElementVNode:qs,createHydrationRenderer:Zl,createPropsRestProxy:Wu,createRenderer:Ql,createSSRApp:dd,createSlots:Fu,createStaticVNode:pf,createTextVNode:ki,createVNode:mt,customRef:Kc,defineAsyncComponent:Cu,defineComponent:Us,defineCustomElement:wh,defineEmits:Lu,defineExpose:Du,defineModel:Uu,defineOptions:Iu,defineProps:ku,defineSSRCustomElement:Xf,defineSlots:Gu,get devtools(){return Ze},effect:vc,effectScope:Ps,getCurrentInstance:ge,getCurrentScope:Ts,getTransitionRawChildren:Cn,guardReactiveProps:ah,h:dh,handleError:Ye,hasInjectionContext:Wl,hydrate:kh,initCustomFormatter:xf,initDirectivesForSSR:gd,inject:ar,isMemoSame:vh,isProxy:Fs,isReactive:ce,isReadonly:Ke,isRef:Pt,isRuntimeOnly:Sf,isShallow:pi,isVNode:Fe,markRaw:Ri,mergeDefaults:Ku,mergeModels:qu,mergeProps:oh,nextTick:mn,normalizeClass:Ei,normalizeProps:cc,normalizeStyle:Ti,onActivated:Ml,onBeforeMount:kl,onBeforeUnmount:Pn,onBeforeUpdate:Ll,onDeactivated:Ol,onErrorCaptured:Ul,onMounted:Oi,onRenderTracked:Gl,onRenderTriggered:Il,onScopeDispose:il,onServerPrefetch:Dl,onUnmounted:Tn,onUpdated:xn,openBlock:de,popScopeId:nu,provide:ql,proxyRefs:Ns,pushScopeId:iu,queuePostFlushCb:rn,reactive:Ai,readonly:Rs,ref:we,registerRuntimeCompiler:bf,render:ps,renderList:Ru,renderSlot:Mu,resolveComponent:Pe,resolveDirective:Au,resolveDynamicComponent:Eu,resolveFilter:Af,resolveTransitionHooks:hr,setBlockTracking:ls,setDevtoolsHook:wl,setTransitionHooks:qe,shallowReactive:vl,shallowReadonly:Ic,shallowRef:Gc,ssrContextKey:gh,ssrUtils:Ef,stop:_c,toDisplayString:tl,toHandlerKey:hi,toHandlers:Ou,toRaw:pt,toRef:zc,toRefs:ml,toValue:Vc,transformVNodeArgs:df,triggerRef:Bc,unref:_n,useAttrs:Hu,useCssModule:Qf,useCssVars:Zf,useModel:ju,useSSRContext:ph,useSlots:Vu,useTransitionState:Is,vModelCheckbox:Js,vModelDynamic:Rh,vModelRadio:Qs,vModelSelect:Eh,vModelText:hn,vShow:Ch,version:_h,warn:Xc,watch:xe,watchEffect:_u,watchPostEffect:El,watchSyncEffect:mu,withAsyncContext:zu,withCtx:bi,withDefaults:Bu,withDirectives:bu,withKeys:fd,withMemo:Pf,withModifiers:cd,withScopeId:su},Symbol.toStringTag,{value:"Module"}));var _d=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ih;const Mn=t=>Ih=t,Gh=Symbol();function vs(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var gi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(gi||(gi={}));function md(){const t=Ps(!0),e=t.run(()=>we({}));let r=[],i=[];const s=Ri({install(n){Mn(s),s._a=n,n.provide(Gh,s),n.config.globalProperties.$pinia=s,i.forEach(a=>r.push(a)),i=[]},use(n){return!this._a&&!_d?i.push(n):r.push(n),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const Uh=()=>{};function Wa(t,e,r,i=Uh){t.push(e);const s=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!r&&Ts()&&il(s),s}function Qe(t,...e){t.slice().forEach(r=>{r(...e)})}const yd=t=>t();function _s(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,i)=>t.set(i,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],s=t[r];vs(s)&&vs(i)&&t.hasOwnProperty(r)&&!Pt(i)&&!ce(i)?t[r]=_s(s,i):t[r]=i}return t}const bd=Symbol();function Sd(t){return!vs(t)||!t.hasOwnProperty(bd)}const{assign:ye}=Object;function Cd(t){return!!(Pt(t)&&t.effect)}function wd(t,e,r,i){const{state:s,actions:n,getters:a}=e,o=r.state.value[t];let h;function c(){o||(r.state.value[t]=s?s():{});const _=ml(r.state.value[t]);return ye(_,n,Object.keys(a||{}).reduce((p,m)=>(p[m]=Ri($s(()=>{Mn(r);const v=r._s.get(t);return a[m].call(v,v)})),p),{}))}return h=Bh(t,c,e,r,i,!0),h}function Bh(t,e,r={},i,s,n){let a;const o=ye({actions:{}},r),h={deep:!0};let c,_,p=[],m=[],v;const g=i.state.value[t];!n&&!g&&(i.state.value[t]={}),we({});let y;function S(w){let T;c=_=!1,typeof w=="function"?(w(i.state.value[t]),T={type:gi.patchFunction,storeId:t,events:v}):(_s(i.state.value[t],w),T={type:gi.patchObject,payload:w,storeId:t,events:v});const x=y=Symbol();mn().then(()=>{y===x&&(c=!0)}),_=!0,Qe(p,T,i.state.value[t])}const R=n?function(){const{state:T}=r,x=T?T():{};this.$patch(F=>{ye(F,x)})}:Uh;function f(){a.stop(),p=[],m=[],i._s.delete(t)}function l(w,T){return function(){Mn(i);const x=Array.from(arguments),F=[],O=[];function d(E){F.push(E)}function C(E){O.push(E)}Qe(m,{args:x,name:w,store:b,after:d,onError:C});let P;try{P=T.apply(this&&this.$id===t?this:b,x)}catch(E){throw Qe(O,E),E}return P instanceof Promise?P.then(E=>(Qe(F,E),E)).catch(E=>(Qe(O,E),Promise.reject(E))):(Qe(F,P),P)}}const u={_p:i,$id:t,$onAction:Wa.bind(null,m),$patch:S,$reset:R,$subscribe(w,T={}){const x=Wa(p,w,T.detached,()=>F()),F=a.run(()=>xe(()=>i.state.value[t],O=>{(T.flush==="sync"?_:c)&&w({storeId:t,type:gi.direct,events:v},O)},ye({},h,T)));return x},$dispose:f},b=Ai(u);i._s.set(t,b);const M=(i._a&&i._a.runWithContext||yd)(()=>i._e.run(()=>(a=Ps()).run(e)));for(const w in M){const T=M[w];if(Pt(T)&&!Cd(T)||ce(T))n||(g&&Sd(T)&&(Pt(T)?T.value=g[w]:_s(T,g[w])),i.state.value[t][w]=T);else if(typeof T=="function"){const x=l(w,T);M[w]=x,o.actions[w]=T}}return ye(b,M),ye(pt(b),M),Object.defineProperty(b,"$state",{get:()=>i.state.value[t],set:w=>{S(T=>{ye(T,w)})}}),i._p.forEach(w=>{ye(b,a.run(()=>w({store:b,app:i._a,pinia:i,options:o})))}),g&&n&&r.hydrate&&r.hydrate(b.$state,g),c=!0,_=!0,b}function Vh(t,e,r){let i,s;const n=typeof e=="function";typeof t=="string"?(i=t,s=n?r:e):(s=t,i=t.id);function a(o,h){const c=Wl();return o=o||(c?ar(Gh,null):null),o&&Mn(o),o=Ih,o._s.has(i)||(n?Bh(i,e,s,o):wd(i,s,o)),o._s.get(i)}return a.$id=i,a}var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),r}var Hh={exports:{}};const Td=Pd(vd);var Ji={exports:{}},mr={},Hn={},jn={},za;function ft(){return za||(za=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof ms<"u"?ms:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.2.3",isBrowser:r(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return t.Konva.angleDeg?s*e:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(s){t.glob.Konva=s}};const i=s=>{t.Konva[s.prototype.getClassName()]=s};t._registerNode=i,t.Konva._injectGlobal(t.Konva)}(jn)),jn}var Kn={},$a;function Tt(){return $a||($a=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ft();class r{constructor(u=[1,0,0,1,0,0]){this.dirty=!1,this.m=u&&u.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(u){u.m[0]=this.m[0],u.m[1]=this.m[1],u.m[2]=this.m[2],u.m[3]=this.m[3],u.m[4]=this.m[4],u.m[5]=this.m[5]}point(u){var b=this.m;return{x:b[0]*u.x+b[2]*u.y+b[4],y:b[1]*u.x+b[3]*u.y+b[5]}}translate(u,b){return this.m[4]+=this.m[0]*u+this.m[2]*b,this.m[5]+=this.m[1]*u+this.m[3]*b,this}scale(u,b){return this.m[0]*=u,this.m[1]*=u,this.m[2]*=b,this.m[3]*=b,this}rotate(u){var b=Math.cos(u),A=Math.sin(u),M=this.m[0]*b+this.m[2]*A,w=this.m[1]*b+this.m[3]*A,T=this.m[0]*-A+this.m[2]*b,x=this.m[1]*-A+this.m[3]*b;return this.m[0]=M,this.m[1]=w,this.m[2]=T,this.m[3]=x,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(u,b){var A=this.m[0]+this.m[2]*b,M=this.m[1]+this.m[3]*b,w=this.m[2]+this.m[0]*u,T=this.m[3]+this.m[1]*u;return this.m[0]=A,this.m[1]=M,this.m[2]=w,this.m[3]=T,this}multiply(u){var b=this.m[0]*u.m[0]+this.m[2]*u.m[1],A=this.m[1]*u.m[0]+this.m[3]*u.m[1],M=this.m[0]*u.m[2]+this.m[2]*u.m[3],w=this.m[1]*u.m[2]+this.m[3]*u.m[3],T=this.m[0]*u.m[4]+this.m[2]*u.m[5]+this.m[4],x=this.m[1]*u.m[4]+this.m[3]*u.m[5]+this.m[5];return this.m[0]=b,this.m[1]=A,this.m[2]=M,this.m[3]=w,this.m[4]=T,this.m[5]=x,this}invert(){var u=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*u,A=-this.m[1]*u,M=-this.m[2]*u,w=this.m[0]*u,T=u*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),x=u*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=A,this.m[2]=M,this.m[3]=w,this.m[4]=T,this.m[5]=x,this}getMatrix(){return this.m}decompose(){var u=this.m[0],b=this.m[1],A=this.m[2],M=this.m[3],w=this.m[4],T=this.m[5],x=u*M-b*A;let F={x:w,y:T,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(u!=0||b!=0){var O=Math.sqrt(u*u+b*b);F.rotation=b>0?Math.acos(u/O):-Math.acos(u/O),F.scaleX=O,F.scaleY=x/O,F.skewX=(u*A+b*M)/x,F.skewY=0}else if(A!=0||M!=0){var d=Math.sqrt(A*A+M*M);F.rotation=Math.PI/2-(M>0?Math.acos(-A/d):-Math.acos(A/d)),F.scaleX=x/d,F.scaleY=d,F.skewX=0,F.skewY=(u*A+b*M)/x}return F.rotation=t.Util._getRotation(F.rotation),F}}t.Transform=r;var i="[object Array]",s="[object Number]",n="[object String]",a="[object Boolean]",o=Math.PI/180,h=180/Math.PI,c="#",_="",p="0",m="Konva warning: ",v="Konva error: ",g="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,R=[];const f=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};t.Util={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===i},_isNumber(l){return Object.prototype.toString.call(l)===s&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===n},_isBoolean(l){return Object.prototype.toString.call(l)===a},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;var u=l[0];return u==="#"||u==="."||u===u.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){R.push(l),R.length===1&&f(function(){const u=R;R=[],u.forEach(function(b){b()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,u){var b=t.Util.createImageElement();b.onload=function(){u(b)},b.src=l},_rgbToHex(l,u,b){return((1<<24)+(l<<16)+(u<<8)+b).toString(16).slice(1)},_hexToRgb(l){l=l.replace(c,_);var u=parseInt(l,16);return{r:u>>16&255,g:u>>8&255,b:u&255}},getRandomColor(){for(var l=(Math.random()*16777215<<0).toString(16);l.length<6;)l=p+l;return c+l},getRGB(l){var u;return l in y?(u=y[l],{r:u[0],g:u[1],b:u[2]}):l[0]===c?this._hexToRgb(l.substring(1)):l.substr(0,4)===g?(u=S.exec(l.replace(/ /g,"")),{r:parseInt(u[1],10),g:parseInt(u[2],10),b:parseInt(u[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",t.Util._namedColorToRBA(l)||t.Util._hex3ColorToRGBA(l)||t.Util._hex4ColorToRGBA(l)||t.Util._hex6ColorToRGBA(l)||t.Util._hex8ColorToRGBA(l)||t.Util._rgbColorToRGBA(l)||t.Util._rgbaColorToRGBA(l)||t.Util._hslColorToRGBA(l)},_namedColorToRBA(l){var u=y[l.toLowerCase()];return u?{r:u[0],g:u[1],b:u[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];var u=l.split(/ *, */).map(Number);return{r:u[0],g:u[1],b:u[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];var u=l.split(/ *, */).map((b,A)=>b.slice(-1)==="%"?A===3?parseInt(b)/100:parseInt(b)/100*255:Number(b));return{r:u[0],g:u[1],b:u[2],a:u[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[u,...b]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),A=Number(b[0])/360,M=Number(b[1])/100,w=Number(b[2])/100;let T,x,F;if(M===0)return F=w*255,{r:Math.round(F),g:Math.round(F),b:Math.round(F),a:1};w<.5?T=w*(1+M):T=w+M-w*M;const O=2*w-T,d=[0,0,0];for(let C=0;C<3;C++)x=A+1/3*-(C-1),x<0&&x++,x>1&&x--,6*x<1?F=O+(T-O)*6*x:2*x<1?F=T:3*x<2?F=O+(T-O)*(2/3-x)*6:F=O,d[C]=F*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(l,u){return!(u.x>l.x+l.width||u.x+u.width<l.x||u.y>l.y+l.height||u.y+u.height<l.y)},cloneObject(l){var u={};for(var b in l)this._isPlainObject(l[b])?u[b]=this.cloneObject(l[b]):this._isArray(l[b])?u[b]=this.cloneArray(l[b]):u[b]=l[b];return u},cloneArray(l){return l.slice(0)},degToRad(l){return l*o},radToDeg(l){return l*h},_degToRad(l){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(l)},_radToDeg(l){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(l)},_getRotation(l){return e.Konva.angleDeg?t.Util.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(v+l)},error(l){console.error(v+l)},warn(l){e.Konva.showWarnings&&console.warn(m+l)},each(l,u){for(var b in l)u(b,l[b])},_inRange(l,u,b){return u<=l&&l<b},_getProjectionToSegment(l,u,b,A,M,w){var T,x,F,O=(l-b)*(l-b)+(u-A)*(u-A);if(O==0)T=l,x=u,F=(M-b)*(M-b)+(w-A)*(w-A);else{var d=((M-l)*(b-l)+(w-u)*(A-u))/O;d<0?(T=l,x=u,F=(l-M)*(l-M)+(u-w)*(u-w)):d>1?(T=b,x=A,F=(b-M)*(b-M)+(A-w)*(A-w)):(T=l+d*(b-l),x=u+d*(A-u),F=(T-M)*(T-M)+(x-w)*(x-w))}return[T,x,F]},_getProjectionToLine(l,u,b){var A=t.Util.cloneObject(l),M=Number.MAX_VALUE;return u.forEach(function(w,T){if(!(!b&&T===u.length-1)){var x=u[(T+1)%u.length],F=t.Util._getProjectionToSegment(w.x,w.y,x.x,x.y,l.x,l.y),O=F[0],d=F[1],C=F[2];C<M&&(A.x=O,A.y=d,M=C)}}),A},_prepareArrayForTween(l,u,b){var A,M=[],w=[];if(l.length>u.length){var T=u;u=l,l=T}for(A=0;A<l.length;A+=2)M.push({x:l[A],y:l[A+1]});for(A=0;A<u.length;A+=2)w.push({x:u[A],y:u[A+1]});var x=[];return w.forEach(function(F){var O=t.Util._getProjectionToLine(F,M,b);x.push(O.x),x.push(O.y)}),x},_prepareToStringify(l){var u;l.visitedByCircularReferenceRemoval=!0;for(var b in l)if(l.hasOwnProperty(b)&&l[b]&&typeof l[b]=="object"){if(u=Object.getOwnPropertyDescriptor(l,b),l[b].visitedByCircularReferenceRemoval||t.Util._isElement(l[b]))if(u.configurable)delete l[b];else return null;else if(t.Util._prepareToStringify(l[b])===null)if(u.configurable)delete l[b];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,u){for(var b in u)l[b]=u[b];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999},releaseCanvas(...l){e.Konva.releaseCanvasOnDestroy&&l.forEach(u=>{u.width=0,u.height=0})},drawRoundedRectPath(l,u,b,A){let M=0,w=0,T=0,x=0;typeof A=="number"?M=w=T=x=Math.min(A,u/2,b/2):(M=Math.min(A[0]||0,u/2,b/2),w=Math.min(A[1]||0,u/2,b/2),x=Math.min(A[2]||0,u/2,b/2),T=Math.min(A[3]||0,u/2,b/2)),l.moveTo(M,0),l.lineTo(u-w,0),l.arc(u-w,w,w,Math.PI*3/2,0,!1),l.lineTo(u,b-x),l.arc(u-x,b-x,x,0,Math.PI/2,!1),l.lineTo(T,b),l.arc(T,b-T,T,Math.PI/2,Math.PI,!1),l.lineTo(0,M),l.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}}(Kn)),Kn}var yr={},qn={},Ct={},Ya;function dt(){if(Ya)return Ct;Ya=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getComponentValidator=Ct.getBooleanValidator=Ct.getNumberArrayValidator=Ct.getFunctionValidator=Ct.getStringOrGradientValidator=Ct.getStringValidator=Ct.getNumberOrAutoValidator=Ct.getNumberOrArrayOfNumbersValidator=Ct.getNumberValidator=Ct.alphaComponent=Ct.RGBComponent=void 0;const t=ft(),e=Tt();function r(g){return e.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||e.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function i(g){return g>255?255:g<0?0:Math.round(g)}Ct.RGBComponent=i;function s(g){return g>1?1:g<1e-4?1e-4:g}Ct.alphaComponent=s;function n(){if(t.Konva.isUnminified)return function(g,y){return e.Util._isNumber(g)||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),g}}Ct.getNumberValidator=n;function a(g){if(t.Konva.isUnminified)return function(y,S){let R=e.Util._isNumber(y),f=e.Util._isArray(y)&&y.length==g;return!R&&!f&&e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+g+")"),y}}Ct.getNumberOrArrayOfNumbersValidator=a;function o(){if(t.Konva.isUnminified)return function(g,y){var S=e.Util._isNumber(g),R=g==="auto";return S||R||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),g}}Ct.getNumberOrAutoValidator=o;function h(){if(t.Konva.isUnminified)return function(g,y){return e.Util._isString(g)||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),g}}Ct.getStringValidator=h;function c(){if(t.Konva.isUnminified)return function(g,y){const S=e.Util._isString(g),R=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return S||R||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),g}}Ct.getStringOrGradientValidator=c;function _(){if(t.Konva.isUnminified)return function(g,y){return e.Util._isFunction(g)||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),g}}Ct.getFunctionValidator=_;function p(){if(t.Konva.isUnminified)return function(g,y){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&g instanceof S||(e.Util._isArray(g)?g.forEach(function(R){e.Util._isNumber(R)||e.Util.warn('"'+y+'" attribute has non numeric element '+R+". Make sure that all elements are numbers.")}):e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),g}}Ct.getNumberArrayValidator=p;function m(){if(t.Konva.isUnminified)return function(g,y){var S=g===!0||g===!1;return S||e.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),g}}Ct.getBooleanValidator=m;function v(g){if(t.Konva.isUnminified)return function(y,S){return y==null||e.Util.isObject(y)||e.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+g),y}}return Ct.getComponentValidator=v,Ct}var Xa;function ut(){return Xa||(Xa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Tt(),r=dt();var i="get",s="set";t.Factory={addGetterSetter(n,a,o,h,c){t.Factory.addGetter(n,a,o),t.Factory.addSetter(n,a,h,c),t.Factory.addOverloadedGetterSetter(n,a)},addGetter(n,a,o){var h=i+e.Util._capitalize(a);n.prototype[h]=n.prototype[h]||function(){var c=this.attrs[a];return c===void 0?o:c}},addSetter(n,a,o,h){var c=s+e.Util._capitalize(a);n.prototype[c]||t.Factory.overWriteSetter(n,a,o,h)},overWriteSetter(n,a,o,h){var c=s+e.Util._capitalize(a);n.prototype[c]=function(_){return o&&_!==void 0&&_!==null&&(_=o.call(this,_,a)),this._setAttr(a,_),h&&h.call(this),this}},addComponentsGetterSetter(n,a,o,h,c){var _=o.length,p=e.Util._capitalize,m=i+p(a),v=s+p(a),g,y;n.prototype[m]=function(){var R={};for(g=0;g<_;g++)y=o[g],R[y]=this.getAttr(a+p(y));return R};var S=(0,r.getComponentValidator)(o);n.prototype[v]=function(R){var f=this.attrs[a],l;h&&(R=h.call(this,R)),S&&S.call(this,R,a);for(l in R)R.hasOwnProperty(l)&&this._setAttr(a+p(l),R[l]);return R||o.forEach(u=>{this._setAttr(a+p(u),void 0)}),this._fireChangeEvent(a,f,R),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(n,a)},addOverloadedGetterSetter(n,a){var o=e.Util._capitalize(a),h=s+o,c=i+o;n.prototype[a]=function(){return arguments.length?(this[h](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(n,a,o,h){e.Util.error("Adding deprecated "+a);var c=i+e.Util._capitalize(a),_=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[c]=function(){e.Util.error(_);var p=this.attrs[a];return p===void 0?o:p},t.Factory.addSetter(n,a,h,function(){e.Util.error(_)}),t.Factory.addOverloadedGetterSetter(n,a)},backCompat(n,a){e.Util.each(a,function(o,h){var c=n.prototype[h],_=i+e.Util._capitalize(o),p=s+e.Util._capitalize(o);function m(){c.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}n.prototype[o]=m,n.prototype[_]=m,n.prototype[p]=m})},afterSetFilter(){this._filterUpToDate=!1}}}(qn)),qn}var ne={},se={},Ja;function jh(){if(Ja)return se;Ja=1,Object.defineProperty(se,"__esModule",{value:!0}),se.HitContext=se.SceneContext=se.Context=void 0;const t=Tt(),e=ft();function r(R){var f=[],l=R.length,u=t.Util,b,A;for(b=0;b<l;b++)A=R[b],u._isNumber(A)?A=Math.round(A*1e3)/1e3:u._isString(A)||(A=A+""),f.push(A);return f}var i=",",s="(",n=")",a="([",o="])",h=";",c="()",_="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const v=100;let g=class{constructor(f){this.canvas=f,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(f){f.fillEnabled()&&this._fill(f)}_fill(f){}strokeShape(f){f.hasStroke()&&this._stroke(f)}_stroke(f){}fillStrokeShape(f){f.attrs.fillAfterStrokeEnabled?(this.strokeShape(f),this.fillShape(f)):(this.fillShape(f),this.strokeShape(f))}getTrace(f,l){var u=this.traceArr,b=u.length,A="",M,w,T,x;for(M=0;M<b;M++)w=u[M],T=w.method,T?(x=w.args,A+=T,f?A+=c:t.Util._isArray(x[0])?A+=a+x.join(i)+o:(l&&(x=x.map(F=>typeof F=="number"?Math.floor(F):F)),A+=s+x.join(i)+n)):(A+=w.property,f||(A+=_+w.val)),A+=h;return A}clearTrace(){this.traceArr=[]}_trace(f){var l=this.traceArr,u;l.push(f),u=l.length,u>=v&&l.shift()}reset(){var f=this.getCanvas().getPixelRatio();this.setTransform(1*f,0,0,1*f,0,0)}getCanvas(){return this.canvas}clear(f){var l=this.getCanvas();f?this.clearRect(f.x||0,f.y||0,f.width||0,f.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(f){const l=f.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(f){var l=f.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(f){const l=f.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}setAttr(f,l){this._context[f]=l}arc(f,l,u,b,A,M){this._context.arc(f,l,u,b,A,M)}arcTo(f,l,u,b,A){this._context.arcTo(f,l,u,b,A)}beginPath(){this._context.beginPath()}bezierCurveTo(f,l,u,b,A,M){this._context.bezierCurveTo(f,l,u,b,A,M)}clearRect(f,l,u,b){this._context.clearRect(f,l,u,b)}clip(...f){this._context.clip.apply(this._context,f)}closePath(){this._context.closePath()}createImageData(f,l){var u=arguments;if(u.length===2)return this._context.createImageData(f,l);if(u.length===1)return this._context.createImageData(f)}createLinearGradient(f,l,u,b){return this._context.createLinearGradient(f,l,u,b)}createPattern(f,l){return this._context.createPattern(f,l)}createRadialGradient(f,l,u,b,A,M){return this._context.createRadialGradient(f,l,u,b,A,M)}drawImage(f,l,u,b,A,M,w,T,x){var F=arguments,O=this._context;F.length===3?O.drawImage(f,l,u):F.length===5?O.drawImage(f,l,u,b,A):F.length===9&&O.drawImage(f,l,u,b,A,M,w,T,x)}ellipse(f,l,u,b,A,M,w,T){this._context.ellipse(f,l,u,b,A,M,w,T)}isPointInPath(f,l,u,b){return u?this._context.isPointInPath(u,f,l,b):this._context.isPointInPath(f,l,b)}fill(...f){this._context.fill.apply(this._context,f)}fillRect(f,l,u,b){this._context.fillRect(f,l,u,b)}strokeRect(f,l,u,b){this._context.strokeRect(f,l,u,b)}fillText(f,l,u,b){b?this._context.fillText(f,l,u,b):this._context.fillText(f,l,u)}measureText(f){return this._context.measureText(f)}getImageData(f,l,u,b){return this._context.getImageData(f,l,u,b)}lineTo(f,l){this._context.lineTo(f,l)}moveTo(f,l){this._context.moveTo(f,l)}rect(f,l,u,b){this._context.rect(f,l,u,b)}putImageData(f,l,u){this._context.putImageData(f,l,u)}quadraticCurveTo(f,l,u,b){this._context.quadraticCurveTo(f,l,u,b)}restore(){this._context.restore()}rotate(f){this._context.rotate(f)}save(){this._context.save()}scale(f,l){this._context.scale(f,l)}setLineDash(f){this._context.setLineDash?this._context.setLineDash(f):"mozDash"in this._context?this._context.mozDash=f:"webkitLineDash"in this._context&&(this._context.webkitLineDash=f)}getLineDash(){return this._context.getLineDash()}setTransform(f,l,u,b,A,M){this._context.setTransform(f,l,u,b,A,M)}stroke(f){f?this._context.stroke(f):this._context.stroke()}strokeText(f,l,u,b){this._context.strokeText(f,l,u,b)}transform(f,l,u,b,A,M){this._context.transform(f,l,u,b,A,M)}translate(f,l){this._context.translate(f,l)}_enableTrace(){var f=this,l=p.length,u=this.setAttr,b,A,M=function(w){var T=f[w],x;f[w]=function(){return A=r(Array.prototype.slice.call(arguments,0)),x=T.apply(f,arguments),f._trace({method:w,args:A}),x}};for(b=0;b<l;b++)M(p[b]);f.setAttr=function(){u.apply(f,arguments);var w=arguments[0],T=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(T=T/this.canvas.getPixelRatio()),f._trace({property:w,val:T})}}_applyGlobalCompositeOperation(f){const l=f.attrs.globalCompositeOperation;var u=!l||l==="source-over";u||this.setAttr("globalCompositeOperation",l)}};se.Context=g,m.forEach(function(R){Object.defineProperty(g.prototype,R,{get(){return this._context[R]},set(f){this._context[R]=f}})});class y extends g{constructor(f,{willReadFrequently:l=!1}={}){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(f){var l=f.fill();this.setAttr("fillStyle",l),f._fillFunc(this)}_fillPattern(f){this.setAttr("fillStyle",f._getFillPattern()),f._fillFunc(this)}_fillLinearGradient(f){var l=f._getLinearGradient();l&&(this.setAttr("fillStyle",l),f._fillFunc(this))}_fillRadialGradient(f){const l=f._getRadialGradient();l&&(this.setAttr("fillStyle",l),f._fillFunc(this))}_fill(f){const l=f.fill(),u=f.getFillPriority();if(l&&u==="color"){this._fillColor(f);return}const b=f.getFillPatternImage();if(b&&u==="pattern"){this._fillPattern(f);return}const A=f.getFillLinearGradientColorStops();if(A&&u==="linear-gradient"){this._fillLinearGradient(f);return}const M=f.getFillRadialGradientColorStops();if(M&&u==="radial-gradient"){this._fillRadialGradient(f);return}l?this._fillColor(f):b?this._fillPattern(f):A?this._fillLinearGradient(f):M&&this._fillRadialGradient(f)}_strokeLinearGradient(f){const l=f.getStrokeLinearGradientStartPoint(),u=f.getStrokeLinearGradientEndPoint(),b=f.getStrokeLinearGradientColorStops(),A=this.createLinearGradient(l.x,l.y,u.x,u.y);if(b){for(var M=0;M<b.length;M+=2)A.addColorStop(b[M],b[M+1]);this.setAttr("strokeStyle",A)}}_stroke(f){var l=f.dash(),u=f.getStrokeScaleEnabled();if(f.hasStroke()){if(!u){this.save();var b=this.getCanvas().getPixelRatio();this.setTransform(b,0,0,b,0,0)}this._applyLineCap(f),l&&f.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",f.dashOffset())),this.setAttr("lineWidth",f.strokeWidth()),f.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var A=f.getStrokeLinearGradientColorStops();A?this._strokeLinearGradient(f):this.setAttr("strokeStyle",f.stroke()),f._strokeFunc(this),u||this.restore()}}_applyShadow(f){var l,u,b,A=(l=f.getShadowRGBA())!==null&&l!==void 0?l:"black",M=(u=f.getShadowBlur())!==null&&u!==void 0?u:5,w=(b=f.getShadowOffset())!==null&&b!==void 0?b:{x:0,y:0},T=f.getAbsoluteScale(),x=this.canvas.getPixelRatio(),F=T.x*x,O=T.y*x;this.setAttr("shadowColor",A),this.setAttr("shadowBlur",M*Math.min(Math.abs(F),Math.abs(O))),this.setAttr("shadowOffsetX",w.x*F),this.setAttr("shadowOffsetY",w.y*O)}}se.SceneContext=y;class S extends g{constructor(f){super(f),this._context=f._canvas.getContext("2d",{willReadFrequently:!0})}_fill(f){this.save(),this.setAttr("fillStyle",f.colorKey),f._fillFuncHit(this),this.restore()}strokeShape(f){f.hasHitStroke()&&this._stroke(f)}_stroke(f){if(f.hasHitStroke()){const A=f.getStrokeScaleEnabled();if(!A){this.save();var l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(f);var u=f.hitStrokeWidth(),b=u==="auto"?f.strokeWidth():u;this.setAttr("lineWidth",b),this.setAttr("strokeStyle",f.colorKey),f._strokeFuncHit(this),A||this.restore()}}}return se.HitContext=S,se}var Qa;function On(){if(Qa)return ne;Qa=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.HitCanvas=ne.SceneCanvas=ne.Canvas=void 0;const t=Tt(),e=jh(),r=ft(),i=ut(),s=dt();var n;function a(){if(n)return n;var _=t.Util.createCanvasElement(),p=_.getContext("2d");return n=function(){var m=r.Konva._global.devicePixelRatio||1,v=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return m/v}(),t.Util.releaseCanvas(_),n}let o=class{constructor(p){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var m=p||{},v=m.pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=v,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(p){var m=this.pixelRatio;this.pixelRatio=p,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(p){this.width=this._canvas.width=p*this.pixelRatio,this._canvas.style.width=p+"px";var m=this.pixelRatio,v=this.getContext()._context;v.scale(m,m)}setHeight(p){this.height=this._canvas.height=p*this.pixelRatio,this._canvas.style.height=p+"px";var m=this.pixelRatio,v=this.getContext()._context;v.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(p,m){this.setWidth(p||0),this.setHeight(m||0)}toDataURL(p,m){try{return this._canvas.toDataURL(p,m)}catch{try{return this._canvas.toDataURL()}catch(g){return t.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ne.Canvas=o,i.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,s.getNumberValidator)());class h extends o{constructor(p={width:0,height:0,willReadFrequently:!1}){super(p),this.context=new e.SceneContext(this,{willReadFrequently:p.willReadFrequently}),this.setSize(p.width,p.height)}}ne.SceneCanvas=h;class c extends o{constructor(p={width:0,height:0}){super(p),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(p.width,p.height)}}return ne.HitCanvas=c,ne}var Wn={},Za;function Zs(){return Za||(Za=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ft(),r=Tt();t.DD={get isDragging(){var i=!1;return t.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return t.DD._dragElements.forEach(s=>{i=s.node}),i},_dragElements:new Map,_drag(i){const s=[];t.DD._dragElements.forEach((n,a)=>{const{node:o}=n,h=o.getStage();h.setPointersPositions(i),n.pointerId===void 0&&(n.pointerId=r.Util._getFirstPointerId(i));const c=h._changedPointerPositions.find(m=>m.id===n.pointerId);if(c){if(n.dragStatus!=="dragging"){var _=o.dragDistance(),p=Math.max(Math.abs(c.x-n.startPointerPos.x),Math.abs(c.y-n.startPointerPos.y));if(p<_||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,n),s.push(o)}}),s.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:i},!0)})},_endDragBefore(i){const s=[];t.DD._dragElements.forEach(n=>{const{node:a}=n,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(_=>_.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,n.dragStatus="stopped");const c=n.node.getLayer()||n.node instanceof e.Konva.Stage&&n.node;c&&s.indexOf(c)===-1&&s.push(c)}),s.forEach(n=>{n.draw()})},_endDragAfter(i){t.DD._dragElements.forEach((s,n)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:i},!0),s.dragStatus!=="dragging"&&t.DD._dragElements.delete(n)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(Wn)),Wn}var to;function Et(){if(to)return yr;to=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.Node=void 0;const t=Tt(),e=ut(),r=On(),i=ft(),s=Zs(),n=dt();var a="absoluteOpacity",o="allEventListeners",h="absoluteTransform",c="absoluteScale",_="canvas",p="Change",m="children",v="konva",g="listening",y="mouseenter",S="mouseleave",R="set",f="Shape",l=" ",u="stage",b="transform",A="Stage",M="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(l);let T=1,x=class ys{constructor(d){this._id=T++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(d),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(d){(d===b||d===h)&&this._cache.get(d)?this._cache.get(d).dirty=!0:d?this._cache.delete(d):this._cache.clear()}_getCache(d,C){var P=this._cache.get(d),E=d===b||d===h,N=P===void 0||E&&P.dirty===!0;return N&&(P=C.call(this),this._cache.set(d,P)),P}_calculate(d,C,P){if(!this._attachedDepsListeners.get(d)){const E=C.map(N=>N+"Change.konva").join(l);this.on(E,()=>{this._clearCache(d)}),this._attachedDepsListeners.set(d,!0)}return this._getCache(d,P)}_getCanvasCache(){return this._cache.get(_)}_clearSelfAndDescendantCache(d){this._clearCache(d),d===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(_)){const{scene:d,filter:C,hit:P}=this._cache.get(_);t.Util.releaseCanvas(d,C,P),this._cache.delete(_)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(d){var C=d||{},P={};(C.x===void 0||C.y===void 0||C.width===void 0||C.height===void 0)&&(P=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var E=Math.ceil(C.width||P.width),N=Math.ceil(C.height||P.height),D=C.pixelRatio,G=C.x===void 0?Math.floor(P.x):C.x,U=C.y===void 0?Math.floor(P.y):C.y,$=C.offset||0,V=C.drawBorder||!1,q=C.hitCanvasPixelRatio||1;if(!E||!N){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}E+=$*2+1,N+=$*2+1,G-=$,U-=$;var Q=new r.SceneCanvas({pixelRatio:D,width:E,height:N}),tt=new r.SceneCanvas({pixelRatio:D,width:0,height:0,willReadFrequently:!0}),rt=new r.HitCanvas({pixelRatio:q,width:E,height:N}),L=Q.getContext(),B=rt.getContext();return rt.isCache=!0,Q.isCache=!0,this._cache.delete(_),this._filterUpToDate=!1,C.imageSmoothingEnabled===!1&&(Q.getContext()._context.imageSmoothingEnabled=!1,tt.getContext()._context.imageSmoothingEnabled=!1),L.save(),B.save(),L.translate(-G,-U),B.translate(-G,-U),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(c),this.drawScene(Q,this),this.drawHit(rt,this),this._isUnderCache=!1,L.restore(),B.restore(),V&&(L.save(),L.beginPath(),L.rect(0,0,E,N),L.closePath(),L.setAttr("strokeStyle","red"),L.setAttr("lineWidth",5),L.stroke(),L.restore()),this._cache.set(_,{scene:Q,filter:tt,hit:rt,x:G,y:U}),this._requestDraw(),this}isCached(){return this._cache.has(_)}getClientRect(d){throw new Error('abstract "getClientRect" method call')}_transformedRect(d,C){var P=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],E=1/0,N=1/0,D=-1/0,G=-1/0,U=this.getAbsoluteTransform(C);return P.forEach(function($){var V=U.point($);E===void 0&&(E=D=V.x,N=G=V.y),E=Math.min(E,V.x),N=Math.min(N,V.y),D=Math.max(D,V.x),G=Math.max(G,V.y)}),{x:E,y:N,width:D-E,height:G-N}}_drawCachedSceneCanvas(d){d.save(),d._applyOpacity(this),d._applyGlobalCompositeOperation(this);const C=this._getCanvasCache();d.translate(C.x,C.y);var P=this._getCachedSceneCanvas(),E=P.pixelRatio;d.drawImage(P._canvas,0,0,P.width/E,P.height/E),d.restore()}_drawCachedHitCanvas(d){var C=this._getCanvasCache(),P=C.hit;d.save(),d.translate(C.x,C.y),d.drawImage(P._canvas,0,0,P.width/P.pixelRatio,P.height/P.pixelRatio),d.restore()}_getCachedSceneCanvas(){var d=this.filters(),C=this._getCanvasCache(),P=C.scene,E=C.filter,N=E.getContext(),D,G,U,$;if(d){if(!this._filterUpToDate){var V=P.pixelRatio;E.setSize(P.width/P.pixelRatio,P.height/P.pixelRatio);try{for(D=d.length,N.clear(),N.drawImage(P._canvas,0,0,P.getWidth()/V,P.getHeight()/V),G=N.getImageData(0,0,E.getWidth(),E.getHeight()),U=0;U<D;U++){if($=d[U],typeof $!="function"){t.Util.error("Filter should be type of function, but got "+typeof $+" instead. Please check correct filters");continue}$.call(this,G),N.putImageData(G,0,0)}}catch(q){t.Util.error("Unable to apply filter. "+q.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return E}return P}on(d,C){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var P=d.split(l),E=P.length,N,D,G,U,$;for(N=0;N<E;N++)D=P[N],G=D.split("."),U=G[0],$=G[1]||"",this.eventListeners[U]||(this.eventListeners[U]=[]),this.eventListeners[U].push({name:$,handler:C});return this}off(d,C){var P=(d||"").split(l),E=P.length,N,D,G,U,$,V;if(this._cache&&this._cache.delete(o),!d)for(D in this.eventListeners)this._off(D);for(N=0;N<E;N++)if(G=P[N],U=G.split("."),$=U[0],V=U[1],$)this.eventListeners[$]&&this._off($,V,C);else for(D in this.eventListeners)this._off(D,V,C);return this}dispatchEvent(d){var C={target:this,type:d.type,evt:d};return this.fire(d.type,C),this}addEventListener(d,C){return this.on(d,function(P){C.call(this,P.evt)}),this}removeEventListener(d){return this.off(d),this}_delegate(d,C,P){var E=this;this.on(d,function(N){for(var D=N.target.findAncestors(C,!0,E),G=0;G<D.length;G++)N=t.Util.cloneObject(N),N.currentTarget=D[G],P.call(D[G],N)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(M),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();var d=this.getParent();d&&d.children&&(d.children.splice(this.index,1),d._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(d){var C="get"+t.Util._capitalize(d);return t.Util._isFunction(this[C])?this[C]():this.attrs[d]}getAncestors(){for(var d=this.getParent(),C=[];d;)C.push(d),d=d.getParent();return C}getAttrs(){return this.attrs||{}}setAttrs(d){return this._batchTransformChanges(()=>{var C,P;if(!d)return this;for(C in d)C!==m&&(P=R+t.Util._capitalize(C),t.Util._isFunction(this[P])?this[P](d[C]):this._setAttr(C,d[C]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(d){if(!this.listening())return!1;const P=this.getParent();return P&&P!==d&&this!==d?P._isListening(d):!0}isVisible(){return this._getCache(M,this._isVisible)}_isVisible(d){if(!this.visible())return!1;const P=this.getParent();return P&&P!==d&&this!==d?P._isVisible(d):!0}shouldDrawHit(d,C=!1){if(d)return this._isVisible(d)&&this._isListening(d);var P=this.getLayer(),E=!1;s.DD._dragElements.forEach(D=>{D.dragStatus==="dragging"&&(D.node.nodeType==="Stage"||D.node.getLayer()===P)&&(E=!0)});var N=!C&&!i.Konva.hitOnDragEnabled&&E;return this.isListening()&&this.isVisible()&&!N}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var d=this.getDepth(),C=this,P=0,E,N,D,G;function U(V){for(E=[],N=V.length,D=0;D<N;D++)G=V[D],P++,G.nodeType!==f&&(E=E.concat(G.getChildren().slice())),G._id===C._id&&(D=N);E.length>0&&E[0].getDepth()<=d&&U(E)}const $=this.getStage();return C.nodeType!==A&&$&&U($.getChildren()),P}getDepth(){for(var d=0,C=this.parent;C;)d++,C=C.parent;return d}_batchTransformChanges(d){this._batchingTransformChange=!0,d(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(b),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(d){return this._batchTransformChanges(()=>{this.x(d.x),this.y(d.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const d=this.getStage();if(!d)return null;var C=d.getPointerPosition();if(!C)return null;var P=this.getAbsoluteTransform().copy();return P.invert(),P.point(C)}getAbsolutePosition(d){let C=!1,P=this.parent;for(;P;){if(P.isCached()){C=!0;break}P=P.parent}C&&!d&&(d=!0);var E=this.getAbsoluteTransform(d).getMatrix(),N=new t.Transform,D=this.offset();return N.m=E.slice(),N.translate(D.x,D.y),N.getTranslation()}setAbsolutePosition(d){const{x:C,y:P,...E}=this._clearTransform();this.attrs.x=C,this.attrs.y=P,this._clearCache(b);var N=this._getAbsoluteTransform().copy();return N.invert(),N.translate(d.x,d.y),d={x:this.attrs.x+N.getTranslation().x,y:this.attrs.y+N.getTranslation().y},this._setTransform(E),this.setPosition({x:d.x,y:d.y}),this._clearCache(b),this._clearSelfAndDescendantCache(h),this}_setTransform(d){var C;for(C in d)this.attrs[C]=d[C]}_clearTransform(){var d={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,d}move(d){var C=d.x,P=d.y,E=this.x(),N=this.y();return C!==void 0&&(E+=C),P!==void 0&&(N+=P),this.setPosition({x:E,y:N}),this}_eachAncestorReverse(d,C){var P=[],E=this.getParent(),N,D;if(!(C&&C._id===this._id)){for(P.unshift(this);E&&(!C||E._id!==C._id);)P.unshift(E),E=E.parent;for(N=P.length,D=0;D<N;D++)d(P[D])}}rotate(d){return this.rotation(this.rotation()+d),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var d=this.index,C=this.parent.getChildren().length;return d<C-1?(this.parent.children.splice(d,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var d=this.index,C=this.parent.getChildren().length;return d<C-1?(this.parent.children.splice(d,1),this.parent.children.splice(d+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.splice(d-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(d){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(d<0||d>=this.parent.children.length)&&t.Util.warn("Unexpected value "+d+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var C=this.index;return this.parent.children.splice(C,1),this.parent.children.splice(d,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var d=this.opacity(),C=this.getParent();return C&&!C._isUnderCache&&(d*=C.getAbsoluteOpacity()),d}moveTo(d){return this.getParent()!==d&&(this._remove(),d.add(this)),this}toObject(){var d={},C=this.getAttrs(),P,E,N,D,G;d.attrs={};for(P in C)E=C[P],G=t.Util.isObject(E)&&!t.Util._isPlainObject(E)&&!t.Util._isArray(E),!G&&(N=typeof this[P]=="function"&&this[P],delete C[P],D=N?N.call(this):null,C[P]=E,D!==E&&(d.attrs[P]=E));return d.className=this.getClassName(),t.Util._prepareToStringify(d)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(d,C,P){var E=[];C&&this._isMatch(d)&&E.push(this);for(var N=this.parent;N;){if(N===P)return E;N._isMatch(d)&&E.push(N),N=N.parent}return E}isAncestorOf(d){return!1}findAncestor(d,C,P){return this.findAncestors(d,C,P)[0]}_isMatch(d){if(!d)return!1;if(typeof d=="function")return d(this);var C=d.replace(/ /g,"").split(","),P=C.length,E,N;for(E=0;E<P;E++)if(N=C[E],t.Util.isValidSelector(N)||(t.Util.warn('Selector "'+N+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),N.charAt(0)==="#"){if(this.id()===N.slice(1))return!0}else if(N.charAt(0)==="."){if(this.hasName(N.slice(1)))return!0}else if(this.className===N||this.nodeType===N)return!0;return!1}getLayer(){var d=this.getParent();return d?d.getLayer():null}getStage(){return this._getCache(u,this._getStage)}_getStage(){var d=this.getParent();return d?d.getStage():null}fire(d,C={},P){return C.target=C.target||this,P?this._fireAndBubble(d,C):this._fire(d,C),this}getAbsoluteTransform(d){return d?this._getAbsoluteTransform(d):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(d){var C;if(d)return C=new t.Transform,this._eachAncestorReverse(function(E){var N=E.transformsEnabled();N==="all"?C.multiply(E.getTransform()):N==="position"&&C.translate(E.x()-E.offsetX(),E.y()-E.offsetY())},d),C;C=this._cache.get(h)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(C):C.reset();var P=this.transformsEnabled();if(P==="all")C.multiply(this.getTransform());else if(P==="position"){const E=this.attrs.x||0,N=this.attrs.y||0,D=this.attrs.offsetX||0,G=this.attrs.offsetY||0;C.translate(E-D,N-G)}return C.dirty=!1,C}getAbsoluteScale(d){for(var C=this;C;)C._isUnderCache&&(d=C),C=C.getParent();const E=this.getAbsoluteTransform(d).decompose();return{x:E.scaleX,y:E.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(b,this._getTransform)}_getTransform(){var d,C,P=this._cache.get(b)||new t.Transform;P.reset();var E=this.x(),N=this.y(),D=i.Konva.getAngle(this.rotation()),G=(d=this.attrs.scaleX)!==null&&d!==void 0?d:1,U=(C=this.attrs.scaleY)!==null&&C!==void 0?C:1,$=this.attrs.skewX||0,V=this.attrs.skewY||0,q=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;return(E!==0||N!==0)&&P.translate(E,N),D!==0&&P.rotate(D),($!==0||V!==0)&&P.skew($,V),(G!==1||U!==1)&&P.scale(G,U),(q!==0||Q!==0)&&P.translate(-1*q,-1*Q),P.dirty=!1,P}clone(d){var C=t.Util.cloneObject(this.attrs),P,E,N,D,G;for(P in d)C[P]=d[P];var U=new this.constructor(C);for(P in this.eventListeners)for(E=this.eventListeners[P],N=E.length,D=0;D<N;D++)G=E[D],G.name.indexOf(v)<0&&(U.eventListeners[P]||(U.eventListeners[P]=[]),U.eventListeners[P].push(G));return U}_toKonvaCanvas(d){d=d||{};var C=this.getClientRect(),P=this.getStage(),E=d.x!==void 0?d.x:Math.floor(C.x),N=d.y!==void 0?d.y:Math.floor(C.y),D=d.pixelRatio||1,G=new r.SceneCanvas({width:d.width||Math.ceil(C.width)||(P?P.width():0),height:d.height||Math.ceil(C.height)||(P?P.height():0),pixelRatio:D}),U=G.getContext();return d.imageSmoothingEnabled===!1&&(U._context.imageSmoothingEnabled=!1),U.save(),(E||N)&&U.translate(-1*E,-1*N),this.drawScene(G),U.restore(),G}toCanvas(d){return this._toKonvaCanvas(d)._canvas}toDataURL(d){d=d||{};var C=d.mimeType||null,P=d.quality||null,E=this._toKonvaCanvas(d).toDataURL(C,P);return d.callback&&d.callback(E),E}toImage(d){return new Promise((C,P)=>{try{const E=d==null?void 0:d.callback;E&&delete d.callback,t.Util._urlToImage(this.toDataURL(d),function(N){C(N),E==null||E(N)})}catch(E){P(E)}})}toBlob(d){return new Promise((C,P)=>{try{const E=d==null?void 0:d.callback;E&&delete d.callback,this.toCanvas(d).toBlob(N=>{C(N),E==null||E(N)})}catch(E){P(E)}})}setSize(d){return this.width(d.width),this.height(d.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(d,C,P){var E=this.eventListeners[d],N,D,G;for(N=0;N<E.length;N++)if(D=E[N].name,G=E[N].handler,(D!=="konva"||C==="konva")&&(!C||D===C)&&(!P||P===G)){if(E.splice(N,1),E.length===0){delete this.eventListeners[d];break}N--}}_fireChangeEvent(d,C,P){this._fire(d+p,{oldVal:C,newVal:P})}addName(d){if(!this.hasName(d)){var C=this.name(),P=C?C+" "+d:d;this.name(P)}return this}hasName(d){if(!d)return!1;const C=this.name();if(!C)return!1;var P=(C||"").split(/\s/g);return P.indexOf(d)!==-1}removeName(d){var C=(this.name()||"").split(/\s/g),P=C.indexOf(d);return P!==-1&&(C.splice(P,1),this.name(C.join(" "))),this}setAttr(d,C){var P=this[R+t.Util._capitalize(d)];return t.Util._isFunction(P)?P.call(this,C):this._setAttr(d,C),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const d=this.getLayer()||this.getStage();d==null||d.batchDraw()}}_setAttr(d,C){var P=this.attrs[d];P===C&&!t.Util.isObject(C)||(C==null?delete this.attrs[d]:this.attrs[d]=C,this._shouldFireChangeEvents&&this._fireChangeEvent(d,P,C),this._requestDraw())}_setComponentAttr(d,C,P){var E;P!==void 0&&(E=this.attrs[d],E||(this.attrs[d]=this.getAttr(d)),this.attrs[d][C]=P,this._fireChangeEvent(d,E,P))}_fireAndBubble(d,C,P){C&&this.nodeType===f&&(C.target=this);var E=(d===y||d===S)&&(P&&(this===P||this.isAncestorOf&&this.isAncestorOf(P))||this.nodeType==="Stage"&&!P);if(!E){this._fire(d,C);var N=(d===y||d===S)&&P&&P.isAncestorOf&&P.isAncestorOf(this)&&!P.isAncestorOf(this.parent);(C&&!C.cancelBubble||!C)&&this.parent&&this.parent.isListening()&&!N&&(P&&P.parent?this._fireAndBubble.call(this.parent,d,C,P):this._fireAndBubble.call(this.parent,d,C))}}_getProtoListeners(d){var C,P,E;const N=(C=this._cache.get(o))!==null&&C!==void 0?C:{};let D=N==null?void 0:N[d];if(D===void 0){D=[];let G=Object.getPrototypeOf(this);for(;G;){const U=(E=(P=G.eventListeners)===null||P===void 0?void 0:P[d])!==null&&E!==void 0?E:[];D.push(...U),G=Object.getPrototypeOf(G)}N[d]=D,this._cache.set(o,N)}return D}_fire(d,C){C=C||{},C.currentTarget=this,C.type=d;const P=this._getProtoListeners(d);if(P)for(var E=0;E<P.length;E++)P[E].handler.call(this,C);const N=this.eventListeners[d];if(N)for(var E=0;E<N.length;E++)N[E].handler.call(this,C)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(d){var C=d?d.pointerId:void 0,P=this.getStage(),E=this.getAbsolutePosition();if(P){var N=P._getPointerById(C)||P._changedPointerPositions[0]||E;s.DD._dragElements.set(this._id,{node:this,startPointerPos:N,offset:{x:N.x-E.x,y:N.y-E.y},dragStatus:"ready",pointerId:C})}}startDrag(d,C=!0){s.DD._dragElements.has(this._id)||this._createDragElement(d);const P=s.DD._dragElements.get(this._id);P.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:d&&d.evt},C)}_setDragPosition(d,C){const P=this.getStage()._getPointerById(C.pointerId);if(P){var E={x:P.x-C.offset.x,y:P.y-C.offset.y},N=this.dragBoundFunc();if(N!==void 0){const D=N.call(this,E,d);D?E=D:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==E.x||this._lastPos.y!==E.y)&&(this.setAbsolutePosition(E),this._requestDraw()),this._lastPos=E}}stopDrag(d){const C=s.DD._dragElements.get(this._id);C&&(C.dragStatus="stopped"),s.DD._endDragBefore(d),s.DD._endDragAfter(d)}setDraggable(d){this._setAttr("draggable",d),this._dragChange()}isDragging(){const d=s.DD._dragElements.get(this._id);return d?d.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(d){var C=d.evt.button!==void 0,P=!C||i.Konva.dragButtons.indexOf(d.evt.button)>=0;if(P&&!this.isDragging()){var E=!1;s.DD._dragElements.forEach(N=>{this.isAncestorOf(N.node)&&(E=!0)}),E||this._createDragElement(d)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var d=this.getStage();if(!d)return;const C=s.DD._dragElements.get(this._id),P=C&&C.dragStatus==="dragging",E=C&&C.dragStatus==="ready";P?this.stopDrag():E&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(d={x:0,y:0}){const C=this.getStage();if(!C)return!1;const P={x:-d.x,y:-d.y,width:C.width()+2*d.x,height:C.height()+2*d.y};return t.Util.haveIntersection(P,this.getClientRect())}static create(d,C){return t.Util._isString(d)&&(d=JSON.parse(d)),this._createNode(d,C)}static _createNode(d,C){var P=ys.prototype.getClassName.call(d),E=d.children,N,D,G;C&&(d.attrs.container=C),i.Konva[P]||(t.Util.warn('Can not find a node with class name "'+P+'". Fallback to "Shape".'),P="Shape");const U=i.Konva[P];if(N=new U(d.attrs),E)for(D=E.length,G=0;G<D;G++)N.add(ys._createNode(E[G]));return N}};yr.Node=x,x.prototype.nodeType="Node",x.prototype._attrsAffectingSize=[],x.prototype.eventListeners={},x.prototype.on.call(x.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(b),this._clearSelfAndDescendantCache(h)}),x.prototype.on.call(x.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(M)}),x.prototype.on.call(x.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),x.prototype.on.call(x.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const F=e.Factory.addGetterSetter;return F(x,"zIndex"),F(x,"absolutePosition"),F(x,"position"),F(x,"x",0,(0,n.getNumberValidator)()),F(x,"y",0,(0,n.getNumberValidator)()),F(x,"globalCompositeOperation","source-over",(0,n.getStringValidator)()),F(x,"opacity",1,(0,n.getNumberValidator)()),F(x,"name","",(0,n.getStringValidator)()),F(x,"id","",(0,n.getStringValidator)()),F(x,"rotation",0,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"scale",["x","y"]),F(x,"scaleX",1,(0,n.getNumberValidator)()),F(x,"scaleY",1,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"skew",["x","y"]),F(x,"skewX",0,(0,n.getNumberValidator)()),F(x,"skewY",0,(0,n.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"offset",["x","y"]),F(x,"offsetX",0,(0,n.getNumberValidator)()),F(x,"offsetY",0,(0,n.getNumberValidator)()),F(x,"dragDistance",null,(0,n.getNumberValidator)()),F(x,"width",0,(0,n.getNumberValidator)()),F(x,"height",0,(0,n.getNumberValidator)()),F(x,"listening",!0,(0,n.getBooleanValidator)()),F(x,"preventDefault",!0,(0,n.getBooleanValidator)()),F(x,"filters",null,function(O){return this._filterUpToDate=!1,O}),F(x,"visible",!0,(0,n.getBooleanValidator)()),F(x,"transformsEnabled","all",(0,n.getStringValidator)()),F(x,"size"),F(x,"dragBoundFunc"),F(x,"draggable",!1,(0,n.getBooleanValidator)()),e.Factory.backCompat(x,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),yr}var br={},eo;function Nn(){if(eo)return br;eo=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Container=void 0;const t=ut(),e=Et(),r=dt();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(n){if(!n)return this.children||[];const a=this.children||[];var o=[];return a.forEach(function(h){n(h)&&o.push(h)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.destroy()}),this.children=[],this._requestDraw(),this}add(...n){if(n.length===0)return this;if(n.length>1){for(var a=0;a<n.length;a++)this.add(n[a]);return this}const o=n[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(n){return this._generalFind(n,!1)}findOne(n){var a=this._generalFind(n,!0);return a.length>0?a[0]:void 0}_generalFind(n,a){var o=[];return this._descendants(h=>{const c=h._isMatch(n);return c&&o.push(h),!!(c&&a)}),o}_descendants(n){let a=!1;const o=this.getChildren();for(const h of o){if(a=n(h),a)return!0;if(h.hasChildren()&&(a=h._descendants(n),a))return!0}return!1}toObject(){var n=e.Node.prototype.toObject.call(this);return n.children=[],this.getChildren().forEach(a=>{n.children.push(a.toObject())}),n}isAncestorOf(n){for(var a=n.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(n){var a=e.Node.prototype.clone.call(this,n);return this.getChildren().forEach(function(o){a.add(o.clone())}),a}getAllIntersections(n){var a=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(n)&&a.push(o)}),a}_clearSelfAndDescendantCache(n){var a;super._clearSelfAndDescendantCache(n),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(o){o._clearSelfAndDescendantCache(n)}))}_setChildrenIndices(){var n;(n=this.children)===null||n===void 0||n.forEach(function(a,o){a.index=o}),this._requestDraw()}drawScene(n,a){var o=this.getLayer(),h=n||o&&o.getCanvas(),c=h&&h.getContext(),_=this._getCanvasCache(),p=_&&_.scene,m=h&&h.isCache;if(!this.isVisible()&&!m)return this;if(p){c.save();var v=this.getAbsoluteTransform(a).getMatrix();c.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",h,a);return this}drawHit(n,a){if(!this.shouldDrawHit(a))return this;var o=this.getLayer(),h=n||o&&o.hitCanvas,c=h&&h.getContext(),_=this._getCanvasCache(),p=_&&_.hit;if(p){c.save();var m=this.getAbsoluteTransform(a).getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",h,a);return this}_drawChildren(n,a,o){var h,c=a&&a.getContext(),_=this.clipWidth(),p=this.clipHeight(),m=this.clipFunc(),v=_&&p||m;const g=o===this;if(v){c.save();var y=this.getAbsoluteTransform(o),S=y.getMatrix();c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),c.beginPath();let u;if(m)u=m.call(this,c,this);else{var R=this.clipX(),f=this.clipY();c.rect(R,f,_,p)}c.clip.apply(c,u),S=y.copy().invert().getMatrix(),c.transform(S[0],S[1],S[2],S[3],S[4],S[5])}var l=!g&&this.globalCompositeOperation()!=="source-over"&&n==="drawScene";l&&(c.save(),c._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(u){u[n](a,o)}),l&&c.restore(),v&&c.restore()}getClientRect(n={}){var a,o=n.skipTransform,h=n.relativeTo,c,_,p,m,v={x:1/0,y:1/0,width:0,height:0},g=this;(a=this.children)===null||a===void 0||a.forEach(function(l){if(l.visible()){var u=l.getClientRect({relativeTo:g,skipShadow:n.skipShadow,skipStroke:n.skipStroke});u.width===0&&u.height===0||(c===void 0?(c=u.x,_=u.y,p=u.x+u.width,m=u.y+u.height):(c=Math.min(c,u.x),_=Math.min(_,u.y),p=Math.max(p,u.x+u.width),m=Math.max(m,u.y+u.height)))}});for(var y=this.find("Shape"),S=!1,R=0;R<y.length;R++){var f=y[R];if(f._isVisible(this)){S=!0;break}}return S&&c!==void 0?v={x:c,y:_,width:p-c,height:m-_}:v={x:0,y:0,width:0,height:0},o?v:this._transformedRect(v,h)}};return br.Container=i,t.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(i,"clipFunc"),br}var zn={},Kt={},ro;function Kh(){if(ro)return Kt;ro=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.releaseCapture=Kt.setPointerCapture=Kt.hasPointerCapture=Kt.createEvent=Kt.getCapturedShape=void 0;const t=ft(),e=new Map,r=t.Konva._global.PointerEvent!==void 0;function i(h){return e.get(h)}Kt.getCapturedShape=i;function s(h){return{evt:h,pointerId:h.pointerId}}Kt.createEvent=s;function n(h,c){return e.get(h)===c}Kt.hasPointerCapture=n;function a(h,c){o(h),c.getStage()&&(e.set(h,c),r&&c._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}Kt.setPointerCapture=a;function o(h,c){const _=e.get(h);if(!_)return;const p=_.getStage();p&&p.content,e.delete(h),r&&_._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return Kt.releaseCapture=o,Kt}var io;function Ed(){return io||(io=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Tt(),r=ut(),i=Nn(),s=ft(),n=On(),a=Zs(),o=ft(),h=Kh();var c="Stage",_="string",p="px",m="mouseout",v="mouseleave",g="mouseover",y="mouseenter",S="mousemove",R="mousedown",f="mouseup",l="pointermove",u="pointerdown",b="pointerup",A="pointercancel",M="lostpointercapture",w="pointerout",T="pointerleave",x="pointerover",F="pointerenter",O="contextmenu",d="touchstart",C="touchend",P="touchmove",E="touchcancel",N="wheel",D=5,G=[[y,"_pointerenter"],[R,"_pointerdown"],[S,"_pointermove"],[f,"_pointerup"],[v,"_pointerleave"],[d,"_pointerdown"],[P,"_pointermove"],[C,"_pointerup"],[E,"_pointercancel"],[g,"_pointerover"],[N,"_wheel"],[O,"_contextmenu"],[u,"_pointerdown"],[l,"_pointermove"],[b,"_pointerup"],[A,"_pointercancel"],[M,"_lostpointercapture"]];const U={mouse:{[w]:m,[T]:v,[x]:g,[F]:y,[l]:S,[u]:R,[b]:f,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[T]:"touchleave",[x]:"touchover",[F]:"touchenter",[l]:P,[u]:d,[b]:C,[A]:E,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[T]:T,[x]:x,[F]:F,[l]:l,[u]:u,[b]:b,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=rt=>rt.indexOf("pointer")>=0?"pointer":rt.indexOf("touch")>=0?"touch":"mouse",V=rt=>{const L=$(rt);if(L==="pointer")return s.Konva.pointerEventsEnabled&&U.pointer;if(L==="touch")return U.touch;if(L==="mouse")return U.mouse};function q(rt={}){return(rt.clipFunc||rt.clipWidth||rt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),rt}const Q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class tt extends i.Container{constructor(L){super(q(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q(this.attrs)}),this._checkVisibility()}_validateAdd(L){const B=L.getType()==="Layer",z=L.getType()==="FastLayer";B||z||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===_){if(L.charAt(0)==="."){var B=L.slice(1);L=document.getElementsByClassName(B)[0]}else{var z;L.charAt(0)!=="#"?z=L:z=L.slice(1),L=document.getElementById(z)}if(!L)throw"Can not find container in document with id "+z}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var L=this.children,B=L.length,z;for(z=0;z<B;z++)L[z].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,L)}destroy(){super.destroy();var L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);var B=t.stages.indexOf(this);return B>-1&&t.stages.splice(B,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(Q),null)}_getPointerById(L){return this._pointerPositions.find(B=>B.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();var B=new n.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),z=B.getContext()._context,lt=this.children;return(L.x||L.y)&&z.translate(-1*L.x,-1*L.y),lt.forEach(function(ot){if(ot.isVisible()){var k=ot._toKonvaCanvas(L);z.drawImage(k._canvas,L.x,L.y,k.getWidth()/k.getPixelRatio(),k.getHeight()/k.getPixelRatio())}}),B}getIntersection(L){if(!L)return null;var B=this.children,z=B.length,lt=z-1,ot;for(ot=lt;ot>=0;ot--){const k=B[ot].getIntersection(L);if(k)return k}return null}_resizeDOM(){var L=this.width(),B=this.height();this.content&&(this.content.style.width=L+p,this.content.style.height=B+p),this.bufferCanvas.setSize(L,B),this.bufferHitCanvas.setSize(L,B),this.children.forEach(z=>{z.setSize({width:L,height:B}),z.draw()})}add(L,...B){if(arguments.length>1){for(var z=0;z<arguments.length;z++)this.add(arguments[z]);return this}super.add(L);var lt=this.children.length;return lt>D&&e.Util.warn("The stage has "+lt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),s.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return h.hasPointerCapture(L,this)}setPointerCapture(L){h.setPointerCapture(L,this)}releaseCapture(L){h.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&G.forEach(([L,B])=>{this.content.addEventListener(L,z=>{this[B](z)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const B=V(L.type);B&&this._fire(B.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const B=V(L.type);B&&this._fire(B.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let B=this[L+"targetShape"];return B&&!B.getStage()&&(B=null),B}_pointerleave(L){const B=V(L.type),z=$(L.type);if(B){this.setPointersPositions(L);var lt=this._getTargetShape(z),ot=!a.DD.isDragging||s.Konva.hitOnDragEnabled;lt&&ot?(lt._fireAndBubble(B.pointerout,{evt:L}),lt._fireAndBubble(B.pointerleave,{evt:L}),this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this[z+"targetShape"]=null):ot&&(this._fire(B.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(B.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(L){const B=V(L.type),z=$(L.type);if(B){this.setPointersPositions(L);var lt=!1;this._changedPointerPositions.forEach(ot=>{var k=this.getIntersection(ot);if(a.DD.justDragged=!1,s.Konva["_"+z+"ListenClick"]=!0,!k||!k.isListening())return;s.Konva.capturePointerEventsEnabled&&k.setPointerCapture(ot.id),this[z+"ClickStartShape"]=k,k._fireAndBubble(B.pointerdown,{evt:L,pointerId:ot.id}),lt=!0;const I=L.type.indexOf("touch")>=0;k.preventDefault()&&L.cancelable&&I&&L.preventDefault()}),lt||this._fire(B.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(L){const B=V(L.type),z=$(L.type);if(!B)return;a.DD.isDragging&&a.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L);var lt=!a.DD.isDragging||s.Konva.hitOnDragEnabled;if(!lt)return;var ot={};let k=!1;var I=this._getTargetShape(z);this._changedPointerPositions.forEach(H=>{const j=h.getCapturedShape(H.id)||this.getIntersection(H),W=H.id,X={evt:L,pointerId:W};var Z=I!==j;if(Z&&I&&(I._fireAndBubble(B.pointerout,{...X},j),I._fireAndBubble(B.pointerleave,{...X},j)),j){if(ot[j._id])return;ot[j._id]=!0}j&&j.isListening()?(k=!0,Z&&(j._fireAndBubble(B.pointerover,{...X},I),j._fireAndBubble(B.pointerenter,{...X},I),this[z+"targetShape"]=j),j._fireAndBubble(B.pointermove,{...X})):I&&(this._fire(B.pointerover,{evt:L,target:this,currentTarget:this,pointerId:W}),this[z+"targetShape"]=null)}),k||this._fire(B.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const B=V(L.type),z=$(L.type);if(!B)return;this.setPointersPositions(L);const lt=this[z+"ClickStartShape"],ot=this[z+"ClickEndShape"];var k={};let I=!1;this._changedPointerPositions.forEach(H=>{const j=h.getCapturedShape(H.id)||this.getIntersection(H);if(j){if(j.releaseCapture(H.id),k[j._id])return;k[j._id]=!0}const W=H.id,X={evt:L,pointerId:W};let Z=!1;s.Konva["_"+z+"InDblClickWindow"]?(Z=!0,clearTimeout(this[z+"DblTimeout"])):a.DD.justDragged||(s.Konva["_"+z+"InDblClickWindow"]=!0,clearTimeout(this[z+"DblTimeout"])),this[z+"DblTimeout"]=setTimeout(function(){s.Konva["_"+z+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),j&&j.isListening()?(I=!0,this[z+"ClickEndShape"]=j,j._fireAndBubble(B.pointerup,{...X}),s.Konva["_"+z+"ListenClick"]&&lt&&lt===j&&(j._fireAndBubble(B.pointerclick,{...X}),Z&&ot&&ot===j&&j._fireAndBubble(B.pointerdblclick,{...X}))):(this[z+"ClickEndShape"]=null,s.Konva["_"+z+"ListenClick"]&&this._fire(B.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:W}),Z&&this._fire(B.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:W}))}),I||this._fire(B.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+z+"ListenClick"]=!1,L.cancelable&&z!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(O,{evt:L}):this._fire(O,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);var B=this.getIntersection(this.getPointerPosition());B&&B.isListening()?B._fireAndBubble(N,{evt:L}):this._fire(N,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const B=h.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());B&&B._fireAndBubble(b,h.createEvent(L)),h.releaseCapture(L.pointerId)}_lostpointercapture(L){h.releaseCapture(L.pointerId)}setPointersPositions(L){var B=this._getContentPosition(),z=null,lt=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-B.left)/B.scaleX,y:(ot.clientY-B.top)/B.scaleY})})):(z=(L.clientX-B.left)/B.scaleX,lt=(L.clientY-B.top)/B.scaleY,this.pointerPos={x:z,y:lt},this._pointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:z,y:lt,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new n.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new n.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!s.Konva.isBrowser){var L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=tt,tt.prototype.nodeType=c,(0,o._registerNode)(tt),r.Factory.addGetterSetter(tt,"container")}(zn)),zn}var Sr={},$n={},no;function Ot(){return no||(no=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ft(),r=Tt(),i=ut(),s=Et(),n=dt(),a=ft(),o=Kh();var h="hasShadow",c="shadowRGBA",_="patternImage",p="linearGradient",m="radialGradient";let v;function g(){return v||(v=r.Util.createCanvasElement().getContext("2d"),v)}t.shapes={};function y(T){const x=this.attrs.fillRule;x?T.fill(x):T.fill()}function S(T){T.stroke()}function R(T){T.fill()}function f(T){T.stroke()}function l(){this._clearCache(h)}function u(){this._clearCache(c)}function b(){this._clearCache(_)}function A(){this._clearCache(p)}function M(){this._clearCache(m)}class w extends s.Node{constructor(x){super(x);let F;for(;F=r.Util.getRandomColor(),!(F&&!(F in t.shapes)););this.colorKey=F,t.shapes[F]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(_,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var x=g();const F=x.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(F&&F.setTransform){const O=new r.Transform;O.translate(this.fillPatternX(),this.fillPatternY()),O.rotate(e.Konva.getAngle(this.fillPatternRotation())),O.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),O.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const d=O.getMatrix(),C=typeof DOMMatrix>"u"?{a:d[0],b:d[1],c:d[2],d:d[3],e:d[4],f:d[5]}:new DOMMatrix(d);F.setTransform(C)}return F}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){var x=this.fillLinearGradientColorStops();if(x){for(var F=g(),O=this.fillLinearGradientStartPoint(),d=this.fillLinearGradientEndPoint(),C=F.createLinearGradient(O.x,O.y,d.x,d.y),P=0;P<x.length;P+=2)C.addColorStop(x[P],x[P+1]);return C}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){var x=this.fillRadialGradientColorStops();if(x){for(var F=g(),O=this.fillRadialGradientStartPoint(),d=this.fillRadialGradientEndPoint(),C=F.createRadialGradient(O.x,O.y,this.fillRadialGradientStartRadius(),d.x,d.y,this.fillRadialGradientEndRadius()),P=0;P<x.length;P+=2)C.addColorStop(x[P],x[P+1]);return C}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var x=r.Util.colorToRGBA(this.shadowColor());if(x)return"rgba("+x.r+","+x.g+","+x.b+","+x.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const x=this.hitStrokeWidth();return x==="auto"?this.hasStroke():this.strokeEnabled()&&!!x}intersects(x){var F=this.getStage();if(!F)return!1;const O=F.bufferHitCanvas;return O.getContext().clear(),this.drawHit(O,void 0,!0),O.context.getImageData(Math.round(x.x),Math.round(x.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(x){var F;if(!this.getStage()||!((F=this.attrs.perfectDrawEnabled)!==null&&F!==void 0?F:!0))return!1;const d=x||this.hasFill(),C=this.hasStroke(),P=this.getAbsoluteOpacity()!==1;if(d&&C&&P)return!0;const E=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(d&&C&&E&&N)}setStrokeHitEnabled(x){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),x?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var x=this.size();return{x:this._centroid?-x.width/2:0,y:this._centroid?-x.height/2:0,width:x.width,height:x.height}}getClientRect(x={}){const F=x.skipTransform,O=x.relativeTo,d=this.getSelfRect(),P=!x.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,E=d.width+P,N=d.height+P,D=!x.skipShadow&&this.hasShadow(),G=D?this.shadowOffsetX():0,U=D?this.shadowOffsetY():0,$=E+Math.abs(G),V=N+Math.abs(U),q=D&&this.shadowBlur()||0,Q=$+q*2,tt=V+q*2,rt={width:Q,height:tt,x:-(P/2+q)+Math.min(G,0)+d.x,y:-(P/2+q)+Math.min(U,0)+d.y};return F?rt:this._transformedRect(rt,O)}drawScene(x,F){var O=this.getLayer(),d=x||O.getCanvas(),C=d.getContext(),P=this._getCanvasCache(),E=this.getSceneFunc(),N=this.hasShadow(),D,G,U,$=d.isCache,V=F===this;if(!this.isVisible()&&!V)return this;if(P){C.save();var q=this.getAbsoluteTransform(F).getMatrix();return C.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedSceneCanvas(C),C.restore(),this}if(!E)return this;if(C.save(),this._useBufferCanvas()&&!$){D=this.getStage(),G=D.bufferCanvas,U=G.getContext(),U.clear(),U.save(),U._applyLineJoin(this);var Q=this.getAbsoluteTransform(F).getMatrix();U.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),E.call(this,U,this),U.restore();var tt=G.pixelRatio;N&&C._applyShadow(this),C._applyOpacity(this),C._applyGlobalCompositeOperation(this),C.drawImage(G._canvas,0,0,G.width/tt,G.height/tt)}else{if(C._applyLineJoin(this),!V){var Q=this.getAbsoluteTransform(F).getMatrix();C.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),C._applyOpacity(this),C._applyGlobalCompositeOperation(this)}N&&C._applyShadow(this),E.call(this,C,this)}return C.restore(),this}drawHit(x,F,O=!1){if(!this.shouldDrawHit(F,O))return this;var d=this.getLayer(),C=x||d.hitCanvas,P=C&&C.getContext(),E=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),D=N&&N.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),D){P.save();var G=this.getAbsoluteTransform(F).getMatrix();return P.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(P),P.restore(),this}if(!E)return this;if(P.save(),P._applyLineJoin(this),!(this===F)){var $=this.getAbsoluteTransform(F).getMatrix();P.transform($[0],$[1],$[2],$[3],$[4],$[5])}return E.call(this,P,this),P.restore(),this}drawHitFromCache(x=0){var F=this._getCanvasCache(),O=this._getCachedSceneCanvas(),d=F.hit,C=d.getContext(),P=d.getWidth(),E=d.getHeight(),N,D,G,U,$,V;C.clear(),C.drawImage(O._canvas,0,0,P,E);try{for(N=C.getImageData(0,0,P,E),D=N.data,G=D.length,U=r.Util._hexToRgb(this.colorKey),$=0;$<G;$+=4)V=D[$+3],V>x?(D[$]=U.r,D[$+1]=U.g,D[$+2]=U.b,D[$+3]=255):D[$+3]=0;C.putImageData(N,0,0)}catch(q){r.Util.error("Unable to draw hit graph from cached scene canvas. "+q.message)}return this}hasPointerCapture(x){return o.hasPointerCapture(x,this)}setPointerCapture(x){o.setPointerCapture(x,this)}releaseCapture(x){o.releaseCapture(x,this)}}t.Shape=w,w.prototype._fillFunc=y,w.prototype._strokeFunc=S,w.prototype._fillFuncHit=R,w.prototype._strokeFuncHit=f,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,a._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",u),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",b),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(w,"stroke",void 0,(0,n.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"strokeWidth",2,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,n.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,n.getBooleanValidator)()),i.Factory.addGetterSetter(w,"lineJoin"),i.Factory.addGetterSetter(w,"lineCap"),i.Factory.addGetterSetter(w,"sceneFunc"),i.Factory.addGetterSetter(w,"hitFunc"),i.Factory.addGetterSetter(w,"dash"),i.Factory.addGetterSetter(w,"dashOffset",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowColor",void 0,(0,n.getStringValidator)()),i.Factory.addGetterSetter(w,"shadowBlur",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOpacity",1,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternImage"),i.Factory.addGetterSetter(w,"fill",void 0,(0,n.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"fillPatternX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternY",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(w,"fillEnabled",!0),i.Factory.addGetterSetter(w,"strokeEnabled",!0),i.Factory.addGetterSetter(w,"shadowEnabled",!0),i.Factory.addGetterSetter(w,"dashEnabled",!0),i.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(w,"fillPriority","color"),i.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,n.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,n.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(w,"fillPatternRotation",0),i.Factory.addGetterSetter(w,"fillRule",void 0,(0,n.getStringValidator)()),i.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}($n)),$n}var so;function qh(){if(so)return Sr;so=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Layer=void 0;const t=Tt(),e=Nn(),r=Et(),i=ut(),s=On(),n=dt(),a=Ot(),o=ft();var h="#",c="beforeDraw",_="draw",p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m=p.length;let v=class extends e.Container{constructor(y){super(y),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),y<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[y+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:S}){return this.canvas.setSize(y,S),this.hitCanvas.setSize(y,S),this._setSmoothEnabled(),this}_validateAdd(y){var S=y.getType();S!=="Group"&&S!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var S=1,R=!1;;){for(let f=0;f<m;f++){const l=p[f],u=this._getIntersection({x:y.x+l.x*S,y:y.y+l.y*S}),b=u.shape;if(b)return b;if(R=!!u.antialiased,!u.antialiased)break}if(R)S+=1;else return null}}_getIntersection(y){const S=this.hitCanvas.pixelRatio,R=this.hitCanvas.context.getImageData(Math.round(y.x*S),Math.round(y.y*S),1,1).data,f=R[3];if(f===255){const l=t.Util._rgbToHex(R[0],R[1],R[2]),u=a.shapes[h+l];return u?{shape:u}:{antialiased:!0}}else if(f>0)return{antialiased:!0};return{}}drawScene(y,S){var R=this.getLayer(),f=y||R&&R.getCanvas();return this._fire(c,{node:this}),this.clearBeforeDraw()&&f.getContext().clear(),e.Container.prototype.drawScene.call(this,f,S),this._fire(_,{node:this}),this}drawHit(y,S){var R=this.getLayer(),f=y||R&&R.hitCanvas;return R&&R.clearBeforeDraw()&&R.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,f,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,S=!!this.hitCanvas._canvas.parentNode;S?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Sr.Layer=v,v.prototype.nodeType="Layer",(0,o._registerNode)(v),i.Factory.addGetterSetter(v,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(v,"clearBeforeDraw",!0),i.Factory.addGetterSetter(v,"hitGraphEnabled",!0,(0,n.getBooleanValidator)()),Sr}var Cr={},ao;function Ad(){if(ao)return Cr;ao=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.FastLayer=void 0;const t=Tt(),e=qh(),r=ft();let i=class extends e.Layer{constructor(n){super(n),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Cr.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),Cr}var wr={},oo;function ta(){if(oo)return wr;oo=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.Group=void 0;const t=Tt(),e=Nn(),r=ft();let i=class extends e.Container{_validateAdd(n){var a=n.getType();a!=="Group"&&a!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return wr.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),wr}var xr={},lo;function ea(){if(lo)return xr;lo=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.Animation=void 0;const t=ft(),e=Tt(),r=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class tr{constructor(n,a){this.id=tr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=n,this.setLayers(a)}setLayers(n){let a=[];return n&&(a=Array.isArray(n)?n:[n]),this.layers=a,this}getLayers(){return this.layers}addLayer(n){const a=this.layers,o=a.length;for(let h=0;h<o;h++)if(a[h]._id===n._id)return!1;return this.layers.push(n),!0}isRunning(){const a=tr.animations,o=a.length;for(let h=0;h<o;h++)if(a[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),tr._addAnimation(this),this}stop(){return tr._removeAnimation(this),this}_updateFrameObject(n){this.frame.timeDiff=n-this.frame.lastTime,this.frame.lastTime=n,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(n){this.animations.push(n),this._handleAnimation()}static _removeAnimation(n){const a=n.id,o=this.animations,h=o.length;for(let c=0;c<h;c++)if(o[c].id===a){this.animations.splice(c,1);break}}static _runFrames(){const n={},a=this.animations;for(let o=0;o<a.length;o++){const h=a[o],c=h.layers,_=h.func;h._updateFrameObject(r());const p=c.length;let m;if(_?m=_.call(h,h.frame)!==!1:m=!0,!!m)for(let v=0;v<p;v++){const g=c[v];g._id!==void 0&&(n[g._id]=g)}}for(let o in n)n.hasOwnProperty(o)&&n[o].batchDraw()}static _animationLoop(){const n=tr;n.animations.length?(n._runFrames(),e.Util.requestAnimFrame(n._animationLoop)):n.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return xr.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,xr}var Yn={},ho;function Rd(){return ho||(ho=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Tt(),r=ea(),i=Et(),s=ft();var n={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,h=3,c=0,_=["fill","stroke","shadowColor"];class p{constructor(g,y,S,R,f,l,u){this.prop=g,this.propFunc=y,this.begin=R,this._pos=R,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=u,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=f-this.begin,this.pause()}fire(g){var y=this[g];y&&y()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var g=this.getTimer()-this._startTime;this.state===o?this.setTime(g):this.state===h&&this.setTime(this.duration-g)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(g){var y=this,S=g.node,R=S._id,f,l=g.easing||t.Easings.Linear,u=!!g.yoyo,b;typeof g.duration>"u"?f=.3:g.duration===0?f=.001:f=g.duration,this.node=S,this._id=c++;var A=S.getLayer()||(S instanceof s.Konva.Stage?S.getLayers():null);A||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},A),this.tween=new p(b,function(M){y._tweenFunc(M)},l,0,1,f*1e3,u),this._addListeners(),m.attrs[R]||(m.attrs[R]={}),m.attrs[R][this._id]||(m.attrs[R][this._id]={}),m.tweens[R]||(m.tweens[R]={});for(b in g)n[b]===void 0&&this._addAttr(b,g[b]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,y){var S=this.node,R=S._id,f,l,u,b,A,M,w,T;if(u=m.tweens[R][g],u&&delete m.attrs[R][u][g],f=S.getAttr(g),e.Util._isArray(y))if(l=[],A=Math.max(y.length,f.length),g==="points"&&y.length!==f.length&&(y.length>f.length?(w=f,f=e.Util._prepareArrayForTween(f,y,S.closed())):(M=y,y=e.Util._prepareArrayForTween(y,f,S.closed()))),g.indexOf("fill")===0)for(b=0;b<A;b++)if(b%2===0)l.push(y[b]-f[b]);else{var x=e.Util.colorToRGBA(f[b]);T=e.Util.colorToRGBA(y[b]),f[b]=x,l.push({r:T.r-x.r,g:T.g-x.g,b:T.b-x.b,a:T.a-x.a})}else for(b=0;b<A;b++)l.push(y[b]-f[b]);else _.indexOf(g)!==-1?(f=e.Util.colorToRGBA(f),T=e.Util.colorToRGBA(y),l={r:T.r-f.r,g:T.g-f.g,b:T.b-f.b,a:T.a-f.a}):l=y-f;m.attrs[R][this._id][g]={start:f,diff:l,end:y,trueEnd:M,trueStart:w},m.tweens[R][g]=this._id}_tweenFunc(g){var y=this.node,S=m.attrs[y._id][this._id],R,f,l,u,b,A,M,w;for(R in S){if(f=S[R],l=f.start,u=f.diff,w=f.end,e.Util._isArray(l))if(b=[],M=Math.max(l.length,w.length),R.indexOf("fill")===0)for(A=0;A<M;A++)A%2===0?b.push((l[A]||0)+u[A]*g):b.push("rgba("+Math.round(l[A].r+u[A].r*g)+","+Math.round(l[A].g+u[A].g*g)+","+Math.round(l[A].b+u[A].b*g)+","+(l[A].a+u[A].a*g)+")");else for(A=0;A<M;A++)b.push((l[A]||0)+u[A]*g);else _.indexOf(R)!==-1?b="rgba("+Math.round(l.r+u.r*g)+","+Math.round(l.g+u.g*g)+","+Math.round(l.b+u.b*g)+","+(l.a+u.a*g)+")":b=l+u*g;y.setAttr(R,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var g=this.node,y=m.attrs[g._id][this._id];y.points&&y.points.trueEnd&&g.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var g=this.node,y=m.attrs[g._id][this._id];y.points&&y.points.trueStart&&g.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var g=this.node._id,y=this._id,S=m.tweens[g],R;this.pause();for(R in S)delete m.tweens[g][R];delete m.attrs[g][y]}}t.Tween=m,m.attrs={},m.tweens={},i.Node.prototype.to=function(v){var g=v.onFinish;v.node=this,v.onFinish=function(){this.destroy(),g&&g()};var y=new m(v);y.play()},t.Easings={BackEaseIn(v,g,y,S){var R=1.70158;return y*(v/=S)*v*((R+1)*v-R)+g},BackEaseOut(v,g,y,S){var R=1.70158;return y*((v=v/S-1)*v*((R+1)*v+R)+1)+g},BackEaseInOut(v,g,y,S){var R=1.70158;return(v/=S/2)<1?y/2*(v*v*(((R*=1.525)+1)*v-R))+g:y/2*((v-=2)*v*(((R*=1.525)+1)*v+R)+2)+g},ElasticEaseIn(v,g,y,S,R,f){var l=0;return v===0?g:(v/=S)===1?g+y:(f||(f=S*.3),!R||R<Math.abs(y)?(R=y,l=f/4):l=f/(2*Math.PI)*Math.asin(y/R),-(R*Math.pow(2,10*(v-=1))*Math.sin((v*S-l)*(2*Math.PI)/f))+g)},ElasticEaseOut(v,g,y,S,R,f){var l=0;return v===0?g:(v/=S)===1?g+y:(f||(f=S*.3),!R||R<Math.abs(y)?(R=y,l=f/4):l=f/(2*Math.PI)*Math.asin(y/R),R*Math.pow(2,-10*v)*Math.sin((v*S-l)*(2*Math.PI)/f)+y+g)},ElasticEaseInOut(v,g,y,S,R,f){var l=0;return v===0?g:(v/=S/2)===2?g+y:(f||(f=S*(.3*1.5)),!R||R<Math.abs(y)?(R=y,l=f/4):l=f/(2*Math.PI)*Math.asin(y/R),v<1?-.5*(R*Math.pow(2,10*(v-=1))*Math.sin((v*S-l)*(2*Math.PI)/f))+g:R*Math.pow(2,-10*(v-=1))*Math.sin((v*S-l)*(2*Math.PI)/f)*.5+y+g)},BounceEaseOut(v,g,y,S){return(v/=S)<1/2.75?y*(7.5625*v*v)+g:v<2/2.75?y*(7.5625*(v-=1.5/2.75)*v+.75)+g:v<2.5/2.75?y*(7.5625*(v-=2.25/2.75)*v+.9375)+g:y*(7.5625*(v-=2.625/2.75)*v+.984375)+g},BounceEaseIn(v,g,y,S){return y-t.Easings.BounceEaseOut(S-v,0,y,S)+g},BounceEaseInOut(v,g,y,S){return v<S/2?t.Easings.BounceEaseIn(v*2,0,y,S)*.5+g:t.Easings.BounceEaseOut(v*2-S,0,y,S)*.5+y*.5+g},EaseIn(v,g,y,S){return y*(v/=S)*v+g},EaseOut(v,g,y,S){return-y*(v/=S)*(v-2)+g},EaseInOut(v,g,y,S){return(v/=S/2)<1?y/2*v*v+g:-y/2*(--v*(v-2)-1)+g},StrongEaseIn(v,g,y,S){return y*(v/=S)*v*v*v*v+g},StrongEaseOut(v,g,y,S){return y*((v=v/S-1)*v*v*v*v+1)+g},StrongEaseInOut(v,g,y,S){return(v/=S/2)<1?y/2*v*v*v*v*v+g:y/2*((v-=2)*v*v*v*v+2)+g},Linear(v,g,y,S){return y*v/S+g}}}(Yn)),Yn}var co;function Fd(){return co||(co=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ft(),r=Tt(),i=Et(),s=Nn(),n=Ed(),a=qh(),o=Ad(),h=ta(),c=Zs(),_=Ot(),p=ea(),m=Rd(),v=jh(),g=On();t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:s.Container,Stage:n.Stage,stages:n.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:h.Group,DD:c.DD,Shape:_.Shape,shapes:_.shapes,Animation:p.Animation,Tween:m.Tween,Easings:m.Easings,Context:v.Context,Canvas:g.Canvas}),t.default=t.Konva}(Hn)),Hn}var Pr={},uo;function Md(){if(uo)return Pr;uo=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.Arc=void 0;const t=ut(),e=Ot(),r=ft(),i=dt(),s=ft();let n=class extends e.Shape{_sceneFunc(o){var h=r.Konva.getAngle(this.angle()),c=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,h,c),o.arc(0,0,this.innerRadius(),h,0,!c),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),h=this.outerRadius(),c=this.clockwise(),_=r.Konva.getAngle(c?360-this.angle():this.angle()),p=Math.cos(Math.min(_,Math.PI)),m=1,v=Math.sin(Math.min(Math.max(Math.PI,_),3*Math.PI/2)),g=Math.sin(Math.min(_,Math.PI/2)),y=p*(p>0?o:h),S=m*h,R=v*(v>0?o:h),f=g*(g>0?h:o);return{x:y,y:c?-1*f:R,width:S-y,height:f-R}}};return Pr.Arc=n,n.prototype._centroid=!0,n.prototype.className="Arc",n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clockwise",!1,(0,i.getBooleanValidator)()),Pr}var Tr={},Er={},fo;function Wh(){if(fo)return Er;fo=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Line=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();function s(o,h,c,_,p,m,v){var g=Math.sqrt(Math.pow(c-o,2)+Math.pow(_-h,2)),y=Math.sqrt(Math.pow(p-c,2)+Math.pow(m-_,2)),S=v*g/(g+y),R=v*y/(g+y),f=c-S*(p-o),l=_-S*(m-h),u=c+R*(p-o),b=_+R*(m-h);return[f,l,u,b]}function n(o,h){var c=o.length,_=[],p,m;for(p=2;p<c-2;p+=2)m=s(o[p-2],o[p-1],o[p],o[p+1],o[p+2],o[p+3],h),!isNaN(m[0])&&(_.push(m[0]),_.push(m[1]),_.push(o[p]),_.push(o[p+1]),_.push(m[2]),_.push(m[3]));return _}let a=class extends e.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){var c=this.points(),_=c.length,p=this.tension(),m=this.closed(),v=this.bezier(),g,y,S;if(_){if(h.beginPath(),h.moveTo(c[0],c[1]),p!==0&&_>4){for(g=this.getTensionPoints(),y=g.length,S=m?0:4,m||h.quadraticCurveTo(g[0],g[1],g[2],g[3]);S<y-2;)h.bezierCurveTo(g[S++],g[S++],g[S++],g[S++],g[S++],g[S++]);m||h.quadraticCurveTo(g[y-2],g[y-1],c[_-2],c[_-1])}else if(v)for(S=2;S<_;)h.bezierCurveTo(c[S++],c[S++],c[S++],c[S++],c[S++],c[S++]);else for(S=2;S<_;S+=2)h.lineTo(c[S],c[S+1]);m?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():n(this.points(),this.tension())}_getTensionPointsClosed(){var h=this.points(),c=h.length,_=this.tension(),p=s(h[c-2],h[c-1],h[0],h[1],h[2],h[3],_),m=s(h[c-4],h[c-3],h[c-2],h[c-1],h[0],h[1],_),v=n(h,_),g=[p[2],p[3]].concat(v).concat([m[0],m[1],h[c-2],h[c-1],m[2],m[3],p[0],p[1],h[0],h[1]]);return g}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();for(var c=h[0],_=h[0],p=h[1],m=h[1],v,g,y=0;y<h.length/2;y++)v=h[y*2],g=h[y*2+1],c=Math.min(c,v),_=Math.max(_,v),p=Math.min(p,g),m=Math.max(m,g);return{x:c,y:p,width:_-c,height:m-p}}};return Er.Line=a,a.prototype.className="Line",a.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(a),t.Factory.addGetterSetter(a,"closed",!1),t.Factory.addGetterSetter(a,"bezier",!1),t.Factory.addGetterSetter(a,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(a,"points",[],(0,r.getNumberArrayValidator)()),Er}var Ar={},Xn={},go;function Od(){return go||(go=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,o,h)=>{let c,_,p;c=h/2,_=0;for(let v=0;v<20;v++)p=c*t.tValues[20][v]+c,_+=t.cValues[20][v]*i(a,o,p);return c*_};t.getCubicArcLength=e;const r=(a,o,h)=>{h===void 0&&(h=1);const c=a[0]-2*a[1]+a[2],_=o[0]-2*o[1]+o[2],p=2*a[1]-2*a[0],m=2*o[1]-2*o[0],v=4*(c*c+_*_),g=4*(c*p+_*m),y=p*p+m*m;if(v===0)return h*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const S=g/(2*v),R=y/v,f=h+S,l=R-S*S,u=f*f+l>0?Math.sqrt(f*f+l):0,b=S*S+l>0?Math.sqrt(S*S+l):0,A=S+Math.sqrt(S*S+l)!==0?l*Math.log(Math.abs((f+u)/(S+b))):0;return Math.sqrt(v)/2*(f*u-S*b+A)};t.getQuadraticArcLength=r;function i(a,o,h){const c=s(1,h,a),_=s(1,h,o),p=c*c+_*_;return Math.sqrt(p)}const s=(a,o,h)=>{const c=h.length-1;let _,p;if(c===0)return 0;if(a===0){p=0;for(let m=0;m<=c;m++)p+=t.binomialCoefficients[c][m]*Math.pow(1-o,c-m)*Math.pow(o,m)*h[m];return p}else{_=new Array(c);for(let m=0;m<c;m++)_[m]=c*(h[m+1]-h[m]);return s(a-1,o,_)}},n=(a,o,h)=>{let c=1,_=a/o,p=(a-h(_))/o,m=0;for(;c>.001;){const v=h(_+p),g=Math.abs(a-v)/o;if(g<c)c=g,_+=p;else{const y=h(_-p),S=Math.abs(a-y)/o;S<c?(c=S,_-=p):p/=2}if(m++,m>500)break}return _};t.t2length=n}(Xn)),Xn}var po;function ra(){if(po)return Ar;po=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Path=void 0;const t=ut(),e=Ot(),r=ft(),i=Od();let s=class It extends e.Shape{constructor(a){super(a),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=It.parsePathData(this.data()),this.pathLength=It.getPathLength(this.dataArray)}_sceneFunc(a){var o=this.dataArray;a.beginPath();for(var h=!1,c=0;c<o.length;c++){var _=o[c].command,p=o[c].points;switch(_){case"L":a.lineTo(p[0],p[1]);break;case"M":a.moveTo(p[0],p[1]);break;case"C":a.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5]);break;case"Q":a.quadraticCurveTo(p[0],p[1],p[2],p[3]);break;case"A":var m=p[0],v=p[1],g=p[2],y=p[3],S=p[4],R=p[5],f=p[6],l=p[7],u=g>y?g:y,b=g>y?1:g/y,A=g>y?y/g:1;a.translate(m,v),a.rotate(f),a.scale(b,A),a.arc(0,0,u,S,S+R,1-l),a.scale(1/b,1/A),a.rotate(-f),a.translate(-m,-v);break;case"z":h=!0,a.closePath();break}}!h&&!this.hasFill()?a.strokeShape(this):a.fillStrokeShape(this)}getSelfRect(){var a=[];this.dataArray.forEach(function(g){if(g.command==="A"){var y=g.points[4],S=g.points[5],R=g.points[4]+S,f=Math.PI/180;if(Math.abs(y-R)<f&&(f=Math.abs(y-R)),S<0)for(let l=y-f;l>R;l-=f){const u=It.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],l,0);a.push(u.x,u.y)}else for(let l=y+f;l<R;l+=f){const u=It.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],l,0);a.push(u.x,u.y)}}else if(g.command==="C")for(let l=0;l<=1;l+=.01){const u=It.getPointOnCubicBezier(l,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);a.push(u.x,u.y)}else a=a.concat(g.points)});for(var o=a[0],h=a[0],c=a[1],_=a[1],p,m,v=0;v<a.length/2;v++)p=a[v*2],m=a[v*2+1],isNaN(p)||(o=Math.min(o,p),h=Math.max(h,p)),isNaN(m)||(c=Math.min(c,m),_=Math.max(_,m));return{x:o,y:c,width:h-o,height:_-c}}getLength(){return this.pathLength}getPointAtLength(a){return It.getPointAtLengthOfDataArray(a,this.dataArray)}static getLineLength(a,o,h,c){return Math.sqrt((h-a)*(h-a)+(c-o)*(c-o))}static getPathLength(a){let o=0;for(var h=0;h<a.length;++h)o+=a[h].pathLength;return o}static getPointAtLengthOfDataArray(a,o){var h,c=0,_=o.length;if(!_)return null;for(;c<_&&a>o[c].pathLength;)a-=o[c].pathLength,++c;if(c===_)return h=o[c-1].points.slice(-2),{x:h[0],y:h[1]};if(a<.01)return h=o[c].points.slice(0,2),{x:h[0],y:h[1]};var p=o[c],m=p.points;switch(p.command){case"L":return It.getPointOnLine(a,p.start.x,p.start.y,m[0],m[1]);case"C":return It.getPointOnCubicBezier((0,i.t2length)(a,It.getPathLength(o),u=>(0,i.getCubicArcLength)([p.start.x,m[0],m[2],m[4]],[p.start.y,m[1],m[3],m[5]],u)),p.start.x,p.start.y,m[0],m[1],m[2],m[3],m[4],m[5]);case"Q":return It.getPointOnQuadraticBezier((0,i.t2length)(a,It.getPathLength(o),u=>(0,i.getQuadraticArcLength)([p.start.x,m[0],m[2]],[p.start.y,m[1],m[3]],u)),p.start.x,p.start.y,m[0],m[1],m[2],m[3]);case"A":var v=m[0],g=m[1],y=m[2],S=m[3],R=m[4],f=m[5],l=m[6];return R+=f*a/p.pathLength,It.getPointOnEllipticalArc(v,g,y,S,R,l)}return null}static getPointOnLine(a,o,h,c,_,p,m){p===void 0&&(p=o),m===void 0&&(m=h);var v=(_-h)/(c-o+1e-8),g=Math.sqrt(a*a/(1+v*v));c<o&&(g*=-1);var y=v*g,S;if(c===o)S={x:p,y:m+y};else if((m-h)/(p-o+1e-8)===v)S={x:p+g,y:m+y};else{var R,f,l=this.getLineLength(o,h,c,_),u=(p-o)*(c-o)+(m-h)*(_-h);u=u/(l*l),R=o+u*(c-o),f=h+u*(_-h);var b=this.getLineLength(p,m,R,f),A=Math.sqrt(a*a-b*b);g=Math.sqrt(A*A/(1+v*v)),c<o&&(g*=-1),y=v*g,S={x:R+g,y:f+y}}return S}static getPointOnCubicBezier(a,o,h,c,_,p,m,v,g){function y(b){return b*b*b}function S(b){return 3*b*b*(1-b)}function R(b){return 3*b*(1-b)*(1-b)}function f(b){return(1-b)*(1-b)*(1-b)}var l=v*y(a)+p*S(a)+c*R(a)+o*f(a),u=g*y(a)+m*S(a)+_*R(a)+h*f(a);return{x:l,y:u}}static getPointOnQuadraticBezier(a,o,h,c,_,p,m){function v(f){return f*f}function g(f){return 2*f*(1-f)}function y(f){return(1-f)*(1-f)}var S=p*v(a)+c*g(a)+o*y(a),R=m*v(a)+_*g(a)+h*y(a);return{x:S,y:R}}static getPointOnEllipticalArc(a,o,h,c,_,p){var m=Math.cos(p),v=Math.sin(p),g={x:h*Math.cos(_),y:c*Math.sin(_)};return{x:a+(g.x*m-g.y*v),y:o+(g.x*v+g.y*m)}}static parsePathData(a){if(!a)return[];var o=a,h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var c=0;c<h.length;c++)o=o.replace(new RegExp(h[c],"g"),"|"+h[c]);var _=o.split("|"),p=[],m=[],v=0,g=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,S;for(c=1;c<_.length;c++){var R=_[c],f=R.charAt(0);for(R=R.slice(1),m.length=0;S=y.exec(R);)m.push(S[0]);for(var l=[],u=0,b=m.length;u<b;u++){if(m[u]==="00"){l.push(0,0);continue}var A=parseFloat(m[u]);isNaN(A)?l.push(0):l.push(A)}for(;l.length>0&&!isNaN(l[0]);){var M="",w=[],T=v,x=g,F,O,d,C,P,E,N,D,G,U;switch(f){case"l":v+=l.shift(),g+=l.shift(),M="L",w.push(v,g);break;case"L":v=l.shift(),g=l.shift(),w.push(v,g);break;case"m":var $=l.shift(),V=l.shift();if(v+=$,g+=V,M="M",p.length>2&&p[p.length-1].command==="z"){for(var q=p.length-2;q>=0;q--)if(p[q].command==="M"){v=p[q].points[0]+$,g=p[q].points[1]+V;break}}w.push(v,g),f="l";break;case"M":v=l.shift(),g=l.shift(),M="M",w.push(v,g),f="L";break;case"h":v+=l.shift(),M="L",w.push(v,g);break;case"H":v=l.shift(),M="L",w.push(v,g);break;case"v":g+=l.shift(),M="L",w.push(v,g);break;case"V":g=l.shift(),M="L",w.push(v,g);break;case"C":w.push(l.shift(),l.shift(),l.shift(),l.shift()),v=l.shift(),g=l.shift(),w.push(v,g);break;case"c":w.push(v+l.shift(),g+l.shift(),v+l.shift(),g+l.shift()),v+=l.shift(),g+=l.shift(),M="C",w.push(v,g);break;case"S":O=v,d=g,F=p[p.length-1],F.command==="C"&&(O=v+(v-F.points[2]),d=g+(g-F.points[3])),w.push(O,d,l.shift(),l.shift()),v=l.shift(),g=l.shift(),M="C",w.push(v,g);break;case"s":O=v,d=g,F=p[p.length-1],F.command==="C"&&(O=v+(v-F.points[2]),d=g+(g-F.points[3])),w.push(O,d,v+l.shift(),g+l.shift()),v+=l.shift(),g+=l.shift(),M="C",w.push(v,g);break;case"Q":w.push(l.shift(),l.shift()),v=l.shift(),g=l.shift(),w.push(v,g);break;case"q":w.push(v+l.shift(),g+l.shift()),v+=l.shift(),g+=l.shift(),M="Q",w.push(v,g);break;case"T":O=v,d=g,F=p[p.length-1],F.command==="Q"&&(O=v+(v-F.points[0]),d=g+(g-F.points[1])),v=l.shift(),g=l.shift(),M="Q",w.push(O,d,v,g);break;case"t":O=v,d=g,F=p[p.length-1],F.command==="Q"&&(O=v+(v-F.points[0]),d=g+(g-F.points[1])),v+=l.shift(),g+=l.shift(),M="Q",w.push(O,d,v,g);break;case"A":C=l.shift(),P=l.shift(),E=l.shift(),N=l.shift(),D=l.shift(),G=v,U=g,v=l.shift(),g=l.shift(),M="A",w=this.convertEndpointToCenterParameterization(G,U,v,g,N,D,C,P,E);break;case"a":C=l.shift(),P=l.shift(),E=l.shift(),N=l.shift(),D=l.shift(),G=v,U=g,v+=l.shift(),g+=l.shift(),M="A",w=this.convertEndpointToCenterParameterization(G,U,v,g,N,D,C,P,E);break}p.push({command:M||f,points:w,start:{x:T,y:x},pathLength:this.calcLength(T,x,M||f,w)})}(f==="z"||f==="Z")&&p.push({command:"z",points:[],start:void 0,pathLength:0})}return p}static calcLength(a,o,h,c){var _,p,m,v,g=It;switch(h){case"L":return g.getLineLength(a,o,c[0],c[1]);case"C":return(0,i.getCubicArcLength)([a,c[0],c[2],c[4]],[o,c[1],c[3],c[5]],1);case"Q":return(0,i.getQuadraticArcLength)([a,c[0],c[2]],[o,c[1],c[3]],1);case"A":_=0;var y=c[4],S=c[5],R=c[4]+S,f=Math.PI/180;if(Math.abs(y-R)<f&&(f=Math.abs(y-R)),p=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],y,0),S<0)for(v=y-f;v>R;v-=f)m=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],v,0),_+=g.getLineLength(p.x,p.y,m.x,m.y),p=m;else for(v=y+f;v<R;v+=f)m=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],v,0),_+=g.getLineLength(p.x,p.y,m.x,m.y),p=m;return m=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],R,0),_+=g.getLineLength(p.x,p.y,m.x,m.y),_}return 0}static convertEndpointToCenterParameterization(a,o,h,c,_,p,m,v,g){var y=g*(Math.PI/180),S=Math.cos(y)*(a-h)/2+Math.sin(y)*(o-c)/2,R=-1*Math.sin(y)*(a-h)/2+Math.cos(y)*(o-c)/2,f=S*S/(m*m)+R*R/(v*v);f>1&&(m*=Math.sqrt(f),v*=Math.sqrt(f));var l=Math.sqrt((m*m*(v*v)-m*m*(R*R)-v*v*(S*S))/(m*m*(R*R)+v*v*(S*S)));_===p&&(l*=-1),isNaN(l)&&(l=0);var u=l*m*R/v,b=l*-v*S/m,A=(a+h)/2+Math.cos(y)*u-Math.sin(y)*b,M=(o+c)/2+Math.sin(y)*u+Math.cos(y)*b,w=function(P){return Math.sqrt(P[0]*P[0]+P[1]*P[1])},T=function(P,E){return(P[0]*E[0]+P[1]*E[1])/(w(P)*w(E))},x=function(P,E){return(P[0]*E[1]<P[1]*E[0]?-1:1)*Math.acos(T(P,E))},F=x([1,0],[(S-u)/m,(R-b)/v]),O=[(S-u)/m,(R-b)/v],d=[(-1*S-u)/m,(-1*R-b)/v],C=x(O,d);return T(O,d)<=-1&&(C=Math.PI),T(O,d)>=1&&(C=0),p===0&&C>0&&(C=C-2*Math.PI),p===1&&C<0&&(C=C+2*Math.PI),[A,M,m,v,F,C,y,p]}};return Ar.Path=s,s.prototype.className="Path",s.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"data"),Ar}var vo;function Nd(){if(vo)return Tr;vo=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Arrow=void 0;const t=ut(),e=Wh(),r=dt(),i=ft(),s=ra();let n=class extends e.Line{_sceneFunc(o){super._sceneFunc(o);var h=Math.PI*2,c=this.points(),_=c,p=this.tension()!==0&&c.length>4;p&&(_=this.getTensionPoints());var m=this.pointerLength(),v=c.length,g,y;if(p){const f=[_[_.length-4],_[_.length-3],_[_.length-2],_[_.length-1],c[v-2],c[v-1]],l=s.Path.calcLength(_[_.length-4],_[_.length-3],"C",f),u=s.Path.getPointOnQuadraticBezier(Math.min(1,1-m/l),f[0],f[1],f[2],f[3],f[4],f[5]);g=c[v-2]-u.x,y=c[v-1]-u.y}else g=c[v-2]-c[v-4],y=c[v-1]-c[v-3];var S=(Math.atan2(y,g)+h)%h,R=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(c[v-2],c[v-1]),o.rotate(S),o.moveTo(0,0),o.lineTo(-m,R/2),o.lineTo(-m,-R/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(c[0],c[1]),p?(g=(_[0]+_[2])/2-c[0],y=(_[1]+_[3])/2-c[1]):(g=c[2]-c[0],y=c[3]-c[1]),o.rotate((Math.atan2(-y,-g)+h)%h),o.moveTo(0,0),o.lineTo(-m,R/2),o.lineTo(-m,-R/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),h=this.pointerWidth()/2;return{x:o.x-h,y:o.y-h,width:o.width+h*2,height:o.height+h*2}}};return Tr.Arrow=n,n.prototype.className="Arrow",(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"pointerLength",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"pointerWidth",10,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"pointerAtBeginning",!1),t.Factory.addGetterSetter(n,"pointerAtEnding",!0),Tr}var Rr={},_o;function kd(){if(_o)return Rr;_o=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Circle=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius()!==a/2&&this.radius(a/2)}setHeight(a){this.radius()!==a/2&&this.radius(a/2)}};return Rr.Circle=s,s.prototype._centroid=!0,s.prototype.className="Circle",s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),Rr}var Fr={},mo;function Ld(){if(mo)return Fr;mo=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Ellipse=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(a){var o=this.radiusX(),h=this.radiusY();a.beginPath(),a.save(),o!==h&&a.scale(1,h/o),a.arc(0,0,o,0,Math.PI*2,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(a){this.radiusX(a/2)}setHeight(a){this.radiusY(a/2)}};return Fr.Ellipse=s,s.prototype.className="Ellipse",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(s),t.Factory.addComponentsGetterSetter(s,"radius",["x","y"]),t.Factory.addGetterSetter(s,"radiusX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"radiusY",0,(0,r.getNumberValidator)()),Fr}var Mr={},yo;function Dd(){if(yo)return Mr;yo=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.Image=void 0;const t=Tt(),e=ut(),r=Ot(),i=ft(),s=dt();let n=class zh extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const h=this.getWidth(),c=this.getHeight(),_=this.cornerRadius(),p=this.attrs.image;let m;if(p){const v=this.attrs.cropWidth,g=this.attrs.cropHeight;v&&g?m=[p,this.cropX(),this.cropY(),v,g,0,0,h,c]:m=[p,0,0,h,c]}(this.hasFill()||this.hasStroke()||_)&&(o.beginPath(),_?t.Util.drawRoundedRectPath(o,h,c,_):o.rect(0,0,h,c),o.closePath(),o.fillStrokeShape(this)),p&&(_&&o.clip(),o.drawImage.apply(o,m))}_hitFunc(o){var h=this.width(),c=this.height(),_=this.cornerRadius();o.beginPath(),_?t.Util.drawRoundedRectPath(o,h,c,_):o.rect(0,0,h,c),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,h;return(o=this.attrs.width)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var o,h;return(o=this.attrs.height)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(o,h,c=null){var _=t.Util.createImageElement();_.onload=function(){var p=new zh({image:_});h(p)},_.onerror=c,_.crossOrigin="Anonymous",_.src=o}};return Mr.Image=n,n.prototype.className="Image",(0,i._registerNode)(n),e.Factory.addGetterSetter(n,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(n,"image"),e.Factory.addComponentsGetterSetter(n,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(n,"cropX",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropY",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropWidth",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(n,"cropHeight",0,(0,s.getNumberValidator)()),Mr}var De={},bo;function Id(){if(bo)return De;bo=1,Object.defineProperty(De,"__esModule",{value:!0}),De.Tag=De.Label=void 0;const t=ut(),e=Ot(),r=ta(),i=dt(),s=ft();var n=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="Change.konva",o="none",h="up",c="right",_="down",p="left",m=n.length;let v=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(R){this._addListeners(R.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){var R=this,f,l=function(){R._sync()};for(f=0;f<m;f++)S.on(n[f]+a,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var S=this.getText(),R=this.getTag(),f,l,u,b,A,M,w;if(S&&R){switch(f=S.width(),l=S.height(),u=R.pointerDirection(),b=R.pointerWidth(),w=R.pointerHeight(),A=0,M=0,u){case h:A=f/2,M=-1*w;break;case c:A=f+b,M=l/2;break;case _:A=f/2,M=l+w;break;case p:A=-1*b,M=l/2;break}R.setAttrs({x:-1*A,y:-1*M,width:f,height:l}),S.setAttrs({x:-1*A,y:-1*M})}}};De.Label=v,v.prototype.className="Label",(0,s._registerNode)(v);class g extends e.Shape{_sceneFunc(S){var R=this.width(),f=this.height(),l=this.pointerDirection(),u=this.pointerWidth(),b=this.pointerHeight(),A=this.cornerRadius();let M=0,w=0,T=0,x=0;typeof A=="number"?M=w=T=x=Math.min(A,R/2,f/2):(M=Math.min(A[0]||0,R/2,f/2),w=Math.min(A[1]||0,R/2,f/2),x=Math.min(A[2]||0,R/2,f/2),T=Math.min(A[3]||0,R/2,f/2)),S.beginPath(),S.moveTo(M,0),l===h&&(S.lineTo((R-u)/2,0),S.lineTo(R/2,-1*b),S.lineTo((R+u)/2,0)),S.lineTo(R-w,0),S.arc(R-w,w,w,Math.PI*3/2,0,!1),l===c&&(S.lineTo(R,(f-b)/2),S.lineTo(R+u,f/2),S.lineTo(R,(f+b)/2)),S.lineTo(R,f-x),S.arc(R-x,f-x,x,0,Math.PI/2,!1),l===_&&(S.lineTo((R+u)/2,f),S.lineTo(R/2,f+b),S.lineTo((R-u)/2,f)),S.lineTo(T,f),S.arc(T,f-T,T,Math.PI/2,Math.PI,!1),l===p&&(S.lineTo(0,(f+b)/2),S.lineTo(-1*u,f/2),S.lineTo(0,(f-b)/2)),S.lineTo(0,M),S.arc(M,M,M,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){var S=0,R=0,f=this.pointerWidth(),l=this.pointerHeight(),u=this.pointerDirection(),b=this.width(),A=this.height();return u===h?(R-=l,A+=l):u===_?A+=l:u===p?(S-=f*1.5,b+=f):u===c&&(b+=f*1.5),{x:S,y:R,width:b,height:A}}}return De.Tag=g,g.prototype.className="Tag",(0,s._registerNode)(g),t.Factory.addGetterSetter(g,"pointerDirection",o),t.Factory.addGetterSetter(g,"pointerWidth",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(g,"pointerHeight",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(g,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),De}var Or={},So;function $h(){if(So)return Or;So=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Rect=void 0;const t=ut(),e=Ot(),r=ft(),i=Tt(),s=dt();let n=class extends e.Shape{_sceneFunc(o){var h=this.cornerRadius(),c=this.width(),_=this.height();o.beginPath(),h?i.Util.drawRoundedRectPath(o,c,_,h):o.rect(0,0,c,_),o.closePath(),o.fillStrokeShape(this)}};return Or.Rect=n,n.prototype.className="Rect",(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),Or}var Nr={},Co;function Gd(){if(Co)return Nr;Co=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.RegularPolygon=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(a){const o=this._getPoints();a.beginPath(),a.moveTo(o[0].x,o[0].y);for(var h=1;h<o.length;h++)a.lineTo(o[h].x,o[h].y);a.closePath(),a.fillStrokeShape(this)}_getPoints(){const a=this.attrs.sides,o=this.attrs.radius||0,h=[];for(var c=0;c<a;c++)h.push({x:o*Math.sin(c*2*Math.PI/a),y:-1*o*Math.cos(c*2*Math.PI/a)});return h}getSelfRect(){const a=this._getPoints();var o=a[0].x,h=a[0].y,c=a[0].x,_=a[0].y;return a.forEach(p=>{o=Math.min(o,p.x),h=Math.max(h,p.x),c=Math.min(c,p.y),_=Math.max(_,p.y)}),{x:o,y:c,width:h-o,height:_-c}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Nr.RegularPolygon=s,s.prototype.className="RegularPolygon",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"sides",0,(0,r.getNumberValidator)()),Nr}var kr={},wo;function Ud(){if(wo)return kr;wo=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.Ring=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();var s=Math.PI*2;let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,s,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),s,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return kr.Ring=n,n.prototype.className="Ring",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,r.getNumberValidator)()),kr}var Lr={},xo;function Bd(){if(xo)return Lr;xo=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Sprite=void 0;const t=ut(),e=Ot(),r=ea(),i=dt(),s=ft();let n=class extends e.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var h=this.animation(),c=this.frameIndex(),_=c*4,p=this.animations()[h],m=this.frameOffsets(),v=p[_+0],g=p[_+1],y=p[_+2],S=p[_+3],R=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,S),o.closePath(),o.fillStrokeShape(this)),R)if(m){var f=m[h],l=c*2;o.drawImage(R,v,g,y,S,f[l+0],f[l+1],y,S)}else o.drawImage(R,v,g,y,S,0,0,y,S)}_hitFunc(o){var h=this.animation(),c=this.frameIndex(),_=c*4,p=this.animations()[h],m=this.frameOffsets(),v=p[_+2],g=p[_+3];if(o.beginPath(),m){var y=m[h],S=c*2;o.rect(y[S+0],y[S+1],v,g)}else o.rect(0,0,v,g);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),h=this.animation(),c=this.animations(),_=c[h],p=_.length/4;o<p-1?this.frameIndex(o+1):this.frameIndex(0)}};return Lr.Sprite=n,n.prototype.className="Sprite",(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"animation"),t.Factory.addGetterSetter(n,"animations"),t.Factory.addGetterSetter(n,"frameOffsets"),t.Factory.addGetterSetter(n,"image"),t.Factory.addGetterSetter(n,"frameIndex",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"frameRate",17,(0,i.getNumberValidator)()),t.Factory.backCompat(n,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Lr}var Dr={},Po;function Vd(){if(Po)return Dr;Po=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Star=void 0;const t=ut(),e=Ot(),r=dt(),i=ft();let s=class extends e.Shape{_sceneFunc(a){var o=this.innerRadius(),h=this.outerRadius(),c=this.numPoints();a.beginPath(),a.moveTo(0,0-h);for(var _=1;_<c*2;_++){var p=_%2===0?h:o,m=p*Math.sin(_*Math.PI/c),v=-1*p*Math.cos(_*Math.PI/c);a.lineTo(m,v)}a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Dr.Star=s,s.prototype.className="Star",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"numPoints",5,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),Dr}var Ie={},To;function Yh(){if(To)return Ie;To=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.Text=Ie.stringToArray=void 0;const t=Tt(),e=ut(),r=Ot(),i=dt(),s=ft();function n($){return Array.from($)}Ie.stringToArray=n;var a="auto",o="center",h="inherit",c="justify",_="Change.konva",p="2d",m="-",v="left",g="text",y="Text",S="top",R="bottom",f="middle",l="normal",u="px ",b=" ",A="right",M="rtl",w="word",T="char",x="none",F="…",O=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],d=O.length;function C($){return $.split(",").map(V=>{V=V.trim();const q=V.indexOf(" ")>=0,Q=V.indexOf('"')>=0||V.indexOf("'")>=0;return q&&!Q&&(V=`"${V}"`),V}).join(", ")}var P;function E(){return P||(P=t.Util.createCanvasElement().getContext(p),P)}function N($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function D($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function G($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let U=class extends r.Shape{constructor(V){super(G(V)),this._partialTextX=0,this._partialTextY=0;for(var q=0;q<d;q++)this.on(O[q]+_,this._setTextData);this._setTextData()}_sceneFunc(V){var q=this.textArr,Q=q.length;if(this.text()){var tt=this.padding(),rt=this.fontSize(),L=this.lineHeight()*rt,B=this.verticalAlign(),z=this.direction(),lt=0,ot=this.align(),k=this.getWidth(),I=this.letterSpacing(),H=this.fill(),j=this.textDecoration(),W=j.indexOf("underline")!==-1,X=j.indexOf("line-through")!==-1,Z;z=z===h?V.direction:z;var Y=0,Y=L/2,J=0,K=0;for(z===M&&V.setAttr("direction",z),V.setAttr("font",this._getContextFont()),V.setAttr("textBaseline",f),V.setAttr("textAlign",v),B===f?lt=(this.getHeight()-Q*L-tt*2)/2:B===R&&(lt=this.getHeight()-Q*L-tt*2),V.translate(tt,lt+tt),Z=0;Z<Q;Z++){var J=0,K=0,it=q[Z],et=it.text,st=it.width,at=it.lastInParagraph,ht,vt,gt;if(V.save(),ot===A?J+=k-st-tt*2:ot===o&&(J+=(k-st-tt*2)/2),W){V.save(),V.beginPath(),V.moveTo(J,Y+K+Math.round(rt/2)),ht=et.split(" ").length-1,vt=ht===0,gt=ot===c&&!at?k-tt*2:st,V.lineTo(J+Math.round(gt),Y+K+Math.round(rt/2)),V.lineWidth=rt/15;const Xe=this._getLinearGradient();V.strokeStyle=Xe||H,V.stroke(),V.restore()}if(X){V.save(),V.beginPath(),V.moveTo(J,Y+K),ht=et.split(" ").length-1,vt=ht===0,gt=ot===c&&at&&!vt?k-tt*2:st,V.lineTo(J+Math.round(gt),Y+K),V.lineWidth=rt/15;const Xe=this._getLinearGradient();V.strokeStyle=Xe||H,V.stroke(),V.restore()}if(z!==M&&(I!==0||ot===c)){ht=et.split(" ").length-1;for(var St=n(et),At=0;At<St.length;At++){var Ht=St[At];Ht===" "&&!at&&ot===c&&(J+=(k-tt*2-st)/ht),this._partialTextX=J,this._partialTextY=Y+K,this._partialText=Ht,V.fillStrokeShape(this),J+=this.measureSize(Ht).width+I}}else I!==0&&V.setAttr("letterSpacing",`${I}px`),this._partialTextX=J,this._partialTextY=Y+K,this._partialText=et,V.fillStrokeShape(this);V.restore(),Q>1&&(Y+=L)}}}_hitFunc(V){var q=this.getWidth(),Q=this.getHeight();V.beginPath(),V.rect(0,0,q,Q),V.closePath(),V.fillStrokeShape(this)}setText(V){var q=t.Util._isString(V)?V:V==null?"":V+"";return this._setAttr(g,q),this}getWidth(){var V=this.attrs.width===a||this.attrs.width===void 0;return V?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var V=this.attrs.height===a||this.attrs.height===void 0;return V?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(V){var q=E(),Q=this.fontSize(),tt;return q.save(),q.font=this._getContextFont(),tt=q.measureText(V),q.restore(),{width:tt.width,height:Q}}_getContextFont(){return this.fontStyle()+b+this.fontVariant()+b+(this.fontSize()+u)+C(this.fontFamily())}_addTextLine(V){this.align()===c&&(V=V.trim());var Q=this._getTextWidth(V);return this.textArr.push({text:V,width:Q,lastInParagraph:!1})}_getTextWidth(V){var q=this.letterSpacing(),Q=V.length;return E().measureText(V).width+(Q?q*(Q-1):0)}_setTextData(){var V=this.text().split(`
`),q=+this.fontSize(),Q=0,tt=this.lineHeight()*q,rt=this.attrs.width,L=this.attrs.height,B=rt!==a&&rt!==void 0,z=L!==a&&L!==void 0,lt=this.padding(),ot=rt-lt*2,k=L-lt*2,I=0,H=this.wrap(),j=H!==x,W=H!==T&&j,X=this.ellipsis();this.textArr=[],E().font=this._getContextFont();for(var Z=X?this._getTextWidth(F):0,Y=0,J=V.length;Y<J;++Y){var K=V[Y],it=this._getTextWidth(K);if(B&&it>ot)for(;K.length>0;){for(var et=0,st=K.length,at="",ht=0;et<st;){var vt=et+st>>>1,gt=K.slice(0,vt+1),St=this._getTextWidth(gt)+Z;St<=ot?(et=vt+1,at=gt,ht=St):st=vt}if(at){if(W){var At,Ht=K[at.length],Di=Ht===b||Ht===m;Di&&ht<=ot?At=at.length:At=Math.max(at.lastIndexOf(b),at.lastIndexOf(m))+1,At>0&&(et=At,at=at.slice(0,et),ht=this._getTextWidth(at))}at=at.trimRight(),this._addTextLine(at),Q=Math.max(Q,ht),I+=tt;var Ne=this._shouldHandleEllipsis(I);if(Ne){this._tryToAddEllipsisToLastLine();break}if(K=K.slice(et),K=K.trimLeft(),K.length>0&&(it=this._getTextWidth(K),it<=ot)){this._addTextLine(K),I+=tt,Q=Math.max(Q,it);break}}else break}else this._addTextLine(K),I+=tt,Q=Math.max(Q,it),this._shouldHandleEllipsis(I)&&Y<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),z&&I+tt>k)break}this.textHeight=q,this.textWidth=Q}_shouldHandleEllipsis(V){var q=+this.fontSize(),Q=this.lineHeight()*q,tt=this.attrs.height,rt=tt!==a&&tt!==void 0,L=this.padding(),B=tt-L*2,z=this.wrap(),lt=z!==x;return!lt||rt&&V+Q>B}_tryToAddEllipsisToLastLine(){var V=this.attrs.width,q=V!==a&&V!==void 0,Q=this.padding(),tt=V-Q*2,rt=this.ellipsis(),L=this.textArr[this.textArr.length-1];if(!(!L||!rt)){if(q){var B=this._getTextWidth(L.text+F)<tt;B||(L.text=L.text.slice(0,L.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(L.text+F)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const V=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,q=this.hasShadow();return V&&q?!0:super._useBufferCanvas()}};return Ie.Text=U,U.prototype._fillFunc=N,U.prototype._strokeFunc=D,U.prototype.className=y,U.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(U),e.Factory.overWriteSetter(U,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(U,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(U,"direction",h),e.Factory.addGetterSetter(U,"fontFamily","Arial"),e.Factory.addGetterSetter(U,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"fontStyle",l),e.Factory.addGetterSetter(U,"fontVariant",l),e.Factory.addGetterSetter(U,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"align",v),e.Factory.addGetterSetter(U,"verticalAlign",S),e.Factory.addGetterSetter(U,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"wrap",w),e.Factory.addGetterSetter(U,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(U,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(U,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(U,"textDecoration",""),Ie}var Ir={},Eo;function Hd(){if(Eo)return Ir;Eo=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.TextPath=void 0;const t=Tt(),e=ut(),r=Ot(),i=ra(),s=Yh(),n=dt(),a=ft();var o="",h="normal";function c(m){m.fillText(this.partialText,0,0)}function _(m){m.strokeText(this.partialText,0,0)}let p=class extends r.Shape{constructor(v){super(v),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(v){if(!this.attrs.data)return null;const g=this.pathLength;return v-1>g?null:i.Path.getPointAtLengthOfDataArray(v,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(v){v.setAttr("font",this._getContextFont()),v.setAttr("textBaseline",this.textBaseline()),v.setAttr("textAlign","left"),v.save();var g=this.textDecoration(),y=this.fill(),S=this.fontSize(),R=this.glyphInfo;g==="underline"&&v.beginPath();for(var f=0;f<R.length;f++){v.save();var l=R[f].p0;v.translate(l.x,l.y),v.rotate(R[f].rotation),this.partialText=R[f].text,v.fillStrokeShape(this),g==="underline"&&(f===0&&v.moveTo(0,S/2+1),v.lineTo(S,S/2+1)),v.restore()}g==="underline"&&(v.strokeStyle=y,v.lineWidth=S/20,v.stroke()),v.restore()}_hitFunc(v){v.beginPath();var g=this.glyphInfo;if(g.length>=1){var y=g[0].p0;v.moveTo(y.x,y.y)}for(var S=0;S<g.length;S++){var R=g[S].p1;v.lineTo(R.x,R.y)}v.setAttr("lineWidth",this.fontSize()),v.setAttr("strokeStyle",this.colorKey),v.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(v){return s.Text.prototype.setText.call(this,v)}_getContextFont(){return s.Text.prototype._getContextFont.call(this)}_getTextSize(v){var g=this.dummyCanvas,y=g.getContext("2d");y.save(),y.font=this._getContextFont();var S=y.measureText(v);return y.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:v,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=v,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),S=this.align(),R=this.kerningFunc(),f=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let l=0;S==="center"&&(l=Math.max(0,this.pathLength/2-f/2)),S==="right"&&(l=Math.max(0,this.pathLength-f));const u=(0,s.stringToArray)(this.text());let b=l;for(var A=0;A<u.length;A++){const M=this._getPointAtLength(b);if(!M)return;let w=this._getTextSize(u[A]).width+y;if(u[A]===" "&&S==="justify"){const C=this.text().split(" ").length-1;w+=(this.pathLength-f)/C}const T=this._getPointAtLength(b+w);if(!T)return;const x=i.Path.getLineLength(M.x,M.y,T.x,T.y);let F=0;if(R)try{F=R(u[A-1],u[A])*this.fontSize()}catch{F=0}M.x+=F,T.x+=F,this.textWidth+=F;const O=i.Path.getPointOnLine(F+x/2,M.x,M.y,T.x,T.y),d=Math.atan2(T.y-M.y,T.x-M.x);this.glyphInfo.push({transposeX:O.x,transposeY:O.y,text:u[A],rotation:d,p0:M,p1:T}),b+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var v=[];this.glyphInfo.forEach(function(A){v.push(A.p0.x),v.push(A.p0.y),v.push(A.p1.x),v.push(A.p1.y)});for(var g=v[0]||0,y=v[0]||0,S=v[1]||0,R=v[1]||0,f,l,u=0;u<v.length/2;u++)f=v[u*2],l=v[u*2+1],g=Math.min(g,f),y=Math.max(y,f),S=Math.min(S,l),R=Math.max(R,l);var b=this.fontSize();return{x:g-b/2,y:S-b/2,width:y-g+b,height:R-S+b}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ir.TextPath=p,p.prototype._fillFunc=c,p.prototype._strokeFunc=_,p.prototype._fillFuncHit=c,p.prototype._strokeFuncHit=_,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(p),e.Factory.addGetterSetter(p,"data"),e.Factory.addGetterSetter(p,"fontFamily","Arial"),e.Factory.addGetterSetter(p,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(p,"fontStyle",h),e.Factory.addGetterSetter(p,"align","left"),e.Factory.addGetterSetter(p,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(p,"textBaseline","middle"),e.Factory.addGetterSetter(p,"fontVariant",h),e.Factory.addGetterSetter(p,"text",o),e.Factory.addGetterSetter(p,"textDecoration",null),e.Factory.addGetterSetter(p,"kerningFunc",null),Ir}var Gr={},Ao;function jd(){if(Ao)return Gr;Ao=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Transformer=void 0;const t=Tt(),e=ut(),r=Et(),i=Ot(),s=$h(),n=ta(),a=ft(),o=dt(),h=ft();var c="tr-konva",_=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(w=>w+`.${c}`).join(" "),p="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const g="ontouchstart"in a.Konva._global;function y(w,T,x){if(w==="rotater")return x;T+=t.Util.degToRad(v[w]||0);var F=(t.Util.radToDeg(T)%360+360)%360;return t.Util._inRange(F,315+22.5,360)||t.Util._inRange(F,0,22.5)?"ns-resize":t.Util._inRange(F,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(F,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(F,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(F,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(F,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(F,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(F,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+F),"pointer")}var S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],R=1e8;function f(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function l(w,T,x){const F=x.x+(w.x-x.x)*Math.cos(T)-(w.y-x.y)*Math.sin(T),O=x.y+(w.x-x.x)*Math.sin(T)+(w.y-x.y)*Math.cos(T);return{...w,rotation:w.rotation+T,x:F,y:O}}function u(w,T){const x=f(w);return l(w,T,x)}function b(w,T,x){let F=T;for(let O=0;O<w.length;O++){const d=a.Konva.getAngle(w[O]),C=Math.abs(d-T)%(Math.PI*2);Math.min(C,Math.PI*2-C)<x&&(F=d)}return F}let A=class extends n.Group{constructor(T){super(T),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(_,this.update),this.getNode()&&this.update()}attachTo(T){return this.setNode(T),this}setNode(T){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([T])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return c+this._id}setNodes(T=[]){this._nodes&&this._nodes.length&&this.detach();const x=T.filter(O=>O.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=T=x,T.length===1&&this.useSingleNodeRotation()?this.rotation(T[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(O=>{const d=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},C=O._attrsAffectingSize.map(P=>P+"Change."+this._getEventNamespace()).join(" ");O.on(C,d),O.on(m.map(P=>P+`.${this._getEventNamespace()}`).join(" "),d),O.on(`absoluteTransformChange.${this._getEventNamespace()}`,d),this._proxyDrag(O)}),this._resetTransformCache();var F=!!this.findOne(".top-left");return F&&this.update(),this}_proxyDrag(T){let x;T.on(`dragstart.${this._getEventNamespace()}`,F=>{x=T.getAbsolutePosition(),!this.isDragging()&&T!==this.findOne(".back")&&this.startDrag(F,!1)}),T.on(`dragmove.${this._getEventNamespace()}`,F=>{if(!x)return;const O=T.getAbsolutePosition(),d=O.x-x.x,C=O.y-x.y;this.nodes().forEach(P=>{if(P===T||P.isDragging())return;const E=P.getAbsolutePosition();P.setAbsolutePosition({x:E.x+d,y:E.y+C}),P.startDrag(F)}),x=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(T=>{T.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(T,x=this.rotation(),F){var O=T.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=T.getAbsoluteScale(F),C=T.getAbsolutePosition(F),P=O.x*d.x-T.offsetX()*d.x,E=O.y*d.y-T.offsetY()*d.y;const N=(a.Konva.getAngle(T.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),D={x:C.x+P*Math.cos(N)+E*Math.sin(-N),y:C.y+E*Math.cos(N)+P*Math.sin(N),width:O.width*d.x,height:O.height*d.y,rotation:N};return l(D,-a.Konva.getAngle(x),{x:0,y:0})}__getNodeRect(){var T=this.getNode();if(!T)return{x:-R,y:-R,width:0,height:0,rotation:0};const x=[];this.nodes().map(N=>{const D=N.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var G=[{x:D.x,y:D.y},{x:D.x+D.width,y:D.y},{x:D.x+D.width,y:D.y+D.height},{x:D.x,y:D.y+D.height}],U=N.getAbsoluteTransform();G.forEach(function($){var V=U.point($);x.push(V)})});const F=new t.Transform;F.rotate(-a.Konva.getAngle(this.rotation()));var O=1/0,d=1/0,C=-1/0,P=-1/0;x.forEach(function(N){var D=F.point(N);O===void 0&&(O=C=D.x,d=P=D.y),O=Math.min(O,D.x),d=Math.min(d,D.y),C=Math.max(C,D.x),P=Math.max(P,D.y)}),F.invert();const E=F.point({x:O,y:d});return{x:E.x,y:E.y,width:C-O,height:P-d,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(T=>{this._createAnchor(T)}),this._createAnchor("rotater")}_createAnchor(T){var x=new s.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:T+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),F=this;x.on("mousedown touchstart",function(O){F._handleMouseDown(O)}),x.on("dragstart",O=>{x.stopDrag(),O.cancelBubble=!0}),x.on("dragend",O=>{O.cancelBubble=!0}),x.on("mouseenter",()=>{var O=a.Konva.getAngle(this.rotation()),d=this.rotateAnchorCursor(),C=y(T,O,d);x.getStage().content&&(x.getStage().content.style.cursor=C),this._cursorChange=!0}),x.on("mouseout",()=>{x.getStage().content&&(x.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(x)}_createBack(){var T=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(x,F){var O=F.getParent(),d=O.padding();x.beginPath(),x.rect(-d,-d,F.width()+d*2,F.height()+d*2),x.moveTo(F.width()/2,-d),O.rotateEnabled()&&x.lineTo(F.width()/2,-O.rotateAnchorOffset()*t.Util._sign(F.height())-d),x.fillStrokeShape(F)},hitFunc:(x,F)=>{if(this.shouldOverdrawWholeArea()){var O=this.padding();x.beginPath(),x.rect(-O,-O,F.width()+O*2,F.height()+O*2),x.fillStrokeShape(F)}}});this.add(T),this._proxyDrag(T),T.on("dragstart",x=>{x.cancelBubble=!0}),T.on("dragmove",x=>{x.cancelBubble=!0}),T.on("dragend",x=>{x.cancelBubble=!0}),this.on("dragmove",x=>{this.update()})}_handleMouseDown(T){this._movingAnchorName=T.target.name().split(" ")[0];var x=this._getNodeRect(),F=x.width,O=x.height,d=Math.sqrt(Math.pow(F,2)+Math.pow(O,2));this.sin=Math.abs(O/d),this.cos=Math.abs(F/d),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var C=T.target.getAbsolutePosition(),P=T.target.getStage().getPointerPosition();this._anchorDragOffset={x:P.x-C.x,y:P.y-C.y},this._fire("transformstart",{evt:T.evt,target:this.getNode()}),this._nodes.forEach(E=>{E._fire("transformstart",{evt:T.evt,target:E})})}_handleMouseMove(T){var x,F,O,d=this.findOne("."+this._movingAnchorName),C=d.getStage();C.setPointersPositions(T);const P=C.getPointerPosition();let E={x:P.x-this._anchorDragOffset.x,y:P.y-this._anchorDragOffset.y};const N=d.getAbsolutePosition();this.anchorDragBoundFunc()&&(E=this.anchorDragBoundFunc()(N,E,T)),d.setAbsolutePosition(E);const D=d.getAbsolutePosition();if(!(N.x===D.x&&N.y===D.y)){if(this._movingAnchorName==="rotater"){var G=this._getNodeRect();x=d.x()-G.width/2,F=-d.y()+G.height/2;let X=Math.atan2(-F,x)+Math.PI/2;G.height<0&&(X-=Math.PI);var U=a.Konva.getAngle(this.rotation());const Z=U+X,Y=a.Konva.getAngle(this.rotationSnapTolerance()),K=b(this.rotationSnaps(),Z,Y)-G.rotation,it=u(G,K);this._fitNodesInto(it,T);return}var $=this.shiftBehavior(),V;$==="inverted"?V=this.keepRatio()&&!T.shiftKey:$==="none"?V=this.keepRatio():V=this.keepRatio()||T.shiftKey;var L=this.centeredScaling()||T.altKey;if(this._movingAnchorName==="top-left"){if(V){var q=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};O=Math.sqrt(Math.pow(q.x-d.x(),2)+Math.pow(q.y-d.y(),2));var Q=this.findOne(".top-left").x()>q.x?-1:1,tt=this.findOne(".top-left").y()>q.y?-1:1;x=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".top-left").x(q.x-x),this.findOne(".top-left").y(q.y-F)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(d.y());else if(this._movingAnchorName==="top-right"){if(V){var q=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};O=Math.sqrt(Math.pow(d.x()-q.x,2)+Math.pow(q.y-d.y(),2));var Q=this.findOne(".top-right").x()<q.x?-1:1,tt=this.findOne(".top-right").y()>q.y?-1:1;x=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".top-right").x(q.x+x),this.findOne(".top-right").y(q.y-F)}var rt=d.position();this.findOne(".top-left").y(rt.y),this.findOne(".bottom-right").x(rt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(d.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(d.x());else if(this._movingAnchorName==="bottom-left"){if(V){var q=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};O=Math.sqrt(Math.pow(q.x-d.x(),2)+Math.pow(d.y()-q.y,2));var Q=q.x<d.x()?-1:1,tt=d.y()<q.y?-1:1;x=O*this.cos*Q,F=O*this.sin*tt,d.x(q.x-x),d.y(q.y+F)}rt=d.position(),this.findOne(".top-left").x(rt.x),this.findOne(".bottom-right").y(rt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(d.y());else if(this._movingAnchorName==="bottom-right"){if(V){var q=L?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};O=Math.sqrt(Math.pow(d.x()-q.x,2)+Math.pow(d.y()-q.y,2));var Q=this.findOne(".bottom-right").x()<q.x?-1:1,tt=this.findOne(".bottom-right").y()<q.y?-1:1;x=O*this.cos*Q,F=O*this.sin*tt,this.findOne(".bottom-right").x(q.x+x),this.findOne(".bottom-right").y(q.y+F)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var L=this.centeredScaling()||T.altKey;if(L){var B=this.findOne(".top-left"),z=this.findOne(".bottom-right"),lt=B.x(),ot=B.y(),k=this.getWidth()-z.x(),I=this.getHeight()-z.y();z.move({x:-lt,y:-ot}),B.move({x:k,y:I})}var H=this.findOne(".top-left").getAbsolutePosition();x=H.x,F=H.y;var j=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),W=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x,y:F,width:j,height:W,rotation:a.Konva.getAngle(this.rotation())},T)}}_handleMouseUp(T){this._removeEvents(T)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(T){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var x=this.getNode();this._fire("transformend",{evt:T,target:x}),x&&this._nodes.forEach(F=>{F._fire("transformend",{evt:T,target:F})}),this._movingAnchorName=null}}_fitNodesInto(T,x){var F=this._getNodeRect();const O=1;if(t.Util._inRange(T.width,-this.padding()*2-O,O)){this.update();return}if(t.Util._inRange(T.height,-this.padding()*2-O,O)){this.update();return}var d=new t.Transform;if(d.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&T.width<0&&this._movingAnchorName.indexOf("left")>=0){const U=d.point({x:-this.padding()*2,y:0});T.x+=U.x,T.y+=U.y,T.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y}else if(this._movingAnchorName&&T.width<0&&this._movingAnchorName.indexOf("right")>=0){const U=d.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,T.width+=this.padding()*2}if(this._movingAnchorName&&T.height<0&&this._movingAnchorName.indexOf("top")>=0){const U=d.point({x:0,y:-this.padding()*2});T.x+=U.x,T.y+=U.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,T.height+=this.padding()*2}else if(this._movingAnchorName&&T.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const U=d.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=U.x,this._anchorDragOffset.y-=U.y,T.height+=this.padding()*2}if(this.boundBoxFunc()){const U=this.boundBoxFunc()(F,T);U?T=U:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const C=1e7,P=new t.Transform;P.translate(F.x,F.y),P.rotate(F.rotation),P.scale(F.width/C,F.height/C);const E=new t.Transform,N=T.width/C,D=T.height/C;this.flipEnabled()===!1?(E.translate(T.x,T.y),E.rotate(T.rotation),E.translate(T.width<0?T.width:0,T.height<0?T.height:0),E.scale(Math.abs(N),Math.abs(D))):(E.translate(T.x,T.y),E.rotate(T.rotation),E.scale(N,D));const G=E.multiply(P.invert());this._nodes.forEach(U=>{var $;const V=U.getParent().getAbsoluteTransform(),q=U.getTransform().copy();q.translate(U.offsetX(),U.offsetY());const Q=new t.Transform;Q.multiply(V.copy().invert()).multiply(G).multiply(V).multiply(q);const tt=Q.decompose();U.setAttrs(tt),this._fire("transform",{evt:x,target:U}),U._fire("transform",{evt:x,target:U}),($=U.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(t.Util._getRotation(T.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(T,x){this.findOne(T).setAttrs(x)}update(){var T,x=this._getNodeRect();this.rotation(t.Util._getRotation(x.rotation));var F=x.width,O=x.height,d=this.enabledAnchors(),C=this.resizeEnabled(),P=this.padding(),E=this.anchorSize();const N=this.find("._anchor");N.forEach(G=>{G.setAttrs({width:E,height:E,offsetX:E/2,offsetY:E/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:E/2+P,offsetY:E/2+P,visible:C&&d.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:F/2,y:0,offsetY:E/2+P,visible:C&&d.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:F,y:0,offsetX:E/2-P,offsetY:E/2+P,visible:C&&d.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:O/2,offsetX:E/2+P,visible:C&&d.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:F,y:O/2,offsetX:E/2-P,visible:C&&d.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:O,offsetX:E/2+P,offsetY:E/2-P,visible:C&&d.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:F/2,y:O,offsetY:E/2-P,visible:C&&d.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:F,y:O,offsetX:E/2-P,offsetY:E/2-P,visible:C&&d.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:F/2,y:-this.rotateAnchorOffset()*t.Util._sign(O)-P,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:F,height:O,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const D=this.anchorStyleFunc();D&&N.forEach(G=>{D(G)}),(T=this.getLayer())===null||T===void 0||T.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var T=this.findOne("."+this._movingAnchorName);T&&T.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),n.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(T){var x=r.Node.prototype.clone.call(this,T);return x}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Gr.Transformer=A;function M(w){return w instanceof Array||t.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(T){S.indexOf(T)===-1&&t.Util.warn("Unknown anchor name: "+T+". Available names are: "+S.join(", "))}),w||[]}return A.prototype.className="Transformer",(0,h._registerNode)(A),e.Factory.addGetterSetter(A,"enabledAnchors",S,M),e.Factory.addGetterSetter(A,"flipEnabled",!0,(0,o.getBooleanValidator)()),e.Factory.addGetterSetter(A,"resizeEnabled",!0),e.Factory.addGetterSetter(A,"anchorSize",10,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateEnabled",!0),e.Factory.addGetterSetter(A,"rotationSnaps",[]),e.Factory.addGetterSetter(A,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(A,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderEnabled",!0),e.Factory.addGetterSetter(A,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"anchorFill","white"),e.Factory.addGetterSetter(A,"anchorCornerRadius",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"borderStrokeWidth",1,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderDash"),e.Factory.addGetterSetter(A,"keepRatio",!0),e.Factory.addGetterSetter(A,"shiftBehavior","default"),e.Factory.addGetterSetter(A,"centeredScaling",!1),e.Factory.addGetterSetter(A,"ignoreStroke",!1),e.Factory.addGetterSetter(A,"padding",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(A,"node"),e.Factory.addGetterSetter(A,"nodes"),e.Factory.addGetterSetter(A,"boundBoxFunc"),e.Factory.addGetterSetter(A,"anchorDragBoundFunc"),e.Factory.addGetterSetter(A,"anchorStyleFunc"),e.Factory.addGetterSetter(A,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(A,"useSingleNodeRotation",!0),e.Factory.backCompat(A,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Gr}var Ur={},Ro;function Kd(){if(Ro)return Ur;Ro=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Wedge=void 0;const t=ut(),e=Ot(),r=ft(),i=dt(),s=ft();let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Ur.Wedge=n,n.prototype.className="Wedge",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"angle",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clockwise",!1),t.Factory.backCompat(n,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Ur}var Br={},Fo;function qd(){if(Fo)return Br;Fo=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Blur=void 0;const t=ut(),e=Et(),r=dt();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function a(h,c){var _=h.data,p=h.width,m=h.height,v,g,y,S,R,f,l,u,b,A,M,w,T,x,F,O,d,C,P,E,N,D,G,U,$=c+c+1,V=p-1,q=m-1,Q=c+1,tt=Q*(Q+1)/2,rt=new i,L=null,B=rt,z=null,lt=null,ot=s[c],k=n[c];for(y=1;y<$;y++)B=B.next=new i,y===Q&&(L=B);for(B.next=rt,l=f=0,g=0;g<m;g++){for(O=d=C=P=u=b=A=M=0,w=Q*(E=_[f]),T=Q*(N=_[f+1]),x=Q*(D=_[f+2]),F=Q*(G=_[f+3]),u+=tt*E,b+=tt*N,A+=tt*D,M+=tt*G,B=rt,y=0;y<Q;y++)B.r=E,B.g=N,B.b=D,B.a=G,B=B.next;for(y=1;y<Q;y++)S=f+((V<y?V:y)<<2),u+=(B.r=E=_[S])*(U=Q-y),b+=(B.g=N=_[S+1])*U,A+=(B.b=D=_[S+2])*U,M+=(B.a=G=_[S+3])*U,O+=E,d+=N,C+=D,P+=G,B=B.next;for(z=rt,lt=L,v=0;v<p;v++)_[f+3]=G=M*ot>>k,G!==0?(G=255/G,_[f]=(u*ot>>k)*G,_[f+1]=(b*ot>>k)*G,_[f+2]=(A*ot>>k)*G):_[f]=_[f+1]=_[f+2]=0,u-=w,b-=T,A-=x,M-=F,w-=z.r,T-=z.g,x-=z.b,F-=z.a,S=l+((S=v+c+1)<V?S:V)<<2,O+=z.r=_[S],d+=z.g=_[S+1],C+=z.b=_[S+2],P+=z.a=_[S+3],u+=O,b+=d,A+=C,M+=P,z=z.next,w+=E=lt.r,T+=N=lt.g,x+=D=lt.b,F+=G=lt.a,O-=E,d-=N,C-=D,P-=G,lt=lt.next,f+=4;l+=p}for(v=0;v<p;v++){for(d=C=P=O=b=A=M=u=0,f=v<<2,w=Q*(E=_[f]),T=Q*(N=_[f+1]),x=Q*(D=_[f+2]),F=Q*(G=_[f+3]),u+=tt*E,b+=tt*N,A+=tt*D,M+=tt*G,B=rt,y=0;y<Q;y++)B.r=E,B.g=N,B.b=D,B.a=G,B=B.next;for(R=p,y=1;y<=c;y++)f=R+v<<2,u+=(B.r=E=_[f])*(U=Q-y),b+=(B.g=N=_[f+1])*U,A+=(B.b=D=_[f+2])*U,M+=(B.a=G=_[f+3])*U,O+=E,d+=N,C+=D,P+=G,B=B.next,y<q&&(R+=p);for(f=v,z=rt,lt=L,g=0;g<m;g++)S=f<<2,_[S+3]=G=M*ot>>k,G>0?(G=255/G,_[S]=(u*ot>>k)*G,_[S+1]=(b*ot>>k)*G,_[S+2]=(A*ot>>k)*G):_[S]=_[S+1]=_[S+2]=0,u-=w,b-=T,A-=x,M-=F,w-=z.r,T-=z.g,x-=z.b,F-=z.a,S=v+((S=g+Q)<q?S:q)*p<<2,u+=O+=z.r=_[S],b+=d+=z.g=_[S+1],A+=C+=z.b=_[S+2],M+=P+=z.a=_[S+3],z=z.next,w+=E=lt.r,T+=N=lt.g,x+=D=lt.b,F+=G=lt.a,O-=E,d-=N,C-=D,P-=G,lt=lt.next,f+=p}}const o=function(c){var _=Math.round(this.blurRadius());_>0&&a(c,_)};return Br.Blur=o,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Br}var Vr={},Mo;function Wd(){if(Mo)return Vr;Mo=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Brighten=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=this.brightness()*255,a=s.data,o=a.length,h;for(h=0;h<o;h+=4)a[h]+=n,a[h+1]+=n,a[h+2]+=n};return Vr.Brighten=i,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Vr}var Hr={},Oo;function zd(){if(Oo)return Hr;Oo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Contrast=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=Math.pow((this.contrast()+100)/100,2),a=s.data,o=a.length,h=150,c=150,_=150,p;for(p=0;p<o;p+=4)h=a[p],c=a[p+1],_=a[p+2],h/=255,h-=.5,h*=n,h+=.5,h*=255,c/=255,c-=.5,c*=n,c+=.5,c*=255,_/=255,_-=.5,_*=n,_+=.5,_*=255,h=h<0?0:h>255?255:h,c=c<0?0:c>255?255:c,_=_<0?0:_>255?255:_,a[p]=h,a[p+1]=c,a[p+2]=_};return Hr.Contrast=i,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Hr}var jr={},No;function $d(){if(No)return jr;No=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Emboss=void 0;const t=ut(),e=Et(),r=Tt(),i=dt(),s=function(n){var a=this.embossStrength()*10,o=this.embossWhiteLevel()*255,h=this.embossDirection(),c=this.embossBlend(),_=0,p=0,m=n.data,v=n.width,g=n.height,y=v*4,S=g;switch(h){case"top-left":_=-1,p=-1;break;case"top":_=-1,p=0;break;case"top-right":_=-1,p=1;break;case"right":_=0,p=1;break;case"bottom-right":_=1,p=1;break;case"bottom":_=1,p=0;break;case"bottom-left":_=1,p=-1;break;case"left":_=0,p=-1;break;default:r.Util.error("Unknown emboss direction: "+h)}do{var R=(S-1)*y,f=_;S+f<1&&(f=0),S+f>g&&(f=0);var l=(S-1+f)*v*4,u=v;do{var b=R+(u-1)*4,A=p;u+A<1&&(A=0),u+A>v&&(A=0);var M=l+(u-1+A)*4,w=m[b]-m[M],T=m[b+1]-m[M+1],x=m[b+2]-m[M+2],F=w,O=F>0?F:-F,d=T>0?T:-T,C=x>0?x:-x;if(d>O&&(F=T),C>O&&(F=x),F*=a,c){var P=m[b]+F,E=m[b+1]+F,N=m[b+2]+F;m[b]=P>255?255:P<0?0:P,m[b+1]=E>255?255:E<0?0:E,m[b+2]=N>255?255:N<0?0:N}else{var D=o-F;D<0?D=0:D>255&&(D=255),m[b]=m[b+1]=m[b+2]=D}}while(--u)}while(--S)};return jr.Emboss=s,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),jr}var Kr={},ko;function Yd(){if(ko)return Kr;ko=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Enhance=void 0;const t=ut(),e=Et(),r=dt();function i(n,a,o,h,c){var _=o-a,p=c-h,m;return _===0?h+p/2:p===0?h:(m=(n-a)/_,m=p*m+h,m)}const s=function(n){var a=n.data,o=a.length,h=a[0],c=h,_,p=a[1],m=p,v,g=a[2],y=g,S,R,f=this.enhance();if(f!==0){for(R=0;R<o;R+=4)_=a[R+0],_<h?h=_:_>c&&(c=_),v=a[R+1],v<p?p=v:v>m&&(m=v),S=a[R+2],S<g?g=S:S>y&&(y=S);c===h&&(c=255,h=0),m===p&&(m=255,p=0),y===g&&(y=255,g=0);var l,u,b,A,M,w,T,x,F;for(f>0?(u=c+f*(255-c),b=h-f*(h-0),M=m+f*(255-m),w=p-f*(p-0),x=y+f*(255-y),F=g-f*(g-0)):(l=(c+h)*.5,u=c+f*(c-l),b=h+f*(h-l),A=(m+p)*.5,M=m+f*(m-A),w=p+f*(p-A),T=(y+g)*.5,x=y+f*(y-T),F=g+f*(g-T)),R=0;R<o;R+=4)a[R+0]=i(a[R+0],h,c,b,u),a[R+1]=i(a[R+1],p,m,w,M),a[R+2]=i(a[R+2],g,y,F,x)}};return Kr.Enhance=s,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Kr}var qr={},Lo;function Xd(){if(Lo)return qr;Lo=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Grayscale=void 0;const t=function(e){var r=e.data,i=r.length,s,n;for(s=0;s<i;s+=4)n=.34*r[s]+.5*r[s+1]+.16*r[s+2],r[s]=n,r[s+1]=n,r[s+2]=n};return qr.Grayscale=t,qr}var Wr={},Do;function Jd(){if(Do)return Wr;Do=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.HSL=void 0;const t=ut(),e=Et(),r=dt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter);const i=function(s){var n=s.data,a=n.length,o=1,h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,_=this.luminance()*127,p,m=o*h*Math.cos(c*Math.PI/180),v=o*h*Math.sin(c*Math.PI/180),g=.299*o+.701*m+.167*v,y=.587*o-.587*m+.33*v,S=.114*o-.114*m-.497*v,R=.299*o-.299*m-.328*v,f=.587*o+.413*m+.035*v,l=.114*o-.114*m+.293*v,u=.299*o-.3*m+1.25*v,b=.587*o-.586*m-1.05*v,A=.114*o+.886*m-.2*v,M,w,T,x;for(p=0;p<a;p+=4)M=n[p+0],w=n[p+1],T=n[p+2],x=n[p+3],n[p+0]=g*M+y*w+S*T+_,n[p+1]=R*M+f*w+l*T+_,n[p+2]=u*M+b*w+A*T+_,n[p+3]=x};return Wr.HSL=i,Wr}var zr={},Io;function Qd(){if(Io)return zr;Io=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.HSV=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=s.data,a=n.length,o=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,_,p=o*h*Math.cos(c*Math.PI/180),m=o*h*Math.sin(c*Math.PI/180),v=.299*o+.701*p+.167*m,g=.587*o-.587*p+.33*m,y=.114*o-.114*p-.497*m,S=.299*o-.299*p-.328*m,R=.587*o+.413*p+.035*m,f=.114*o-.114*p+.293*m,l=.299*o-.3*p+1.25*m,u=.587*o-.586*p-1.05*m,b=.114*o+.886*p-.2*m,A,M,w,T;for(_=0;_<a;_+=4)A=n[_+0],M=n[_+1],w=n[_+2],T=n[_+3],n[_+0]=v*A+g*M+y*w,n[_+1]=S*A+R*M+f*w,n[_+2]=l*A+u*M+b*w,n[_+3]=T};return zr.HSV=i,t.Factory.addGetterSetter(e.Node,"hue",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),zr}var $r={},Go;function Zd(){if(Go)return $r;Go=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.Invert=void 0;const t=function(e){var r=e.data,i=r.length,s;for(s=0;s<i;s+=4)r[s]=255-r[s],r[s+1]=255-r[s+1],r[s+2]=255-r[s+2]};return $r.Invert=t,$r}var Yr={},Uo;function t0(){if(Uo)return Yr;Uo=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Kaleidoscope=void 0;const t=ut(),e=Et(),r=Tt(),i=dt();var s=function(o,h,c){var _=o.data,p=h.data,m=o.width,v=o.height,g=c.polarCenterX||m/2,y=c.polarCenterY||v/2,S,R,f,l=0,u=0,b=0,A=0,M,w=Math.sqrt(g*g+y*y);R=m-g,f=v-y,M=Math.sqrt(R*R+f*f),w=M>w?M:w;var T=v,x=m,F,O,d=360/x*Math.PI/180,C,P;for(O=0;O<x;O+=1)for(C=Math.sin(O*d),P=Math.cos(O*d),F=0;F<T;F+=1)R=Math.floor(g+w*F/T*P),f=Math.floor(y+w*F/T*C),S=(f*m+R)*4,l=_[S+0],u=_[S+1],b=_[S+2],A=_[S+3],S=(O+F*m)*4,p[S+0]=l,p[S+1]=u,p[S+2]=b,p[S+3]=A},n=function(o,h,c){var _=o.data,p=h.data,m=o.width,v=o.height,g=c.polarCenterX||m/2,y=c.polarCenterY||v/2,S,R,f,l,u,b=0,A=0,M=0,w=0,T,x=Math.sqrt(g*g+y*y);R=m-g,f=v-y,T=Math.sqrt(R*R+f*f),x=T>x?T:x;var F=v,O=m,d,C,P=c.polarRotation||0,E,N;for(R=0;R<m;R+=1)for(f=0;f<v;f+=1)l=R-g,u=f-y,d=Math.sqrt(l*l+u*u)*F/x,C=(Math.atan2(u,l)*180/Math.PI+360+P)%360,C=C*O/360,E=Math.floor(C),N=Math.floor(d),S=(N*m+E)*4,b=_[S+0],A=_[S+1],M=_[S+2],w=_[S+3],S=(f*m+R)*4,p[S+0]=b,p[S+1]=A,p[S+2]=M,p[S+3]=w};const a=function(o){var h=o.width,c=o.height,_,p,m,v,g,y,S,R,f,l,u=Math.round(this.kaleidoscopePower()),b=Math.round(this.kaleidoscopeAngle()),A=Math.floor(h*(b%360)/360);if(!(u<1)){var M=r.Util.createCanvasElement();M.width=h,M.height=c;var w=M.getContext("2d").getImageData(0,0,h,c);r.Util.releaseCanvas(M),s(o,w,{polarCenterX:h/2,polarCenterY:c/2});for(var T=h/Math.pow(2,u);T<=8;)T=T*2,u-=1;T=Math.ceil(T);var x=T,F=0,O=x,d=1;for(A+T>h&&(F=x,O=0,d=-1),p=0;p<c;p+=1)for(_=F;_!==O;_+=d)m=Math.round(_+A)%h,f=(h*p+m)*4,g=w.data[f+0],y=w.data[f+1],S=w.data[f+2],R=w.data[f+3],l=(h*p+_)*4,w.data[l+0]=g,w.data[l+1]=y,w.data[l+2]=S,w.data[l+3]=R;for(p=0;p<c;p+=1)for(x=Math.floor(T),v=0;v<u;v+=1){for(_=0;_<x+1;_+=1)f=(h*p+_)*4,g=w.data[f+0],y=w.data[f+1],S=w.data[f+2],R=w.data[f+3],l=(h*p+x*2-_-1)*4,w.data[l+0]=g,w.data[l+1]=y,w.data[l+2]=S,w.data[l+3]=R;x*=2}n(w,o,{polarRotation:0})}};return Yr.Kaleidoscope=a,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Yr}var Xr={},Bo;function e0(){if(Bo)return Xr;Bo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Mask=void 0;const t=ut(),e=Et(),r=dt();function i(m,v,g){var y=(g*m.width+v)*4,S=[];return S.push(m.data[y++],m.data[y++],m.data[y++],m.data[y++]),S}function s(m,v){return Math.sqrt(Math.pow(m[0]-v[0],2)+Math.pow(m[1]-v[1],2)+Math.pow(m[2]-v[2],2))}function n(m){for(var v=[0,0,0],g=0;g<m.length;g++)v[0]+=m[g][0],v[1]+=m[g][1],v[2]+=m[g][2];return v[0]/=m.length,v[1]/=m.length,v[2]/=m.length,v}function a(m,v){var g=i(m,0,0),y=i(m,m.width-1,0),S=i(m,0,m.height-1),R=i(m,m.width-1,m.height-1),f=v||10;if(s(g,y)<f&&s(y,R)<f&&s(R,S)<f&&s(S,g)<f){for(var l=n([y,g,R,S]),u=[],b=0;b<m.width*m.height;b++){var A=s(l,[m.data[b*4],m.data[b*4+1],m.data[b*4+2]]);u[b]=A<f?0:255}return u}}function o(m,v){for(var g=0;g<m.width*m.height;g++)m.data[4*g+3]=v[g]}function h(m,v,g){for(var y=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(y.length)),R=Math.floor(S/2),f=[],l=0;l<g;l++)for(var u=0;u<v;u++){for(var b=l*v+u,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var T=l+M-R,x=u+w-R;if(T>=0&&T<g&&x>=0&&x<v){var F=T*v+x,O=y[M*S+w];A+=m[F]*O}}f[b]=A===255*8?255:0}return f}function c(m,v,g){for(var y=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(y.length)),R=Math.floor(S/2),f=[],l=0;l<g;l++)for(var u=0;u<v;u++){for(var b=l*v+u,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var T=l+M-R,x=u+w-R;if(T>=0&&T<g&&x>=0&&x<v){var F=T*v+x,O=y[M*S+w];A+=m[F]*O}}f[b]=A>=255*4?255:0}return f}function _(m,v,g){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(y.length)),R=Math.floor(S/2),f=[],l=0;l<g;l++)for(var u=0;u<v;u++){for(var b=l*v+u,A=0,M=0;M<S;M++)for(var w=0;w<S;w++){var T=l+M-R,x=u+w-R;if(T>=0&&T<g&&x>=0&&x<v){var F=T*v+x,O=y[M*S+w];A+=m[F]*O}}f[b]=A}return f}const p=function(m){var v=this.threshold(),g=a(m,v);return g&&(g=h(g,m.width,m.height),g=c(g,m.width,m.height),g=_(g,m.width,m.height),o(m,g)),m};return Xr.Mask=p,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Xr}var Jr={},Vo;function r0(){if(Vo)return Jr;Vo=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Noise=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=this.noise()*255,a=s.data,o=a.length,h=n/2,c;for(c=0;c<o;c+=4)a[c+0]+=h-2*h*Math.random(),a[c+1]+=h-2*h*Math.random(),a[c+2]+=h-2*h*Math.random()};return Jr.Noise=i,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Jr}var Qr={},Ho;function i0(){if(Ho)return Qr;Ho=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Pixelate=void 0;const t=ut(),e=Tt(),r=Et(),i=dt(),s=function(n){var a=Math.ceil(this.pixelSize()),o=n.width,h=n.height,c,_,p,m,v,g,y,S=Math.ceil(o/a),R=Math.ceil(h/a),f,l,u,b,A,M,w,T=n.data;if(a<=0){e.Util.error("pixelSize value can not be <= 0");return}for(A=0;A<S;A+=1)for(M=0;M<R;M+=1){for(m=0,v=0,g=0,y=0,f=A*a,l=f+a,u=M*a,b=u+a,w=0,c=f;c<l;c+=1)if(!(c>=o))for(_=u;_<b;_+=1)_>=h||(p=(o*_+c)*4,m+=T[p+0],v+=T[p+1],g+=T[p+2],y+=T[p+3],w+=1);for(m=m/w,v=v/w,g=g/w,y=y/w,c=f;c<l;c+=1)if(!(c>=o))for(_=u;_<b;_+=1)_>=h||(p=(o*_+c)*4,T[p+0]=m,T[p+1]=v,T[p+2]=g,T[p+3]=y)}};return Qr.Pixelate=s,t.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Qr}var Zr={},jo;function n0(){if(jo)return Zr;jo=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Posterize=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=Math.round(this.levels()*254)+1,a=s.data,o=a.length,h=255/n,c;for(c=0;c<o;c+=1)a[c]=Math.floor(a[c]/h)*h};return Zr.Posterize=i,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Zr}var ti={},Ko;function s0(){if(Ko)return ti;Ko=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.RGB=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=s.data,a=n.length,o=this.red(),h=this.green(),c=this.blue(),_,p;for(_=0;_<a;_+=4)p=(.34*n[_]+.5*n[_+1]+.16*n[_+2])/255,n[_]=p*o,n[_+1]=p*h,n[_+2]=p*c,n[_+3]=n[_+3]};return ti.RGB=i,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),ti}var ei={},qo;function a0(){if(qo)return ei;qo=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.RGBA=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=s.data,a=n.length,o=this.red(),h=this.green(),c=this.blue(),_=this.alpha(),p,m;for(p=0;p<a;p+=4)m=1-_,n[p]=o*_+n[p]*m,n[p+1]=h*_+n[p+1]*m,n[p+2]=c*_+n[p+2]*m};return ei.RGBA=i,t.Factory.addGetterSetter(e.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)}),t.Factory.addGetterSetter(e.Node,"blue",0,r.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s}),ei}var ri={},Wo;function o0(){if(Wo)return ri;Wo=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Sepia=void 0;const t=function(e){var r=e.data,i=r.length,s,n,a,o;for(s=0;s<i;s+=4)n=r[s+0],a=r[s+1],o=r[s+2],r[s+0]=Math.min(255,n*.393+a*.769+o*.189),r[s+1]=Math.min(255,n*.349+a*.686+o*.168),r[s+2]=Math.min(255,n*.272+a*.534+o*.131)};return ri.Sepia=t,ri}var ii={},zo;function l0(){if(zo)return ii;zo=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Solarize=void 0;const t=function(e){var r=e.data,i=e.width,s=e.height,n=i*4,a=s;do{var o=(a-1)*n,h=i;do{var c=o+(h-1)*4,_=r[c],p=r[c+1],m=r[c+2];_>127&&(_=255-_),p>127&&(p=255-p),m>127&&(m=255-m),r[c]=_,r[c+1]=p,r[c+2]=m}while(--h)}while(--a)};return ii.Solarize=t,ii}var ni={},$o;function h0(){if($o)return ni;$o=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Threshold=void 0;const t=ut(),e=Et(),r=dt(),i=function(s){var n=this.threshold()*255,a=s.data,o=a.length,h;for(h=0;h<o;h+=1)a[h]=a[h]<n?0:255};return ni.Threshold=i,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),ni}var Yo;function c0(){if(Yo)return mr;Yo=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.Konva=void 0;const t=Fd(),e=Md(),r=Nd(),i=kd(),s=Ld(),n=Dd(),a=Id(),o=Wh(),h=ra(),c=$h(),_=Gd(),p=Ud(),m=Bd(),v=Vd(),g=Yh(),y=Hd(),S=jd(),R=Kd(),f=qd(),l=Wd(),u=zd(),b=$d(),A=Yd(),M=Xd(),w=Jd(),T=Qd(),x=Zd(),F=t0(),O=e0(),d=r0(),C=i0(),P=n0(),E=s0(),N=a0(),D=o0(),G=l0(),U=h0();return mr.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:s.Ellipse,Image:n.Image,Label:a.Label,Tag:a.Tag,Line:o.Line,Path:h.Path,Rect:c.Rect,RegularPolygon:_.RegularPolygon,Ring:p.Ring,Sprite:m.Sprite,Star:v.Star,Text:g.Text,TextPath:y.TextPath,Transformer:S.Transformer,Wedge:R.Wedge,Filters:{Blur:f.Blur,Brighten:l.Brighten,Contrast:u.Contrast,Emboss:b.Emboss,Enhance:A.Enhance,Grayscale:M.Grayscale,HSL:w.HSL,HSV:T.HSV,Invert:x.Invert,Kaleidoscope:F.Kaleidoscope,Mask:O.Mask,Noise:d.Noise,Pixelate:C.Pixelate,Posterize:P.Posterize,RGB:E.RGB,RGBA:N.RGBA,Sepia:D.Sepia,Solarize:G.Solarize,Threshold:U.Threshold}}),mr}var u0=Ji.exports,Xo;function f0(){if(Xo)return Ji.exports;Xo=1,Object.defineProperty(u0,"__esModule",{value:!0});const t=c0();return Ji.exports=t.Konva,Ji.exports}/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(i,s){t.exports=s(Td,f0())})(ms,function(r,i){return function(s){var n={};function a(o){if(n[o])return n[o].exports;var h=n[o]={i:o,l:!1,exports:{}};return s[o].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=s,a.c=n,a.d=function(o,h,c){a.o(o,h)||Object.defineProperty(o,h,{enumerable:!0,get:c})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,h){if(h&1&&(o=a(o)),h&8||h&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),h&2&&typeof o!="string")for(var _ in o)a.d(c,_,(function(p){return o[p]}).bind(null,_));return c},a.n=function(o){var h=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(h,"a",h),h},a.o=function(o,h){return Object.prototype.hasOwnProperty.call(o,h)},a.p="",a(a.s=2)}([function(s,n){s.exports=r},function(s,n){s.exports=i},function(s,n,a){s.exports=a(3)},function(s,n,a){a.r(n);var o=a(0),h=a(1),c=a.n(h);function _(d){if(!c.a.autoDrawEnabled){var C=d.getLayer()||d.getStage();C&&C.batchDraw()}}var p={key:!0,style:!0,elm:!0,isRootInsert:!0},m=".vue-konva-event";function v(d,C,P,E){C===void 0&&(C={}),P===void 0&&(P={});var N=d.__konvaNode,D={},G=!1;for(var U in P)if(!p[U]){var $=U.slice(0,2)==="on",V=P[U]!==C[U];if($&&V){var q=U.substr(2).toLowerCase();q.substr(0,7)==="content"&&(q="content"+q.substr(7,1).toUpperCase()+q.substr(8)),N.off(q+m,P[U])}var Q=!C.hasOwnProperty(U);Q&&N.setAttr(U,void 0)}for(var tt in C)if(!p[tt]){var rt=tt.slice(0,2)==="on",L=P[tt]!==C[tt];if(rt&&L){var B=tt.substr(2).toLowerCase();B.substr(0,7)==="content"&&(B="content"+B.substr(7,1).toUpperCase()+B.substr(8)),C[tt]&&(N.off(B+m),N.on(B+m,C[tt]))}!rt&&(C[tt]!==P[tt]||E&&C[tt]!==N.getAttr(tt))&&(G=!0,D[tt]=C[tt])}G&&(N.setAttrs(D),_(N))}var g="v";function y(d){function C(P){return P.__konvaNode?P:P.parent?C(P.parent):(console.error("vue-konva error: Can not find parent node"),{})}return C(d.parent)}function S(d){if(d!=null&&d.component)return d.component.__konvaNode||S(d.component.subTree)}function R(d){var C=d.el,P=d.component,E=S(d);if(C!=null&&C.tagName&&P&&!E){var N=C&&C.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+N+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return E}function f(d){var C=[];return d.children&&d.children.forEach(function(P){!P.component&&Array.isArray(P.children)&&P.children.forEach(function(E){!E.component&&Array.isArray(E.children)?C.push.apply(C,E.children):C.push(E)}),P.component&&C.push(P)}),C}function l(d,C){var P=f(d),E=[];P.forEach(function(D){var G=R(D);G&&E.push(G)});var N=!1;E.forEach(function(D,G){D.getZIndex()!==G&&(D.setZIndex(G),N=!0)}),N&&_(C)}function u(){return u=Object.assign||function(d){for(var C=1;C<arguments.length;C++){var P=arguments[C];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}return d},u.apply(this,arguments)}var b={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(C,P){var E=P.attrs,N=P.slots,D=P.expose;P.emits;var G=Object(o.getCurrentInstance)(),U=Object(o.reactive)({}),$=Object(o.ref)(null),V=new window.Konva.Stage({width:C.config.width,height:C.config.height,container:document.createElement("div")});G.__konvaNode=V,tt();function q(){return G.__konvaNode}function Q(){return G.__konvaNode}function tt(){var rt=U||{},L=u({},E,C.config);v(G,L,rt,C.__useStrictMode),Object.assign(U,L)}return Object(o.onMounted)(function(){$.value.innerHTML="",V.container($.value),tt()}),Object(o.onUpdated)(function(){tt(),l(G.subTree,V)}),Object(o.onBeforeUnmount)(function(){V.destroy()}),Object(o.watch)(function(){return C.config},tt,{deep:!0}),D({getStage:Q,getNode:q}),function(){var rt;return Object(o.h)("div",{ref:$},(rt=N.default)===null||rt===void 0?void 0:rt.call(N))}}};function A(){return A=Object.assign||function(d){for(var C=1;C<arguments.length;C++){var P=arguments[C];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}return d},A.apply(this,arguments)}var M=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},T=function(d){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(P,E){var N=E.attrs,D=E.slots,G=E.expose,U=Object(o.getCurrentInstance)(),$=Object(o.reactive)({}),V=window.Konva[d];if(!V){console.error("vue-konva error: Can not find node "+d);return}var q=new V;U.__konvaNode=q,U.vnode.__konvaNode=q,rt();function Q(){return U.__konvaNode}function tt(){return U.__konvaNode}function rt(){var B={};for(var z in U.vnode.props)z.slice(0,2)==="on"&&(B[z]=U.vnode.props[z]);var lt=$||{},ot=A({},N,P.config,B);v(U,ot,lt,P.__useStrictMode),Object.assign($,ot)}Object(o.onMounted)(function(){var B=y(U).__konvaNode;B.add(q),_(q)}),Object(o.onUnmounted)(function(){_(q),q.destroy(),q.off(M)}),Object(o.onUpdated)(function(){rt(),l(U.subTree,q)}),Object(o.watch)(function(){return P.config},rt,{deep:!0}),G({getStage:tt,getNode:Q});var L=w[d];return L?function(){var B;return Object(o.h)("template",{},(B=D.default)===null||B===void 0?void 0:B.call(D))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var x=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],F=[{name:"Stage",component:b}].concat(x.map(function(d){return{name:d,component:T(d)}})),O={install:function(C,P){var E=g;P&&P.prefix&&(E=P.prefix),F.forEach(function(N){C.component(""+E+N.name,N.component)})}};n.default=O}]).default})})(Hh);var d0=Hh.exports;const g0=xd(d0);let Xh=Vh("rideServiceStore",{state(){return{speed:0}}}),p0=Vh("tourServiceStore",{state(){return{averageSpeed:0}}});const v0={__name:"Cobi",setup(t){let e=Xh(),r=p0();return COBI.init("token — can by anything right now"),COBI.rideService.speed.subscribe(function(i){e.speed=Number((i*3.6).toFixed(1))}),COBI.tourService.averageSpeed.subscribe(function(i){r.averageSpeed=Number((i*3.6).toFixed(1))}),()=>{}}},Li=(t,e)=>{const r=t.__vccOpts||t;for(const[i,s]of e)r[i]=s;return r},_0={data(){return{configKonva:{width:200,height:200},configCircle:{x:100,y:100,radius:70,fill:"DD1155"}}}};function m0(t,e,r,i,s,n){const a=Pe("v-circle"),o=Pe("v-layer"),h=Pe("v-stage");return de(),Ni(h,{config:s.configKonva},{default:bi(()=>[mt(o,null,{default:bi(()=>[mt(a,{config:s.configCircle},null,8,["config"])]),_:1})]),_:1},8,["config"])}const y0=Li(_0,[["render",m0]]);const b0={id:"speed"},S0={__name:"Speed",setup(t){let e=Xh();return(r,i)=>(de(),En("div",b0,[ki(tl(_n(e).speed)+" ",1),mt(y0)]))}},C0=Li(S0,[["__scopeId","data-v-86a6897a"]]);const w0={components:{Speed:C0}},x0={id:"on-ride"};function P0(t,e,r,i,s,n){const a=Pe("speed");return de(),En("div",x0,[ki(" ON "),mt(a)])}const T0=Li(w0,[["render",P0],["__scopeId","data-v-9889ae12"]]),E0={components:{OnRide:T0}};function A0(t,e,r,i,s,n){const a=Pe("on-ride");return de(),Ni(a)}const R0=Li(E0,[["render",A0]]),F0={components:{Views:R0,Cobi:v0}};function M0(t,e,r,i,s,n){const a=Pe("cobi"),o=Pe("views");return de(),En(Ft,null,[mt(a),mt(o)],64)}const O0=Li(F0,[["render",M0]]),ia=Lh(O0);ia.use(g0);ia.use(md());ia.mount("#app");
